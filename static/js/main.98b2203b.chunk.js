(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{102:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="item",a="marker"},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r,a=n(0),i=n(2),o=n(56),c=n(57),s=n(653),u=n(14),l=Object(c.a)(s.a)(r||(r=Object(o.a)(["\n  display: block !important;\n  margin: 0 auto !important;\n  background-color: var(--title-text-color) !important;\n  min-width: 120px !important;\n  font-size: 1em !important;\n"]))),p=function(e){var t=e.onMint;return Object(u.jsx)(l,{disabled:!1,onClick:Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Minting..."),e.next=3,t();case 3:case"end":return e.stop()}}),e)}))),variant:"contained",children:"as tribute for your team; become winner @ some tokenz"})}},186:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="matches"},354:function(e,t,n){"use strict";(function(e){var r,a,i,o,c,s,u,l,p,b,d,m,f,h,y=n(12),g=n(20),j=n(13),O=n(9),v=n(56),x=n(0),k=n(2),w=n(1),M=n(57),S=(n(355),n(16)),P=n(369),T=n(137),K=n(103),A=n.n(K),B=n(3),E=n(185),C=n(234),I=n(182),R=n(360),N=n(373),D=n(658),F=n(654),z=n(374),V=n(659),U=n(655),W=n(656),Z=n(138),Y=n(38),L=n(14),J={AD1bo7F21Cy8sfUkYXEBLJTTXA7Z8NREwMX1pZBgLakq:"LEO",Fq1ZUCxZYWcEJdtN48zmhMkpVYCYCBSrnNU351PFZwCG:"gamin",EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:"USDC","8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh":"COPE","8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA":"GRAPE",PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x:"PRISM",openDKyuDPS6Ak1BuD3JtvkQGV3tzCxjpHUfe1mdC79:"OPEN"},G={AD1bo7F21Cy8sfUkYXEBLJTTXA7Z8NREwMX1pZBgLakq:9,Fq1ZUCxZYWcEJdtN48zmhMkpVYCYCBSrnNU351PFZwCG:9,EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:6,"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh":6,"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA":6,PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x:6,openDKyuDPS6Ak1BuD3JtvkQGV3tzCxjpHUfe1mdC79:9},q=function(){var t=Object(k.a)(Object(x.a)().mark((function t(n,r){return Object(x.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.PublicKey.findProgramAddress([e.from("matches"),r.toBuffer(),n.toBuffer()],_);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),_=new S.web3.PublicKey("mtchsiT6WoLQ62fwCoiHMCfXJzogtfru4ovY8tXKrjJ"),H=new B.PublicKey("H3QZjfiZLQdREFQxSjBxezSfiUvNFEPmnoWVi4R6dLnd"),X=("mainnet-beta".toString(),M.a.div(r||(r=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: right;\n"])))),Q=(M.a.div(a||(a=Object(v.a)(["\n  color: black;\n  width: auto;\n  padding: 5px 5px 5px 16px;\n  min-width: 48px;\n  min-height: auto;\n  border-radius: 22px;\n  background-color: var(--main-text-color);\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\n  box-sizing: border-box;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  font-weight: 500;\n  line-height: 1.75;\n  text-transform: uppercase;\n  border: 0;\n  margin: 0;\n  display: inline-flex;\n  outline: 0;\n  position: relative;\n  align-items: center;\n  user-select: none;\n  vertical-align: middle;\n  justify-content: flex-start;\n  gap: 10px;\n"]))),M.a.ul(i||(i=Object(v.a)(["\n  flex: 0 0 auto;\n  margin: 0;\n  padding: 0;\n"])))),$=Object(M.a)(I.b)(o||(o=Object(v.a)(["\n  border-radius: 18px !important;\n  padding: 6px 16px;\n  background-color: #4E44CE;\n  margin: 0 auto;\n"]))),ee=Object(M.a)(N.a)(c||(c=Object(v.a)(["\n  min-width: 500px;\n  margin: 0 auto;\n  padding: 5px 20px 20px 20px;\n  flex: 1 1 auto;\n  background-color: var(--card-background-color) !important;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22) !important;\n"]))),te=(Object(M.a)(N.a)(s||(s=Object(v.a)(["\n  display: inline-block;\n  background-color: var(--countdown-background-color) !important;\n  margin: 5px;\n  min-width: 40px;\n  padding: 24px;\n\n  h1 {\n    margin: 0px;\n  }\n"]))),M.a.div(u||(u=Object(v.a)(["\n  button.MuiButton-contained:not(.MuiButton-containedPrimary).Mui-disabled {\n    color: #464646;\n  }\n\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):hover,\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):focus {\n    -webkit-animation: pulse 1s;\n    animation: pulse 1s;\n    box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\n  }\n\n  @-webkit-keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n"])))),ne=M.a.a(l||(l=Object(v.a)(["\n  color: var(--title-text-color);\n  border-bottom: 1px solid var(--title-text-color);\n  font-weight: bold;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: none;\n  outline: none;\n  text-decoration: none;\n  text-size-adjust: 100%;\n\n  :hover {\n    border-bottom: 2px solid var(--title-text-color);\n  }\n"]))),re=M.a.div(p||(p=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-right: 4%;\n  margin-left: 4%;\n  text-align: center;\n  justify-content: center;\n"]))),ae=M.a.div(b||(b=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1 1 auto;\n  flex-wrap: wrap;\n  gap: 20px;\n"]))),ie=M.a.div(d||(d=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  gap: 20px;\n"]))),oe=Object(M.a)(D.a)(m||(m=Object(v.a)(["\n  position: absolute;\n  margin: 5px;\n  font-weight: bold;\n  font-size: 1.2em !important;\n  font-family: 'Patrick Hand', cursive !important;\n"]))),ce=M.a.img(f||(f=Object(v.a)(["\n  height: 400px;\n  width: auto;\n  border-radius: 7px;\n  box-shadow: 5px 5px 40px 5px rgba(0, 0, 0, 0.5);\n"]))),se=(Object(M.a)(F.a)(h||(h=Object(v.a)(["\n  margin: 20px;\n  height: 10px !important;\n  border-radius: 30px;\n  border: 2px solid white;\n  box-shadow: 5px 5px 40px 5px rgba(0, 0, 0, 0.5);\n  background-color: var(--main-text-color) !important;\n\n  > div.MuiLinearProgress-barColorPrimary {\n    background-color: var(--title-text-color) !important;\n  }\n\n  > div.MuiLinearProgress-bar1Determinate {\n    border-radius: 30px !important;\n    background-image: linear-gradient(270deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.5));\n  }\n"]))),!0);t.a=function(e){var t=Object(E.b)().sendTransaction,n=Object(w.useState)((new Date).getTime()-1),r=Object(O.a)(n,2),a=r[0],i=r[1],o=Object(w.useState)(0),c=Object(O.a)(o,2),s=c[0],u=c[1],l=Object(w.useState)(),p=Object(O.a)(l,2),b=p[0],d=p[1],m=Object(w.useState)(0),f=Object(O.a)(m,2),h=f[0],v=f[1],M=Object(w.useState)(!1),K=Object(O.a)(M,2),I=(K[0],K[1]),N=Object(w.useState)(!1),D=Object(O.a)(N,2),F=D[0],ue=(D[1],Object(w.useState)("")),le=Object(O.a)(ue,2),pe=le[0],be=(le[1],Object(w.useState)(0)),de=Object(O.a)(be,2),me=(de[0],de[1],Object(w.useState)(0)),fe=Object(O.a)(me,2),he=(fe[0],fe[1],Object(w.useState)(0)),ye=Object(O.a)(he,2),ge=(ye[0],ye[1],Object(w.useState)(!1)),je=Object(O.a)(ge,2),Oe=(je[0],je[1],Object(w.useState)(!1)),ve=Object(O.a)(Oe,2),xe=(ve[0],ve[1],Object(w.useState)(0)),ke=Object(O.a)(xe,2),we=ke[0],Me=(ke[1],Object(w.useState)("SOL")),Se=Object(O.a)(Me,2),Pe=Se[0],Te=(Se[1],Object(w.useState)(0)),Ke=Object(O.a)(Te,2),Ae=Ke[0],Be=(Ke[1],Object(w.useState)(!1)),Ee=Object(O.a)(Be,2),Ce=Ee[0],Ie=(Ee[1],Object(w.useState)(!1)),Re=Object(O.a)(Ie,2),Ne=(Re[0],Re[1],Object(w.useState)(0)),De=Object(O.a)(Ne,2),Fe=De[0],ze=(De[1],Object(w.useState)(!1)),Ve=Object(O.a)(ze,2),Ue=(Ve[0],Ve[1]),We=Object(w.useState)(),Ze=Object(O.a)(We,2),Ye=(Ze[0],Ze[1],Object(w.useState)(!1)),Le=Object(O.a)(Ye,2),Je=(Le[0],Le[1],Object(w.useState)(!1)),Ge=Object(O.a)(Je,2),qe=(Ge[0],Ge[1],Object(w.useState)("")),_e=Object(O.a)(qe,2),He=_e[0],Xe=_e[1],Qe=Object(C.b)().connection,$e=Object(E.b)(),et=Object(w.useState)({open:!1,message:"",severity:void 0}),tt=Object(O.a)(et,2),nt=tt[0],rt=tt[1],at=Object(w.useState)(!0),it=Object(O.a)(at,2),ot=(it[0],it[1],e.rpcHost,Object(w.useMemo)((function(){if($e&&$e.publicKey&&$e.signAllTransactions&&$e.signTransaction)return{publicKey:$e.publicKey,signAllTransactions:$e.signAllTransactions,signTransaction:$e.signTransaction}}),[$e]));var ct=function(){var e=Object(k.a)(Object(x.a)().mark((function e(){var n,r,a,i,o,c,s,u,l,p,b,d,m,f,y,g,O,v,k,w,M,T,K,E=arguments;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.length>0&&void 0!==E[0]?E[0]:[],E.length>1&&void 0!==E[1]?E[1]:[],!$e.connected||!$e.publicKey){e.next=113;break}return I(!0),n=new S.Provider(Qe,ot,{preflightCommitment:"processed"}),r={version:"0.1.0",name:"matches",instructions:[{name:"createOrUpdateOracle",accounts:[{name:"oracle",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"args",type:{defined:"CreateOrUpdateOracleArgs"}}]},{name:"createMatch",accounts:[{name:"matchInstance",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"args",type:{defined:"CreateMatchArgs"}}]},{name:"updateMatch",accounts:[{name:"matchInstance",isMut:!0,isSigner:!1},{name:"winOracle",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"args",type:{defined:"UpdateMatchArgs"}}]},{name:"updateMatchFromOracle",accounts:[{name:"matchInstance",isMut:!0,isSigner:!1},{name:"winOracle",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[]},{name:"drainOracle",accounts:[{name:"matchInstance",isMut:!1,isSigner:!1},{name:"oracle",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0},{name:"receiver",isMut:!0,isSigner:!1}],args:[{name:"args",type:{defined:"DrainOracleArgs"}}]},{name:"drainMatch",accounts:[{name:"matchInstance",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0},{name:"receiver",isMut:!1,isSigner:!1}],args:[]},{name:"leaveMatch",accounts:[{name:"matchInstance",isMut:!0,isSigner:!1},{name:"receiver",isMut:!1,isSigner:!1},{name:"tokenAccountEscrow",isMut:!0,isSigner:!1},{name:"tokenMint",isMut:!0,isSigner:!1},{name:"destinationTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"args",type:{defined:"LeaveMatchArgs"}}]},{name:"disburseTokensByOracle",accounts:[{name:"matchInstance",isMut:!0,isSigner:!1},{name:"tokenAccountEscrow",isMut:!0,isSigner:!1},{name:"tokenMint",isMut:!0,isSigner:!1},{name:"destinationTokenAccount",isMut:!0,isSigner:!1},{name:"winOracle",isMut:!1,isSigner:!1},{name:"originalSender",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"args",type:{defined:"DisburseTokensByOracleArgs"}}]},{name:"joinMatch",accounts:[{name:"matchInstance",isMut:!0,isSigner:!1},{name:"tokenTransferAuthority",isMut:!1,isSigner:!0},{name:"tokenAccountEscrow",isMut:!0,isSigner:!1},{name:"tokenMint",isMut:!0,isSigner:!1},{name:"sourceTokenAccount",isMut:!0,isSigner:!1},{name:"sourceItemOrPlayerPda",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"validationProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"args",type:{defined:"JoinMatchArgs"}}]}],accounts:[{name:"Match",type:{kind:"struct",fields:[{name:"namespaces",type:{option:{vec:{defined:"NamespaceAndIndex"}}}},{name:"winOracle",type:"publicKey"},{name:"winOracleCooldown",type:"u64"},{name:"lastOracleCheck",type:"u64"},{name:"authority",type:"publicKey"},{name:"state",type:{defined:"MatchState"}},{name:"leaveAllowed",type:"bool"},{name:"minimumAllowedEntryTime",type:{option:"u64"}},{name:"bump",type:"u8"},{name:"currentTokenTransferIndex",type:"u64"},{name:"tokenTypesAdded",type:"u64"},{name:"tokenTypesRemoved",type:"u64"},{name:"tokenEntryValidation",type:{option:{vec:{defined:"TokenValidation"}}}},{name:"tokenEntryValidationRoot",type:{option:{defined:"Root"}}},{name:"joinAllowedDuringStart",type:"bool"}]}},{name:"PlayerWinCallbackBitmap",type:{kind:"struct",fields:[{name:"matchKey",type:"publicKey"}]}},{name:"WinOracle",type:{kind:"struct",fields:[{name:"finalized",type:"bool"},{name:"tokenTransferRoot",type:{option:{defined:"Root"}}},{name:"tokenTransfers",type:{option:{vec:{defined:"TokenDelta"}}}}]}}],types:[{name:"CreateOrUpdateOracleArgs",type:{kind:"struct",fields:[{name:"tokenTransferRoot",type:{option:{defined:"Root"}}},{name:"tokenTransfers",type:{option:{vec:{defined:"TokenDelta"}}}},{name:"seed",type:"publicKey"},{name:"space",type:"u64"},{name:"finalized",type:"bool"}]}},{name:"DrainOracleArgs",type:{kind:"struct",fields:[{name:"seed",type:"publicKey"}]}},{name:"CreateMatchArgs",type:{kind:"struct",fields:[{name:"matchState",type:{defined:"MatchState"}},{name:"tokenEntryValidationRoot",type:{option:{defined:"Root"}}},{name:"tokenEntryValidation",type:{option:{vec:{defined:"TokenValidation"}}}},{name:"winOracle",type:"publicKey"},{name:"winOracleCooldown",type:"u64"},{name:"authority",type:"publicKey"},{name:"space",type:"u64"},{name:"leaveAllowed",type:"bool"},{name:"joinAllowedDuringStart",type:"bool"},{name:"minimumAllowedEntryTime",type:{option:"u64"}}]}},{name:"UpdateMatchArgs",type:{kind:"struct",fields:[{name:"matchState",type:{defined:"MatchState"}},{name:"tokenEntryValidationRoot",type:{option:{defined:"Root"}}},{name:"tokenEntryValidation",type:{option:{vec:{defined:"TokenValidation"}}}},{name:"winOracleCooldown",type:"u64"},{name:"authority",type:"publicKey"},{name:"leaveAllowed",type:"bool"},{name:"joinAllowedDuringStart",type:"bool"},{name:"minimumAllowedEntryTime",type:{option:"u64"}}]}},{name:"JoinMatchArgs",type:{kind:"struct",fields:[{name:"amount",type:"u64"},{name:"tokenEntryValidationProof",type:{option:{vec:{array:["u8",32]}}}},{name:"tokenEntryValidation",type:{option:{defined:"TokenValidation"}}}]}},{name:"LeaveMatchArgs",type:{kind:"struct",fields:[{name:"amount",type:"u64"}]}},{name:"DisburseTokensByOracleArgs",type:{kind:"struct",fields:[{name:"tokenDeltaProofInfo",type:{option:{defined:"TokenDeltaProofInfo"}}}]}},{name:"TokenDeltaProofInfo",type:{kind:"struct",fields:[{name:"tokenDeltaProof",type:{vec:{array:["u8",32]}}},{name:"tokenDelta",type:{defined:"TokenDelta"}},{name:"totalProof",type:{vec:{array:["u8",32]}}},{name:"total",type:"u64"}]}},{name:"Root",type:{kind:"struct",fields:[{name:"root",type:{array:["u8",32]}}]}},{name:"Callback",type:{kind:"struct",fields:[{name:"key",type:"publicKey"},{name:"code",type:"u64"}]}},{name:"ValidationArgs",type:{kind:"struct",fields:[{name:"instruction",type:{array:["u8",8]}},{name:"extraIdentifier",type:"u64"},{name:"tokenValidation",type:{defined:"TokenValidation"}}]}},{name:"NamespaceAndIndex",type:{kind:"struct",fields:[{name:"namespace",type:"publicKey"},{name:"indexed",type:"bool"},{name:"inherited",type:{defined:"InheritanceState"}}]}},{name:"TokenDelta",type:{kind:"struct",fields:[{name:"from",type:"publicKey"},{name:"to",type:{option:"publicKey"}},{name:"tokenTransferType",type:{defined:"TokenTransferType"}},{name:"mint",type:"publicKey"},{name:"amount",type:"u64"}]}},{name:"TokenValidation",type:{kind:"struct",fields:[{name:"filter",type:{defined:"Filter"}},{name:"isBlacklist",type:"bool"},{name:"validation",type:{option:{defined:"Callback"}}}]}},{name:"MatchState",type:{kind:"enum",variants:[{name:"Draft"},{name:"Initialized"},{name:"Started"},{name:"Finalized"},{name:"PaidOut"},{name:"Deactivated"}]}},{name:"PermissivenessType",type:{kind:"enum",variants:[{name:"TokenHolder"},{name:"ParentTokenHolder"},{name:"UpdateAuthority"},{name:"Anybody"}]}},{name:"InheritanceState",type:{kind:"enum",variants:[{name:"NotInherited"},{name:"Inherited"},{name:"Overridden"}]}},{name:"TokenType",type:{kind:"enum",variants:[{name:"Player"},{name:"Item"},{name:"Any"}]}},{name:"TokenTransferType",type:{kind:"enum",variants:[{name:"PlayerToPlayer"},{name:"PlayerToEntrant"},{name:"Normal"}]}},{name:"Filter",type:{kind:"enum",variants:[{name:"None"},{name:"All"},{name:"Namespace",fields:[{name:"namespace",type:"publicKey"}]},{name:"Parent",fields:[{name:"key",type:"publicKey"}]},{name:"Mint",fields:[{name:"mint",type:"publicKey"}]}]}},{name:"ErrorCode",type:{kind:"enum",variants:[{name:"IncorrectOwner"},{name:"Uninitialized"},{name:"MintMismatch"},{name:"TokenTransferFailed"},{name:"NumericalOverflowError"},{name:"TokenMintToFailed"},{name:"TokenBurnFailed"},{name:"DerivedKeyInvalid"},{name:"InvalidStartingMatchState"},{name:"InvalidUpdateMatchState"},{name:"InvalidOracleUpdate"},{name:"CannotDrainYet"},{name:"CannotLeaveMatch"},{name:"ReceiverMustBeSigner"},{name:"PublicKeyMismatch"},{name:"AtaShouldNotHaveDelegate"},{name:"CannotEnterMatch"},{name:"InvalidProof"},{name:"RootNotPresent"},{name:"MustPassUpObject"},{name:"NoValidValidationFound"},{name:"Blacklisted"},{name:"NoTokensAllowed"},{name:"InvalidValidation"},{name:"NoDeltasFound"},{name:"UsePlayerEndpoint"},{name:"FromDoesNotMatch"},{name:"CannotDeltaMoreThanAmountPresent"},{name:"DeltaMintDoesNotMatch"},{name:"DestinationMismatch"},{name:"MatchMustBeInFinalized"},{name:"AtaDelegateMismatch"},{name:"OracleAlreadyFinalized"},{name:"OracleCooldownNotPassed"},{name:"MatchMustBeDrained"},{name:"NoParentPresent"},{name:"ReinitializationDetected"}]}}]},a=new S.Program(r,_,n),i=new P.a({id:_,program:a}),console.log(i),new B.PublicKey("B2shfZUYv4o39WkrDBhhgwAmp32azWpSpGZtFj1nNEyj"),e.next=12,A()("https://ablarg.herokuapp.com/blargs");case 12:return e.next=14,e.sent.json();case 14:return o=e.sent,console.log(h),c=o.tokensToJoin[h],console.log(c),null===ot||void 0===ot?void 0:ot.publicKey,s=H,new B.PublicKey(c.mint),e.next=23,Qe.getTokenAccountsByOwner(ot.publicKey,{mint:new B.PublicKey(c.mint)});case 23:u=e.sent,0,l=0,e.t0=Object(x.a)().keys(u.value);case 27:if((e.t1=e.t0()).done){e.next=41;break}return b=e.t1.value,e.prev=29,e.next=32,Qe.getTokenAccountBalance(u.value[b].pubkey);case 32:((d=e.sent).value.uiAmount||0>l)&&(l=d.value.uiAmount||0,p=u.value[b].pubkey),e.next=39;break;case 36:e.prev=36,e.t2=e.catch(29),console.log("wat");case 39:e.next=27;break;case 41:return m=p,e.next=44,Qe.getTokenAccountsByOwner(s,{mint:new B.PublicKey(c.mint)});case 44:u=e.sent,l=0,e.t3=Object(x.a)().keys(u.value);case 47:if((e.t4=e.t3()).done){e.next=61;break}return b=e.t4.value,e.prev=49,e.next=52,Qe.getTokenAccountBalance(u.value[b].pubkey);case 52:((f=e.sent).value.uiAmount||0>l)&&(l=f.value.uiAmount||0,p=u.value[b].pubkey),e.next=59;break;case 56:e.prev=56,e.t5=e.catch(49),console.log("wat");case 59:e.next=47;break;case 61:if(y=p,g=(new S.web3.Transaction).add(Y.Token.createTransferInstruction(Y.TOKEN_PROGRAM_ID,m,y,ot.publicKey,[],Math.ceil(c.amount/100*10))),e.t6=i,e.t7={amount:new S.BN(c.amount),escrowBump:null,tokenEntryValidation:null,tokenEntryValidationProof:null},e.t8={tokenMint:new B.PublicKey(c.mint),sourceTokenAccount:null,tokenTransferAuthority:null,validationProgram:c.validationProgram?new B.PublicKey(c.validationProgram):null},!o.winOracle){e.next=70;break}e.t9=new B.PublicKey(o.winOracle),e.next=73;break;case 70:return e.next=72,q(new B.PublicKey(o.oracleState.seed),o.oracleState.authority?new B.PublicKey(o.oracleState.authority):$e.publicKey);case 72:e.t9=e.sent[0];case 73:return e.t10=e.t9,e.t11=c.sourceType,e.t12=new S.BN(h),e.t13={winOracle:e.t10,sourceType:e.t11,index:e.t12},e.next=79,e.t6.joinMatch.call(e.t6,e.t7,e.t8,e.t13);case 79:return O=e.sent,g.add.apply(g,Object(j.a)(O.instructions)),e.next=83,Qe.getLatestBlockhash();case 83:return e.next=85,e.sent.blockhash;case 85:return g.recentBlockhash=e.sent,g.feePayer=null===ot||void 0===ot?void 0:ot.publicKey,g.partialSign.apply(g,Object(j.a)(O.signers)),e.next=90,t(g,Qe);case 90:return v=e.sent,e.next=93,Qe.confirmTransaction(v,"processed");case 93:return k=e.sent,console.log("response",k),e.next=97,A()("https://ablarg.herokuapp.com/join?me="+$e.publicKey.toBase58()+"&tok="+c.mint+"&amount="+c.amount.toString());case 97:return e.next=99,e.sent.json();case 99:if(!(w=e.sent).winOracle){e.next=104;break}e.t14=new B.PublicKey(w.winOracle),e.next=107;break;case 104:return e.next=106,q(new B.PublicKey(w.oracleState.seed),w.oracleState.authority?new B.PublicKey(w.oracleState.authority):$e.publicKey);case 106:e.t14=e.sent[0];case 107:return M=e.t14,e.next=110,i.fetchOracle(M);case 110:for(T=e.sent,console.log(w),K=0;K<T.object.tokenTransfers.length;K++)T.object.tokenTransfers[K];case 113:case"end":return e.stop()}}),e,null,[[29,36],[49,56]])})));return function(){return e.apply(this,arguments)}}();Object(w.useEffect)((function(){Object(k.a)(Object(x.a)().mark((function e(){var t,n,r,a,o,c;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ot){e.next=19;break}return setTimeout(Object(k.a)(Object(x.a)().mark((function e(){var t,n,r,a,i,o,c,s,l,p,m;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!se){e.next=52;break}return se=!1,e.prev=2,e.next=5,A()("https://ablarg.herokuapp.com/totals");case 5:return e.next=7,e.sent.text();case 7:for(i in t=e.sent,n=t.split(" &&").join().replace(",","").split(" "),r=[],a=[],n)i%2==0&&a.push(parseFloat(n[i])),i%2==1&&r.push(parseFloat(n[i]));for(o in a)1,t=t.replace(r[o].toString(),r[o].toString()+" / "+(1*r[o]).toString());if(b){if(t.length>=b.length){for(c in console.log(t),J)console.log(c),console.log(J[c]),t=t.replace(c,J[c]);d(t),console.log(b)}}else if(t.length>10){for(c in console.log(t),J)console.log(c),console.log(J[c]),t=t.replace(c,J[c]);d(t),console.log(b)}e.next=23;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0),console.log(e.t0),console.log(e.t0),console.log(e.t0),console.log(e.t0);case 23:return e.prev=23,console.log(ot.publicKey,{mint:st}),e.next=27,Qe.getTokenAccountsByOwner(ot.publicKey,{mint:st});case 27:s=e.sent,l=0,e.t1=Object(x.a)().keys(s.value);case 30:if((e.t2=e.t1()).done){e.next=46;break}return o=e.t2.value,e.prev=32,e.next=35,Qe.getTokenAccountBalance(s.value[o].pubkey);case 35:p=e.sent,m=p.value.uiAmount||0,l+=m,e.next=43;break;case 40:e.prev=40,e.t3=e.catch(32),console.log(e.t3);case 43:u(l),e.next=30;break;case 46:e.next=51;break;case 48:e.prev=48,e.t4=e.catch(23),console.log(e.t4);case 51:setInterval(Object(k.a)(Object(x.a)().mark((function e(){var t,n,r,a,i,o,c,s,l,p,m;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A()("https://ablarg.herokuapp.com/totals");case 3:return e.next=5,e.sent.text();case 5:if(t=e.sent,b){for(i in n=t.split(" &&").join().replace(",","").split(" "),r=[],a=[],n)i%2==0&&a.push(parseFloat(n[i])),i%2==1&&r.push(parseFloat(n[i]));for(o in a)1,t=t.replace(r[o].toString(),r[o].toString()+" / "+(1*r[o]).toString());if(t.length>=b.length){for(c in console.log(t),J)console.log(c),console.log(J[c]),t=t.replace(c,J[c]);d(t),console.log(b)}}else if(t.length>10){for(c in console.log(t),J)console.log(c),console.log(J[c]),t=t.replace(c,J[c]);d(t),console.log(b)}e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),console.log(e.t0),console.log(e.t0),console.log(e.t0),console.log(e.t0);case 16:return e.prev=16,console.log(ot.publicKey,{mint:st}),e.next=20,Qe.getTokenAccountsByOwner(ot.publicKey,{mint:st});case 20:s=e.sent,l=0,e.t1=Object(x.a)().keys(s.value);case 23:if((e.t2=e.t1()).done){e.next=39;break}return o=e.t2.value,e.prev=25,e.next=28,Qe.getTokenAccountBalance(s.value[o].pubkey);case 28:p=e.sent,m=p.value.uiAmount||0,l+=m,e.next=36;break;case 33:e.prev=33,e.t3=e.catch(25),console.log(e.t3);case 36:u(l),e.next=23;break;case 39:e.next=44;break;case 41:e.prev=41,e.t4=e.catch(16),console.log(e.t4);case 44:case"end":return e.stop()}}),e,null,[[0,9],[16,41],[25,33]])}))),12500);case 52:case"end":return e.stop()}}),e,null,[[2,16],[23,48],[32,40]])}))),500),e.next=4,A()("https://ablarg.herokuapp.com/endts");case 4:return e.next=6,e.sent.json();case 6:return t=e.sent,console.log(t),i(t),e.next=11,A()("https://ablarg.herokuapp.com/blargs");case 11:return e.next=13,e.sent.json();case 13:n=e.sent,r="To play, select a number above and it'll cost u this much for u (and ur team) to become winna: \n",a=Object(g.a)(n.tokensToJoin);try{for(a.s();!(o=a.n()).done;)c=o.value,r+=J[c.mint]+": "+c.amount/Math.pow(10,parseInt(G[c.mint])+.1*parseInt(G[c.mint]))+"\n"}catch(s){a.e(s)}finally{a.f()}Xe(r+="I'm actually lazy ppl plz look up which token r which for now. :)");case 19:case"end":return e.stop()}}),e)})))()}),[ot,e.connection]);var st=new B.PublicKey("Fq1ZUCxZYWcEJdtN48zmhMkpVYCYCBSrnNU351PFZwCG"),ut=Object(w.useState)("1.38"),lt=Object(O.a)(ut,2),pt=lt[0],bt=lt[1],dt=new B.Connection("https://solana--mainnet.datahub.figment.io/apikey/24c64e276fc5db6ff73da2f59bac40f2","confirmed");function mt(){return(mt=Object(k.a)(Object(x.a)().mark((function e(t){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(t.target.value),bt(t.target.value);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(){return(ft=Object(k.a)(Object(x.a)().mark((function e(){var t,n,r,a,i,o,c,s,u,l,p,b,d;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$e){e.next=30;break}n=new S.Provider(Qe,ot,{preflightCommitment:"processed"}),t=new T.FanoutClient(dt,n.wallet),r=[[]],a=0,i=0,o=0,c=Object.keys(G);case 7:if(!(o<c.length)){e.next=19;break}return s=c[o],a++,e.next=12,t.distributeTokenMemberInstructions({distributeForMint:!0,fanout:H,fanoutMint:new B.PublicKey(s),membershipMint:st,member:$e.publicKey,payer:$e.publicKey});case 12:u=e.sent,l=Object(g.a)(u.instructions);try{for(l.s();!(p=l.n()).done;)b=p.value,r[i].push(b)}catch(m){l.e(m)}finally{l.f()}a>1&&(a=0,i++,r.push([]));case 16:o++,e.next=7;break;case 19:console.log(r.length),d=0;case 21:if(!(d<=i)){e.next=30;break}if(!(d in r)){e.next=27;break}if(!(r[d].length>0)){e.next=27;break}return e.next=26,t.sendInstructions(Object(j.a)(r[d]),[],$e.publicKey);case 26:e.sent;case 27:d++,e.next=21;break;case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(){return(ht=Object(k.a)(Object(x.a)().mark((function e(){var t,n,r,a,i,o,c,s,u,l,p,b;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$e){e.next=21;break}return l=new S.Provider(Qe,ot,{preflightCommitment:"processed"}),u=new T.FanoutClient(dt,l.wallet),e.next=5,u.fetch(H,T.Fanout);case 5:return p=e.sent,console.log(null===(t=p.membershipMint)||void 0===t?void 0:t.toBase58()),console.log(null===(n=p.membershipMint)||void 0===n?void 0:n.toBase58()),console.log(null===(r=p.membershipMint)||void 0===r?void 0:r.toBase58()),console.log(null===(a=p.membershipMint)||void 0===a?void 0:a.toBase58()),console.log(null===(i=p.membershipMint)||void 0===i?void 0:i.toBase58()),console.log(null===(o=p.membershipMint)||void 0===o?void 0:o.toBase58()),console.log(null===(c=p.membershipMint)||void 0===c?void 0:c.toBase58()),console.log(null===(s=p.membershipMint)||void 0===s?void 0:s.toBase58()),console.log(parseFloat(pt)*Math.pow(10,9)),e.next=17,u.stakeTokenMemberInstructions({shares:parseFloat(pt)*Math.pow(10,9),fanout:H,membershipMint:st,member:$e.publicKey,payer:$e.publicKey});case 17:return b=e.sent,e.next=20,u.sendInstructions(b.instructions,[],$e.publicKey);case 20:e.sent;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(){return(yt=Object(k.a)(Object(x.a)().mark((function e(){var t,n;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$e){e.next=5;break}return n=new S.Provider(Qe,ot,{preflightCommitment:"processed"}),t=new T.FanoutClient(dt,n.wallet),e.next=5,t.unstakeTokenMember({fanout:H,member:$e.publicKey,payer:$e.publicKey});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(L.jsxs)("main",{children:[Object(L.jsxs)(re,{children:[Object(L.jsx)(X,{children:Object(L.jsx)(Q,{children:$e?Object(L.jsx)($,{}):Object(L.jsx)($,{children:"Connect Wallet"})})}),Object(L.jsx)("br",{}),Object(L.jsx)(ae,{children:Object(L.jsx)(ie,{children:Object(L.jsxs)(ee,{elevation:3,children:[Object(L.jsx)("h2",{children:"the thepots presently are factually inarguably verifiably thusly:"}),Object(L.jsx)("h3",{children:b}),Object(L.jsx)("br",{}),Object(L.jsxs)("div",{children:[Object(L.jsx)(oe,{label:F&&Ce&&Fe>0?Ae+" "+Pe:we+" "+Pe}),Object(L.jsx)(ce,{src:"cool-cats.gif",alt:"NFT To Mint"})]}),Object(L.jsx)("br",{}),Object(L.jsxs)(te,{children:[Object(L.jsx)(R.a,{date:new Date(a),onMount:function(e){return e.completed&&Ue(!0)},onComplete:function(){Ue(!0)},renderer:function(e){var t=e.days,n=e.hours,r=e.minutes,a="";return t>0&&(a+=t+" days "),n>0&&(a+=n+" hours "),a+=r+1+" minutes left to blarg.",t+n+r<=0&&(a=""),Object(L.jsx)("div",{children:Object(L.jsx)("h3",{children:a})})}}),!$e&&Object(L.jsx)($,{children:"Connect Wallet"}),$e&&Object(L.jsxs)("div",{children:[Object(L.jsxs)("h3",{children:["Hey type in 0 for our collective - w o w - or 1 for our social token ",Object(L.jsx)("br",{}),"- mmm - then after that idk this is guesswork ",Object(L.jsx)("br",{})," lol ",Object(L.jsx)("br",{}),"2 for usdc, 3 for cope, 4 for grape, 5 for prism"]}),Object(L.jsx)(z.a,{type:"text",onChange:function(e){try{v(parseInt(e.target.value))}catch(t){}},placeholder:"1"}),Object(L.jsxs)("h3",{children:["I am lazy and atm you need 1 of whatever token. the first cool bit is that ",Object(L.jsx)("br",{})," anyone who becomes winner for they team 1. increases cost to play for they team 2. decrease cost to play for all oppsin teams ",Object(L.jsx)("br",{})," ohhh, nash.. nash"]}),Object(L.jsx)("h1",{children:"6 for OPEN"})," ",Object(L.jsxs)("h3",{children:["ayy, well, ",He," "]}),"   ",Object(L.jsxs)("h3",{children:["anyways all the other rules from all the other fair3ds remain the same: ",Object(L.jsx)("br",{})," you can become winner at any time, with any of the below buttons. ",Object(L.jsx)("br",{})," if you do, the timer resets to now + 24hrs ",Object(L.jsx)("br",{})," altho, now we're raindrops. ",Object(L.jsx)("br",{})," so instead of 1 party winning lions share - well, we fck with the nashisms kiddos. ",Object(L.jsx)("br",{})," redacted_j wen onchain referrals? ",Object(L.jsx)("br",{})," dont forget to stake ur tokens tho cuz the hydras arguably the only ppl extractin value here ",Object(L.jsx)("br",{})," ily "]}),"       ",Object(L.jsx)(Z.b,{onMint:ct})]})]}),Object(L.jsx)("br",{}),$e&&F&&pe&&Object(L.jsx)(ne,{href:pe,target:"_blank",children:"View on Solscan"})]})})}),Object(L.jsxs)("div",{children:[Object(L.jsx)("br",{}),"you hodl ",s," social tok, grab moar here: ",Object(L.jsx)(V.a,{href:"https://app.strataprotocol.com/swap/Fq1ZUCxZYWcEJdtN48zmhMkpVYCYCBSrnNU351PFZwCG",children:"nfa"}),Object(L.jsx)("br",{}),"mm pinatadrastick... ",Object(L.jsx)("br",{})," ",Object(L.jsx)("br",{}),Object(L.jsx)(Z.a,{onClick:function(){return ft.apply(this,arguments)},children:"Distribute to self.."}),Object(L.jsx)("br",{}),Object(L.jsx)(z.a,{style:{color:"black",fontSize:"30px;",backgroundColor:"grey"},type:"text",onInput:function(e){return mt.apply(this,arguments)},value:pt}),Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),Object(L.jsx)(Z.a,{onClick:function(){return ht.apply(this,arguments)},children:"Stake"}),Object(L.jsx)("br",{}),Object(L.jsx)(Z.a,{onClick:function(){return yt.apply(this,arguments)},children:"Unstake All"}),Object(L.jsx)("br",{})]})]}),Object(L.jsx)(U.a,{open:nt.open,autoHideDuration:6e3,onClose:function(){return rt(Object(y.a)(Object(y.a)({},nt),{},{open:!1}))},children:Object(L.jsx)(W.a,{onClose:function(){return rt(Object(y.a)(Object(y.a)({},nt),{},{open:!1}))},severity:nt.severity,children:nt.message})})]})}}).call(this,n(7).Buffer)},356:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="namespace"},357:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="player"},358:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(16),a=n(38),i=n(36);function o(t,n,o,c){var s=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:r.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new r.web3.TransactionInstruction({keys:s,programId:i.e,data:e.from([])})}}).call(this,n(7).Buffer)},36:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l}));var r=n(16),a=new r.web3.PublicKey("nameAxQRRBnd4kLfsVoZBBXfrByZdZTkh8mULLxLyqV"),i=new r.web3.PublicKey("itemX1XWs9dK8T2Zca4vEEPfCAhRc7yvYFntPjTTVx6"),o=new r.web3.PublicKey("p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98"),c=new r.web3.PublicKey("mtchsiT6WoLQ62fwCoiHMCfXJzogtfru4ovY8tXKrjJ"),s=(new r.web3.PublicKey("So11111111111111111111111111111111111111112"),new r.web3.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA")),u=new r.web3.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),l=new r.web3.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")},369:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r,a,i,o=n(0),c=n(9),s=n(2),u=n(4),l=n(5),p=n(12),b=(n(97),n(79)),d=n(16),m=n(3),f=(n(230),n(36)),h=n(51);n(231),n(20),Object(m.clusterApiUrl)("testnet"),Object(m.clusterApiUrl)("devnet");!function(e){e[e.Draft=0]="Draft",e[e.Initialized=1]="Initialized",e[e.Started=2]="Started",e[e.Finalized=3]="Finalized",e[e.PaidOut=4]="PaidOut",e[e.Deactivated=5]="Deactivated"}(r||(r={})),function(e){e[e.PlayerToPlayer=0]="PlayerToPlayer",e[e.PlayerToEntrant=1]="PlayerToEntrant",e[e.Normal=2]="Normal"}(a||(a={})),function(e){e[e.Player=0]="Player",e[e.Item=1]="Item",e[e.Any=2]="Any"}(i||(i={}));var y=n(38),g=n(358);function j(e){e.tokenEntryValidation&&(e.tokenEntryValidation=e.tokenEntryValidation.map((function(e){var t=Object(p.a)({},e.filter);return Object.keys(t).forEach((function(e){Object.keys(t[e]).forEach((function(n){"string"===typeof t[e][n]&&(t[e][n]=new d.web3.PublicKey(t[e][n]))}))})),e.filter=t,e.validation&&"string"===typeof e.validation.key&&(e.validation.key=new d.web3.PublicKey(e.validation.key),e.validation.code=new d.BN(e.validation.code)),e})))}var O=Object(u.a)((function e(t){Object(l.a)(this,e),this.program=void 0,this.key=void 0,this.object=void 0,this.data=void 0,this.program=t.program,this.key=t.key,this.object=t.object,this.data=t.data})),v=function(){function e(t){Object(l.a)(this,e),this.id=void 0,this.program=void 0,this.id=t.id,this.program=t.program}return Object(u.a)(e,[{key:"createMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r,a,i=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,Object(h.c)(t.winOracle);case 4:return n=e.sent,r=Object(c.a)(n,2),a=r[0],r[1],j(t),e.next=11,this.program.methods.createMatch(t).accounts({matchInstance:a,payer:this.program.provider.wallet.publicKey,systemProgram:m.SystemProgram.programId,rent:d.web3.SYSVAR_RENT_PUBKEY}).instruction();case 11:return e.t0=e.sent,e.t1=[e.t0],e.t2=[],e.abrupt("return",{instructions:e.t1,signers:e.t2});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disburseTokensByOracle",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r){var a,i,s,u,l,p,b,y,j,O;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(n.winOracle);case 2:return a=e.sent[0],i=r.tokenDelta,e.next=6,Object(h.d)(n.winOracle,i.mint,i.from);case 6:return s=e.sent,u=Object(c.a)(s,2),l=u[0],u[1],p=i.to,e.next=13,this.program.provider.connection.getAccountInfo(p);case 13:if(b=e.sent,y=[],b.owner.equals(f.g)){e.next=24;break}return j=p,e.next=19,Object(h.a)(i.mint,p);case 19:return p=e.sent[0],e.next=22,this.program.provider.connection.getAccountInfo(p);case 22:(O=e.sent)&&0!=O.data.length||y.unshift(Object(g.a)(p,this.program.provider.wallet.publicKey,j,i.mint));case 24:return e.t0=y,e.next=27,this.program.methods.disburseTokensByOracle(t).accounts({matchInstance:a,tokenAccountEscrow:l,tokenMint:i.mint,originalSender:i.from,destinationTokenAccount:p,winOracle:n.winOracle,tokenProgram:f.g,systemProgram:m.SystemProgram.programId,rent:d.web3.SYSVAR_RENT_PUBKEY}).instruction();case 27:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.abrupt("return",{instructions:y,signers:[]});case 30:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"drainMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(r.winOracle);case 2:return a=e.sent[0],e.next=5,this.program.methods.drainMatch().accounts({matchInstance:a,authority:this.program.provider.wallet.publicKey,receiver:n.receiver||this.program.provider.wallet.publicKey}).instruction();case 5:return e.t0=e.sent,e.t1=[e.t0],e.t2=[],e.abrupt("return",{instructions:e.t1,signers:e.t2});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"drainOracle",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){var r,a,i,s,u,l,b=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.length>2&&void 0!==b[2]?b[2]:{},e.next=3,Object(h.e)(new d.web3.PublicKey(t.seed),new d.web3.PublicKey(t.authority));case 3:return r=e.sent,a=Object(c.a)(r,2),i=a[0],a[1],e.next=9,Object(h.c)(i);case 9:return s=e.sent,u=Object(c.a)(s,2),l=u[0],u[1],e.next=15,this.program.methods.drainOracle(Object(p.a)(Object(p.a)({},t),{},{seed:new d.web3.PublicKey(t.seed)})).accounts({matchInstance:l,authority:this.program.provider.wallet.publicKey,receiver:n.receiver||this.program.provider.wallet.publicKey,oracle:i}).instruction();case 15:return e.t0=e.sent,e.t1=[e.t0],e.t2=[],e.abrupt("return",{instructions:e.t1,signers:e.t2});case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){var r,a=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>2&&void 0!==a[2]?a[2]:{},e.next=3,Object(h.c)(n.winOracle);case 3:return r=e.sent[0],j(t),e.next=7,this.program.methods.updateMatch(t).accounts({matchInstance:r,winOracle:n.winOracle,authority:this.program.provider.wallet.publicKey}).instruction();case 7:return e.t0=e.sent,e.t1=[e.t0],e.t2=[],e.abrupt("return",{instructions:e.t1,signers:e.t2});case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"leaveMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r){var a,i,s,u,l,p;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(r.winOracle);case 2:return a=e.sent[0],e.next=5,Object(h.a)(n.tokenMint,n.receiver);case 5:return i=e.sent[0],e.next=8,Object(h.d)(r.winOracle,n.tokenMint,this.program.provider.wallet.publicKey);case 8:return s=e.sent,u=Object(c.a)(s,2),l=u[0],u[1],p=[],e.next=15,this.program.methods.leaveMatch(t).accounts({matchInstance:a,tokenAccountEscrow:l,tokenMint:n.tokenMint,destinationTokenAccount:i,receiver:this.program.provider.wallet.publicKey,tokenProgram:f.g}).instruction();case 15:return e.t0=e.sent,e.t1=[e.t0],e.t2=p,e.abrupt("return",{instructions:e.t1,signers:e.t2});case 19:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"joinMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r){var a,s,u,l,p,b,g;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(r.winOracle);case 2:if(a=e.sent[0],e.t0=n.sourceTokenAccount,e.t0){e.next=8;break}return e.next=7,Object(h.a)(n.tokenMint,this.program.provider.wallet.publicKey);case 7:e.t0=e.sent[0];case 8:return s=e.t0,u=n.tokenTransferAuthority||d.web3.Keypair.generate(),e.next=12,Object(h.d)(r.winOracle,n.tokenMint,this.program.provider.wallet.publicKey);case 12:if(l=e.sent,p=Object(c.a)(l,2),b=p[0],p[1],g=[u],e.t1=y.Token.createApproveInstruction(f.g,s,u.publicKey,this.program.provider.wallet.publicKey,[],t.amount.toNumber()),e.t2=this.program.methods.joinMatch(t),e.t3=a,e.t4=u.publicKey,e.t5=b,e.t6=n.tokenMint,e.t7=s,r.sourceType!=i.Any){e.next=28;break}e.t8=m.SystemProgram.programId,e.next=38;break;case 28:if(r.sourceType!=i.Item){e.next=34;break}return e.next=31,Object(h.b)(n.tokenMint,r.index);case 31:e.t9=e.sent[0],e.next=37;break;case 34:return e.next=36,Object(h.f)(n.tokenMint,r.index);case 36:e.t9=e.sent[0];case 37:e.t8=e.t9;case 38:return e.t10=e.t8,e.t11=this.program.provider.wallet.publicKey,e.t12=m.SystemProgram.programId,e.t13=n.validationProgram||m.SystemProgram.programId,e.t14=f.g,e.t15=d.web3.SYSVAR_RENT_PUBKEY,e.t16={matchInstance:e.t3,tokenTransferAuthority:e.t4,tokenAccountEscrow:e.t5,tokenMint:e.t6,sourceTokenAccount:e.t7,sourceItemOrPlayerPda:e.t10,payer:e.t11,systemProgram:e.t12,validationProgram:e.t13,tokenProgram:e.t14,rent:e.t15},e.next=47,e.t2.accounts.call(e.t2,e.t16).signers(g).instruction();case 47:return e.t17=e.sent,e.t18=y.Token.createRevokeInstruction(f.g,s,this.program.provider.wallet.publicKey,[]),e.t19=[e.t1,e.t17,e.t18],e.t20=g,e.abrupt("return",{instructions:e.t19,signers:e.t20});case 52:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateMatchFromOracle",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t,n,r=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:{},t=r.length>1?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},e.next=5,Object(h.c)(t.winOracle);case 5:return n=e.sent[0],e.next=8,this.program.methods.updateMatchFromOracle().accounts({matchInstance:n,winOracle:t.winOracle,authority:this.program.provider.wallet.publicKey,clock:d.web3.SYSVAR_CLOCK_PUBKEY}).instruction();case 8:return e.t0=e.sent,e.t1=[e.t0],e.t2=[],e.abrupt("return",{instructions:e.t1,signers:e.t2});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createOrUpdateOracle",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r,a,i,s=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:{},s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,Object(h.e)(new d.web3.PublicKey(t.seed),t.authority);case 4:return n=e.sent,r=Object(c.a)(n,2),a=r[0],r[1],i=t.tokenTransfers?t.tokenTransfers.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{from:new d.web3.PublicKey(e.from),to:e.to?new d.web3.PublicKey(e.to):null,mint:new d.web3.PublicKey(e.mint),amount:new d.BN(e.amount)})})):null,e.next=11,this.program.methods.createOrUpdateOracle(Object(p.a)(Object(p.a)({},t),{},{tokenTransfers:i,seed:new d.web3.PublicKey(t.seed)})).accounts({oracle:a,payer:this.program.provider.wallet.publicKey,systemProgram:m.SystemProgram.programId,rent:d.web3.SYSVAR_RENT_PUBKEY}).instruction();case 11:return e.t0=e.sent,e.t1=[e.t0],e.t2=[],e.abrupt("return",{instructions:e.t1,signers:e.t2});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=function(){function e(t){Object(l.a)(this,e),this.id=void 0,this.program=void 0,this.instruction=void 0,this.id=t.id,this.program=t.program,this.instruction=new v({id:this.id,program:this.program})}return Object(u.a)(e,[{key:"fetchMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(t);case 2:return n=e.sent[0],e.next=5,this.program.account.match.fetch(n);case 5:return r=e.sent,e.abrupt("return",new O({program:this,key:n,data:r.data,object:r}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOracle",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.program.provider.connection.getAccountInfo(t);case 2:return n=e.sent,e.next=5,this.program.account.winOracle.coder.accounts.decode("WinOracle",n.data);case 5:return r=e.sent,e.abrupt("return",new O({program:this,key:t,data:n.data,object:r}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r,a,i=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},i.length>2?i[2]:void 0,e.next=4,this.instruction.createMatch(t);case 4:return n=e.sent,r=n.instructions,a=n.signers,e.next=9,Object(b.b)(this.program.provider.connection,this.program.provider.wallet,r,a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disburseTokensByOracle",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r){var a,i,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instruction.disburseTokensByOracle(t,n,r);case 2:return a=e.sent,i=a.instructions,c=a.signers,e.next=7,Object(b.b)(this.program.provider.connection,this.program.provider.wallet,i,c);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"drainMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r){var a,i,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instruction.drainMatch(t,n,r);case 2:return a=e.sent,i=a.instructions,c=a.signers,e.next=7,Object(b.b)(this.program.provider.connection,this.program.provider.wallet,i,c);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"drainOracle",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){var r,a,i,c=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},e.next=3,this.instruction.drainOracle(t,n);case 3:return r=e.sent,a=r.instructions,i=r.signers,e.next=8,Object(b.b)(this.program.provider.connection,this.program.provider.wallet,a,i);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"joinMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r){var a,i,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instruction.joinMatch(t,n,r);case 2:return a=e.sent,i=a.instructions,c=a.signers,e.abrupt("return",{instructions:i,signers:c});case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"leaveMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n,r){var a,i,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instruction.leaveMatch(t,n,r);case 2:return a=e.sent,i=a.instructions,c=a.signers,e.next=7,Object(b.b)(this.program.provider.connection,this.program.provider.wallet,i,c);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateMatch",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t,n){var r,a,i,c=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},e.next=3,this.instruction.updateMatch(t,n);case 3:return r=e.sent,a=r.instructions,i=r.signers,e.next=8,Object(b.b)(this.program.provider.connection,this.program.provider.wallet,a,i);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateMatchFromOracle",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t,n,r,a,i,c=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=c.length>1?c[1]:void 0,c.length>2&&void 0!==c[2]?c[2]:{},e.next=5,this.instruction.updateMatchFromOracle(t,n);case 5:return r=e.sent,a=r.instructions,i=r.signers,e.next=10,Object(b.b)(this.program.provider.connection,this.program.provider.wallet,a,i);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createOrUpdateOracle",value:function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,r,a,i=arguments;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:{},i.length>2&&void 0!==i[2]?i[2]:{},e.next=4,this.instruction.createOrUpdateOracle(t);case 4:return n=e.sent,r=n.instructions,a=n.signers,e.next=9,Object(b.b)(this.program.provider.connection,this.program.provider.wallet,r,a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},383:function(e,t,n){},385:function(e,t){},386:function(e,t){},401:function(e,t){},402:function(e,t){},422:function(e,t,n){},502:function(e,t){},504:function(e,t){},51:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return f}));var r=n(0),a=n(2),i=n(16),o=n(36),c=n(102),s=n(186),u=(n(356),n(357)),l=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.web3.PublicKey.findProgramAddress([n.toBuffer(),o.g.toBuffer(),t.toBuffer()],o.e);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.web3.PublicKey.findProgramAddress([e.from(s.a),n.toBuffer()],o.b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n,a,c){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.web3.PublicKey.findProgramAddress([e.from(s.a),n.toBuffer(),a.toBuffer(),c.toBuffer()],o.b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),d=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n,a){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.web3.PublicKey.findProgramAddress([e.from(s.a),a.toBuffer(),n.toBuffer()],o.b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n,a){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,i.web3.PublicKey.findProgramAddress([e.from(c.b),n.toBuffer(),e.from(a)],o.a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var t=Object(a.a)(Object(r.a)().mark((function t(n,a){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.web3.PublicKey.findProgramAddress([e.from(u.a),n.toBuffer(),a.toBuffer("le",8)],o.d);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(7).Buffer)},514:function(e,t){},516:function(e,t){},543:function(e,t){},545:function(e,t){},550:function(e,t){},552:function(e,t){},559:function(e,t){},571:function(e,t){},574:function(e,t){},652:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(64),o=n.n(i),c=(n(383),n(367)),s=n(695),u=n(696),l=n(697),p=n(16),b=n(3),d=n(698),m=n(699),f=n(700),h=n(692),y=n(693),g=n(694),j=n(701),O=n(702),v=n(703),x=n(182),k=(n(422),n(79)),w=n(354),M=n(14);n(624);var S="mainnet-beta",P="https://solana--mainnet.datahub.figment.io/apikey/24c64e276fc5db6ff73da2f59bac40f2",T=new p.web3.Connection(P),K=Object(c.a)({palette:{type:"dark"},overrides:{MuiButtonBase:{root:{justifyContent:"flex-start"}},MuiButton:{root:{textTransform:void 0,padding:"12px 16px"},startIcon:{marginRight:8},endIcon:{marginLeft:8}}}}),A=function(){var e=Object(r.useMemo)((function(){return Object(b.clusterApiUrl)(S)}),[]),t=Object(r.useMemo)((function(){return[Object(d.a)(),Object(m.a)(),Object(f.a)(),Object(h.a)(),Object(y.a)({network:S}),Object(g.a)({network:S}),Object(j.a)(),Object(O.a)(),Object(v.a)()]}),[]);return Object(M.jsx)(s.a,{theme:K,children:Object(M.jsx)(u.a,{endpoint:e,children:Object(M.jsx)(l.a,{wallets:t,autoConnect:!0,children:Object(M.jsx)(x.a,{children:Object(M.jsx)(w.a,{connection:T,txTimeout:k.a,rpcHost:P,network:S})})})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,704)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};o.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(A,{})}),document.getElementById("root")),B()},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r,a=n(13),i=n(0),o=n(2),c=n(3),s=n(117),u=6e4;!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var l=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n,r,o){var u,l,p,d,m,f,h,y,g,j,O,v=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=v.length>4&&void 0!==v[4]?v[4]:"singleGossip",l=v.length>5&&void 0!==v[5]&&v[5],p=v.length>6?v[6]:void 0,d=v.length>7?v[7]:void 0,n.publicKey){e.next=6;break}throw new s.f;case 6:if(m=new c.Transaction,r.forEach((function(e){return m.add(e)})),e.t0=p,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(u);case 12:e.t0=e.sent;case 13:if(m.recentBlockhash=e.t0.blockhash,l?(f=m).setSigners.apply(f,Object(a.a)(o.map((function(e){return e.publicKey})))):(h=m).setSigners.apply(h,[n.publicKey].concat(Object(a.a)(o.map((function(e){return e.publicKey}))))),o.length>0&&(y=m).partialSign.apply(y,Object(a.a)(o)),l){e.next=20;break}return e.next=19,n.signTransaction(m);case 19:m=e.sent;case 20:return d&&d(),e.next=23,b({connection:t,signedTransaction:m});case 23:return g=e.sent,j=g.txid,O=g.slot,e.abrupt("return",{txid:j,slot:O});case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),p=function(){return(new Date).getTime()/1e3};function b(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(Object(i.a)().mark((function e(t){var n,r,a,c,s,l,b,d,f,y,j,O,v;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,c=void 0===a?u:a,s=n.serialize(),l=p(),b=0,e.next=6,r.sendRawTransaction(s,{skipPreflight:!0});case 6:return d=e.sent,console.log("Started awaiting confirmation for",d),f=!1,Object(o.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f||!(p()-l<c)){e.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,g(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,h(d,c,r,"recent",!0);case 13:if(y=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!y.err){e.next=19;break}throw console.error(y.err),new Error("Transaction failed: Custom instruction error");case 19:b=(null===y||void 0===y?void 0:y.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return j=null,e.prev=28,e.next=31,m(r,n,"single");case 31:j=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!j||!j.err){e.next=47;break}if(!j.logs){e.next=46;break}O=j.logs.length-1;case 39:if(!(O>=0)){e.next=46;break}if(!(v=j.logs[O]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+v.slice("Program log: ".length));case 43:--O,e.next=39;break;case 46:throw new Error(JSON.stringify(j.err));case 47:return e.prev=47,f=!0,e.finish(47);case 50:return console.log("Latency",d,p()-l),e.abrupt("return",{txid:d,slot:b});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function m(e,t,n){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(Object(i.a)().mark((function e(t,n,r){var a,o,c,s,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),o=n._serialize(a),c=o.toString("base64"),s=[c,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n){return y.apply(this,arguments)}function y(){return y=Object(o.a)(Object(i.a)().mark((function e(t,n,r){var a,c,s,u,l,p=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>3&&void 0!==p[3]?p[3]:"recent",c=p.length>4&&void 0!==p[4]&&p[4],s=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(o.a)(Object(i.a)().mark((function e(p,b){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){s=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),p(u))}),a)}catch(d){s=!0,console.error("WS error in setup",t,d)}case 2:if(s||!c){e.next=8;break}return Object(o.a)(Object(i.a)().mark((function e(){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",t,u),s=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),s=!0,p(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,g(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),s=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function g(e){return new Promise((function(t){return setTimeout(t,e)}))}}},[[652,1,2]]]);
//# sourceMappingURL=main.98b2203b.chunk.js.map