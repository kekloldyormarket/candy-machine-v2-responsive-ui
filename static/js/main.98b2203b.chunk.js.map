{"version":3,"sources":["rain/constants/item.ts","MintButton.tsx","rain/constants/matches.ts","Home.tsx","rain/constants/namespace.ts","rain/constants/player.ts","rain/utils/ata.ts","rain/constants/programIds.ts","rain/state/matches.ts","rain/utils/connection.ts","rain/contract/matches.ts","rain/utils/pda.ts","App.tsx","reportWebVitals.ts","index.tsx","connection.tsx"],"names":["PREFIX","MARKER","CTAButton","styled","Button","MintButton","onMint","disabled","onClick","console","log","variant","whatToksLol","someDecs2","getOracle","seed","payer","PublicKey","findProgramAddress","Buffer","from","toBuffer","MATCHES_ID","anchor","fanout","WalletContainer","process","toString","div","Wallet","ul","ConnectButton","WalletMultiButton","NFT","Paper","MintButtonContainer","SolExplorerLink","a","MainContainer","MintContainer","DesContainer","Price","Chip","Image","img","first","LinearProgress","Home","props","sendTransaction","useWallet","useState","Date","getTime","endts","setEndts","balance","setBalance","thepots","setthepots","index","setIndex","setIsMinting","isActive","solanaExplorerLink","price","priceLabel","whitelistPrice","whitelistEnabled","whitelistTokenBalance","setIsEnded","toplay","setToplay","connection","useConnection","wallet","open","message","severity","undefined","alertState","setAlertState","anchorWallet","rpcHost","useMemo","publicKey","signAllTransactions","signTransaction","connected","provider","preflightCommitment","idl","program","anchorProgram","MatchesProgram","id","fetch","json","config","setup","tokensToJoin","toWallet","mint","getTokenAccountsByOwner","tokAccs","winning","value","i","getTokenAccountBalance","pubkey","eh1","uiAmount","winner","fromTokenAccount","toTokenAccount","transaction","Transaction","add","Token","createTransferInstruction","TOKEN_PROGRAM_ID","Math","ceil","amount","escrowBump","tokenEntryValidation","tokenEntryValidationProof","tokenMint","sourceTokenAccount","tokenTransferAuthority","validationProgram","winOracle","oracleState","authority","sourceType","joinMatch","stupidjare","instructions","getLatestBlockhash","blockhash","recentBlockhash","feePayer","partialSign","signers","signature","confirmTransaction","response","toBase58","jconfig","fetchOracle","oracleInstance","object","tokenTransfers","length","useEffect","setTimeout","text","bla","thepotsTemp","ablargs","split","join","replace","blarg2","blargwhichs","push","parseFloat","which","mintPublicKey","bal","eh2","setInterval","ts","temp","token","parseInt","shares","setShares","connection2","Connection","e","preventDefault","target","fanoutSdk","FanoutClient","ixes","acount","acount2","Object","keys","der","distributeTokenMemberInstructions","distributeForMint","fanoutMint","membershipMint","member","ix","sendInstructions","Fanout","blarg","stakeTokenMemberInstructions","ixs","unstakeTokenMember","elevation","label","src","alt","date","onMount","completed","onComplete","renderer","days","hours","minutes","type","onChange","err","placeholder","href","style","color","fontSize","backgroundColor","onInput","autoHideDuration","onClose","createAssociatedTokenAccountInstruction","associatedTokenAddress","walletAddress","splTokenMintAddress","isSigner","isWritable","web3","SystemProgram","programId","SYSVAR_RENT_PUBKEY","TransactionInstruction","SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID","data","NAMESPACE_ID","ITEM_ID","PLAYER_ID","TOKEN_METADATA_PROGRAM_ID","MatchState","TokenTransferType","TokenType","clusterApiUrl","transformTokenValidations","args","map","r","newRFilter","filter","forEach","k","y","validation","key","code","BN","MatchWrapper","this","MatchesInstruction","getMatch","match","methods","createMatch","accounts","matchInstance","systemProgram","rent","instruction","additionalArgs","tfer","tokenDelta","getMatchTokenAccountEscrow","tokenAccountEscrow","destinationTokenAccount","to","getAccountInfo","info","owner","equals","destinationTokenOwner","getAtaForMint","exists","unshift","disburseTokensByOracle","originalSender","tokenProgram","_args","drainMatch","receiver","oracle","drainOracle","updateMatch","leaveMatch","transferAuthority","Keypair","generate","createApproveInstruction","toNumber","Any","Item","getItemPDA","getPlayerPDA","sourceItemOrPlayerPda","createRevokeInstruction","updateMatchFromOracle","clock","SYSVAR_CLOCK_PUBKEY","t","createOrUpdateOracle","matchPda","account","oracleAcct","coder","decode","sendTransactionWithRetry","MATCHES_PREFIX","tokenOwner","ITEM_PREFIX","PLAYER_PREFIX","require","network","theme","createTheme","palette","overrides","MuiButtonBase","root","justifyContent","MuiButton","textTransform","padding","startIcon","marginRight","endIcon","marginLeft","App","endpoint","wallets","getPhantomWallet","getSlopeWallet","getSolflareWallet","getSolflareWebWallet","getSolletWallet","getSolletExtensionWallet","getSolongWallet","getLedgerWallet","getSafePalWallet","ThemeProvider","ConnectionProvider","WalletProvider","autoConnect","txTimeout","DEFAULT_TIMEOUT","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","SequenceType","commitment","includesFeePayer","block","beforeSend","WalletNotConnectedError","getRecentBlockhash","setSigners","s","sendSignedTransaction","signedTransaction","txid","slot","getUnixTs","timeout","rawTransaction","serialize","startTime","sendRawTransaction","skipPreflight","done","sleep","awaitTransactionSignatureConfirmation","confirmation","Error","error","simulateResult","simulateTransaction","logs","line","startsWith","slice","JSON","stringify","_recentBlockhash","_disableBlockhashCaching","signData","serializeMessage","wireTransaction","_serialize","encodedTransaction","encoding","_rpcRequest","res","result","queryStatus","status","confirmations","subId","Promise","resolve","reject","onSignature","context","getSignatureStatuses","signatureStatuses","_signatureSubscriptions","removeSignatureListener","ms"],"mappings":"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","file":"static/js/main.98b2203b.chunk.js","sourcesContent":["export const PREFIX: string = \"item\";\nexport const MARKER: string = \"marker\";\n","import styled from 'styled-components';\nimport {useEffect, useState} from 'react';\nimport Button from '@material-ui/core/Button';\nimport {CircularProgress} from '@material-ui/core';\nimport {GatewayStatus, useGateway} from '@civic/solana-gateway-react';\nimport { BN } from '@project-serum/anchor'\n\nexport const CTAButton = styled(Button)`\n  display: block !important;\n  margin: 0 auto !important;\n  background-color: var(--title-text-color) !important;\n  min-width: 120px !important;\n  font-size: 1em !important;\n`;\n\nexport const MintButton = ({\n                               onMint\n                           }: {\n    onMint: () => Promise<void>;\n}) => {\n    return (\n        <CTAButton\n            disabled={false}\n            \n            onClick={async () => {\n                    console.log('Minting...');\n                    await onMint();\n            }}\n            variant=\"contained\"\n        >\n                        as tribute for your team; become winner @ some tokenz\n                    \n        </CTAButton>\n    );\n};\n","export const PREFIX = \"matches\";\n","import {useEffect, useMemo, useState} from \"react\";\nimport styled from \"styled-components\";\nimport confetti from \"canvas-confetti\";\nimport * as anchor from \"@project-serum/anchor\";\nimport { MatchesProgram } from \"./rain/contract/matches\";\nimport {getAtaForMint, toDate} from './utils';\nimport { Fanout, FanoutClient } from '@glasseaters/hydra-sdk'\nimport fetch from 'node-fetch';\nimport { getAssociatedAccountBalance } from \"@strata-foundation/spl-utils\";\n\nimport {\n    PublicKey,\n    Transaction,\n    LAMPORTS_PER_SOL,\n    Connection\n} from \"@solana/web3.js\";\nimport {WalletAdapterNetwork} from '@solana/wallet-adapter-base';\nimport {useConnection, useWallet} from \"@solana/wallet-adapter-react\";\nimport {WalletMultiButton} from \"@solana/wallet-adapter-react-ui\";\nimport Countdown from \"react-countdown\";\nimport {Snackbar, Paper, LinearProgress, Chip, Input, Button, Link} from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {AlertState} from './utils';\nimport {CTAButton, MintButton} from './MintButton';\n\nimport { TokenType } from \"raindrops-cli/build/state/matches\";\nimport { Token, TOKEN_PROGRAM_ID } from \"@solana/spl-token\";\nconst whatToksLol = {\"AD1bo7F21Cy8sfUkYXEBLJTTXA7Z8NREwMX1pZBgLakq\": \"LEO\", \n\"Fq1ZUCxZYWcEJdtN48zmhMkpVYCYCBSrnNU351PFZwCG\":\"gamin\",\n\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\":\"USDC\",\n\"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh\":\"COPE\",\n\"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA\":\"GRAPE\",\n\"PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x\":\"PRISM\", \"openDKyuDPS6Ak1BuD3JtvkQGV3tzCxjpHUfe1mdC79\":\"OPEN\"\n  }\nconst someDecs2 = {\"AD1bo7F21Cy8sfUkYXEBLJTTXA7Z8NREwMX1pZBgLakq\":9,\n\"Fq1ZUCxZYWcEJdtN48zmhMkpVYCYCBSrnNU351PFZwCG\":9,\n\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\":6,\n\"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh\":6,\n\"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA\":6,\n\"PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x\":6, \"openDKyuDPS6Ak1BuD3JtvkQGV3tzCxjpHUfe1mdC79\":9\n  }\nexport const getOracle = async (\n    seed: PublicKey,\n    payer: PublicKey\n  ): Promise<[PublicKey, number]> => {\n    return await PublicKey.findProgramAddress(\n      [Buffer.from(\"matches\"), payer.toBuffer(), seed.toBuffer()],\n      MATCHES_ID\n    );\n  };\n  \nexport const MATCHES_ID = new anchor.web3.PublicKey(\n    \"mtchsiT6WoLQ62fwCoiHMCfXJzogtfru4ovY8tXKrjJ\"\n  );\n  const fanout = new PublicKey(\"H3QZjfiZLQdREFQxSjBxezSfiUvNFEPmnoWVi4R6dLnd\")\n\nconst cluster = process.env.REACT_APP_SOLANA_NETWORK!.toString();\nconst decimals = process.env.REACT_APP_SPL_TOKEN_TO_MINT_DECIMALS ? +process.env.REACT_APP_SPL_TOKEN_TO_MINT_DECIMALS!.toString() : 9;\nconst splTokenName = process.env.REACT_APP_SPL_TOKEN_TO_MINT_NAME ? process.env.REACT_APP_SPL_TOKEN_TO_MINT_NAME.toString() : \"TOKEN\";\n\nconst WalletContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: right;\n`;\n\nconst WalletAmount = styled.div`\n  color: black;\n  width: auto;\n  padding: 5px 5px 5px 16px;\n  min-width: 48px;\n  min-height: auto;\n  border-radius: 22px;\n  background-color: var(--main-text-color);\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\n  box-sizing: border-box;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  font-weight: 500;\n  line-height: 1.75;\n  text-transform: uppercase;\n  border: 0;\n  margin: 0;\n  display: inline-flex;\n  outline: 0;\n  position: relative;\n  align-items: center;\n  user-select: none;\n  vertical-align: middle;\n  justify-content: flex-start;\n  gap: 10px;\n`;\n\nconst Wallet = styled.ul`\n  flex: 0 0 auto;\n  margin: 0;\n  padding: 0;\n`;\n\nconst ConnectButton = styled(WalletMultiButton)`\n  border-radius: 18px !important;\n  padding: 6px 16px;\n  background-color: #4E44CE;\n  margin: 0 auto;\n`;\n\nconst NFT = styled(Paper)`\n  min-width: 500px;\n  margin: 0 auto;\n  padding: 5px 20px 20px 20px;\n  flex: 1 1 auto;\n  background-color: var(--card-background-color) !important;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22) !important;\n`;\n\nconst Card = styled(Paper)`\n  display: inline-block;\n  background-color: var(--countdown-background-color) !important;\n  margin: 5px;\n  min-width: 40px;\n  padding: 24px;\n\n  h1 {\n    margin: 0px;\n  }\n`;\n\nconst MintButtonContainer = styled.div`\n  button.MuiButton-contained:not(.MuiButton-containedPrimary).Mui-disabled {\n    color: #464646;\n  }\n\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):hover,\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):focus {\n    -webkit-animation: pulse 1s;\n    animation: pulse 1s;\n    box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\n  }\n\n  @-webkit-keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n`;\n\nconst SolExplorerLink = styled.a`\n  color: var(--title-text-color);\n  border-bottom: 1px solid var(--title-text-color);\n  font-weight: bold;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: none;\n  outline: none;\n  text-decoration: none;\n  text-size-adjust: 100%;\n\n  :hover {\n    border-bottom: 2px solid var(--title-text-color);\n  }\n`;\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-right: 4%;\n  margin-left: 4%;\n  text-align: center;\n  justify-content: center;\n`;\n\nconst MintContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex: 1 1 auto;\n  flex-wrap: wrap;\n  gap: 20px;\n`;\n\nconst DesContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  gap: 20px;\n`;\n\nconst Price = styled(Chip)`\n  position: absolute;\n  margin: 5px;\n  font-weight: bold;\n  font-size: 1.2em !important;\n  font-family: 'Patrick Hand', cursive !important;\n`;\n\nconst Image = styled.img`\n  height: 400px;\n  width: auto;\n  border-radius: 7px;\n  box-shadow: 5px 5px 40px 5px rgba(0, 0, 0, 0.5);\n`;\n\nconst BorderLinearProgress = styled(LinearProgress)`\n  margin: 20px;\n  height: 10px !important;\n  border-radius: 30px;\n  border: 2px solid white;\n  box-shadow: 5px 5px 40px 5px rgba(0, 0, 0, 0.5);\n  background-color: var(--main-text-color) !important;\n\n  > div.MuiLinearProgress-barColorPrimary {\n    background-color: var(--title-text-color) !important;\n  }\n\n  > div.MuiLinearProgress-bar1Determinate {\n    border-radius: 30px !important;\n    background-image: linear-gradient(270deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.5));\n  }\n`;\n\nexport interface HomeProps {\n    candyMachineId?: anchor.web3.PublicKey;\n    connection: anchor.web3.Connection;\n    txTimeout: number;\n    rpcHost: string;\n    network: WalletAdapterNetwork;\n}\nlet first = true;\nconst Home = (props: HomeProps) => {\n  const {sendTransaction} = useWallet()\n  const [endts, setEndts] = useState<number>(new Date().getTime() - 1);\n  const [balance, setBalance] = useState(0)\n  const [thepots, setthepots] = useState<string>()\n \n  const [index, setIndex] = useState<number>(0);\n    const [isMinting, setIsMinting] = useState(false); // true when user got to press MINT\n    const [isActive, setIsActive] = useState(false); // true when countdown completes or whitelisted\n    const [solanaExplorerLink, setSolanaExplorerLink] = useState<string>(\"\");\n    const [itemsAvailable, setItemsAvailable] = useState(0);\n    const [itemsRedeemed, setItemsRedeemed] = useState(0);\n    const [itemsRemaining, setItemsRemaining] = useState(0);\n    const [isSoldOut, setIsSoldOut] = useState(false);\n    const [payWithSplToken, setPayWithSplToken] = useState(false);\n    const [price, setPrice] = useState(0);\n    const [priceLabel, setPriceLabel] = useState<string>(\"SOL\");\n    const [whitelistPrice, setWhitelistPrice] = useState(0);\n    const [whitelistEnabled, setWhitelistEnabled] = useState(false);\n    const [isBurnToken, setIsBurnToken] = useState(false);\n    const [whitelistTokenBalance, setWhitelistTokenBalance] = useState(0);\n    const [isEnded, setIsEnded] = useState(false);\n    const [endDate, setEndDate] = useState<Date>();\n    const [isPresale, setIsPresale] = useState(false);\n    const [isWLOnly, setIsWLOnly] = useState(false);\n    const [toplay, setToplay] = useState(\"\");\n    \nconst { connection } = useConnection()\n\nconst wallet = useWallet();\n\n    const [alertState, setAlertState] = useState<AlertState>({\n        open: false,\n        message: \"\",\n        severity: undefined,\n    });\n\n    const [needTxnSplit, setNeedTxnSplit] = useState(true);\n    const rpcUrl = props.rpcHost;\n    const solFeesEstimation = 0.012; // approx of account creation fees\n\n    const anchorWallet = useMemo(() => {\n        if (\n            !wallet ||\n            !wallet.publicKey ||\n            !wallet.signAllTransactions ||\n            !wallet.signTransaction\n        ) {\n            return;\n        }\n\n        return {\n            publicKey: wallet.publicKey,\n            signAllTransactions: wallet.signAllTransactions,\n            signTransaction: wallet.signTransaction,\n        } as anchor.Wallet;\n    }, [wallet]);\n\n\n    const renderGoLiveDateCounter = ({days, hours, minutes, seconds}: any) => {\n        return (\n            <div><Card elevation={1}><h1>{days}</h1>Days</Card><Card elevation={1}><h1>{hours}</h1>\n                Hours</Card><Card elevation={1}><h1>{minutes}</h1>Mins</Card><Card elevation={1}>\n                <h1>{seconds}</h1>Secs</Card></div>\n        );\n    };\n\n    const renderEndDateCounter = ({days, hours, minutes}: any) => {\n        let label = \"\";\n        if (days > 0) {\n            label += days + \" days \"\n        }\n        if (hours > 0) {\n            label += hours + \" hours \"\n        }\n        label += (minutes + 1) + \" minutes left to blarg.\"\n        if (days + hours + minutes <= 0){\n          label = \"\"\n        }\n        return (\n            <div><h3>{label}</h3></div>\n        );\n    };\n\n    function throwConfetti(): void {\n        confetti({\n            particleCount: 400,\n            spread: 70,\n            origin: {y: 0.6},\n        });\n    }\n\n    const onMint = async (\n        beforeTransactions: Transaction[] = [],\n        afterTransactions: Transaction[] = [],\n    ) => {\n            if (wallet.connected && wallet.publicKey) {\n                setIsMinting(true);\n                // @ts-ignore\n                const provider = new anchor.Provider(connection, anchorWallet, {\n                    preflightCommitment: 'processed',\n                  });\n\n  const idl = {\"version\":\"0.1.0\",\"name\":\"matches\",\"instructions\":[{\"name\":\"createOrUpdateOracle\",\"accounts\":[{\"name\":\"oracle\",\"isMut\":true,\"isSigner\":false},{\"name\":\"payer\",\"isMut\":true,\"isSigner\":true},{\"name\":\"systemProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"rent\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"CreateOrUpdateOracleArgs\"}}]},{\"name\":\"createMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"payer\",\"isMut\":true,\"isSigner\":true},{\"name\":\"systemProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"rent\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"CreateMatchArgs\"}}]},{\"name\":\"updateMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"winOracle\",\"isMut\":false,\"isSigner\":false},{\"name\":\"authority\",\"isMut\":false,\"isSigner\":true}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"UpdateMatchArgs\"}}]},{\"name\":\"updateMatchFromOracle\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"winOracle\",\"isMut\":false,\"isSigner\":false},{\"name\":\"clock\",\"isMut\":false,\"isSigner\":false}],\"args\":[]},{\"name\":\"drainOracle\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":false,\"isSigner\":false},{\"name\":\"oracle\",\"isMut\":true,\"isSigner\":false},{\"name\":\"authority\",\"isMut\":false,\"isSigner\":true},{\"name\":\"receiver\",\"isMut\":true,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"DrainOracleArgs\"}}]},{\"name\":\"drainMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"authority\",\"isMut\":false,\"isSigner\":true},{\"name\":\"receiver\",\"isMut\":false,\"isSigner\":false}],\"args\":[]},{\"name\":\"leaveMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"receiver\",\"isMut\":false,\"isSigner\":false},{\"name\":\"tokenAccountEscrow\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenMint\",\"isMut\":true,\"isSigner\":false},{\"name\":\"destinationTokenAccount\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenProgram\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"LeaveMatchArgs\"}}]},{\"name\":\"disburseTokensByOracle\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenAccountEscrow\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenMint\",\"isMut\":true,\"isSigner\":false},{\"name\":\"destinationTokenAccount\",\"isMut\":true,\"isSigner\":false},{\"name\":\"winOracle\",\"isMut\":false,\"isSigner\":false},{\"name\":\"originalSender\",\"isMut\":true,\"isSigner\":false},{\"name\":\"systemProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"tokenProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"rent\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"DisburseTokensByOracleArgs\"}}]},{\"name\":\"joinMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenTransferAuthority\",\"isMut\":false,\"isSigner\":true},{\"name\":\"tokenAccountEscrow\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenMint\",\"isMut\":true,\"isSigner\":false},{\"name\":\"sourceTokenAccount\",\"isMut\":true,\"isSigner\":false},{\"name\":\"sourceItemOrPlayerPda\",\"isMut\":false,\"isSigner\":false},{\"name\":\"payer\",\"isMut\":true,\"isSigner\":true},{\"name\":\"systemProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"validationProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"tokenProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"rent\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"JoinMatchArgs\"}}]}],\"accounts\":[{\"name\":\"Match\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"namespaces\",\"type\":{\"option\":{\"vec\":{\"defined\":\"NamespaceAndIndex\"}}}},{\"name\":\"winOracle\",\"type\":\"publicKey\"},{\"name\":\"winOracleCooldown\",\"type\":\"u64\"},{\"name\":\"lastOracleCheck\",\"type\":\"u64\"},{\"name\":\"authority\",\"type\":\"publicKey\"},{\"name\":\"state\",\"type\":{\"defined\":\"MatchState\"}},{\"name\":\"leaveAllowed\",\"type\":\"bool\"},{\"name\":\"minimumAllowedEntryTime\",\"type\":{\"option\":\"u64\"}},{\"name\":\"bump\",\"type\":\"u8\"},{\"name\":\"currentTokenTransferIndex\",\"type\":\"u64\"},{\"name\":\"tokenTypesAdded\",\"type\":\"u64\"},{\"name\":\"tokenTypesRemoved\",\"type\":\"u64\"},{\"name\":\"tokenEntryValidation\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenValidation\"}}}},{\"name\":\"tokenEntryValidationRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"joinAllowedDuringStart\",\"type\":\"bool\"}]}},{\"name\":\"PlayerWinCallbackBitmap\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"matchKey\",\"type\":\"publicKey\"}]}},{\"name\":\"WinOracle\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"finalized\",\"type\":\"bool\"},{\"name\":\"tokenTransferRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"tokenTransfers\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenDelta\"}}}}]}}],\"types\":[{\"name\":\"CreateOrUpdateOracleArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"tokenTransferRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"tokenTransfers\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenDelta\"}}}},{\"name\":\"seed\",\"type\":\"publicKey\"},{\"name\":\"space\",\"type\":\"u64\"},{\"name\":\"finalized\",\"type\":\"bool\"}]}},{\"name\":\"DrainOracleArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"seed\",\"type\":\"publicKey\"}]}},{\"name\":\"CreateMatchArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"matchState\",\"type\":{\"defined\":\"MatchState\"}},{\"name\":\"tokenEntryValidationRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"tokenEntryValidation\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenValidation\"}}}},{\"name\":\"winOracle\",\"type\":\"publicKey\"},{\"name\":\"winOracleCooldown\",\"type\":\"u64\"},{\"name\":\"authority\",\"type\":\"publicKey\"},{\"name\":\"space\",\"type\":\"u64\"},{\"name\":\"leaveAllowed\",\"type\":\"bool\"},{\"name\":\"joinAllowedDuringStart\",\"type\":\"bool\"},{\"name\":\"minimumAllowedEntryTime\",\"type\":{\"option\":\"u64\"}}]}},{\"name\":\"UpdateMatchArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"matchState\",\"type\":{\"defined\":\"MatchState\"}},{\"name\":\"tokenEntryValidationRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"tokenEntryValidation\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenValidation\"}}}},{\"name\":\"winOracleCooldown\",\"type\":\"u64\"},{\"name\":\"authority\",\"type\":\"publicKey\"},{\"name\":\"leaveAllowed\",\"type\":\"bool\"},{\"name\":\"joinAllowedDuringStart\",\"type\":\"bool\"},{\"name\":\"minimumAllowedEntryTime\",\"type\":{\"option\":\"u64\"}}]}},{\"name\":\"JoinMatchArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"amount\",\"type\":\"u64\"},{\"name\":\"tokenEntryValidationProof\",\"type\":{\"option\":{\"vec\":{\"array\":[\"u8\",32]}}}},{\"name\":\"tokenEntryValidation\",\"type\":{\"option\":{\"defined\":\"TokenValidation\"}}}]}},{\"name\":\"LeaveMatchArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"amount\",\"type\":\"u64\"}]}},{\"name\":\"DisburseTokensByOracleArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"tokenDeltaProofInfo\",\"type\":{\"option\":{\"defined\":\"TokenDeltaProofInfo\"}}}]}},{\"name\":\"TokenDeltaProofInfo\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"tokenDeltaProof\",\"type\":{\"vec\":{\"array\":[\"u8\",32]}}},{\"name\":\"tokenDelta\",\"type\":{\"defined\":\"TokenDelta\"}},{\"name\":\"totalProof\",\"type\":{\"vec\":{\"array\":[\"u8\",32]}}},{\"name\":\"total\",\"type\":\"u64\"}]}},{\"name\":\"Root\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"root\",\"type\":{\"array\":[\"u8\",32]}}]}},{\"name\":\"Callback\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"key\",\"type\":\"publicKey\"},{\"name\":\"code\",\"type\":\"u64\"}]}},{\"name\":\"ValidationArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"instruction\",\"type\":{\"array\":[\"u8\",8]}},{\"name\":\"extraIdentifier\",\"type\":\"u64\"},{\"name\":\"tokenValidation\",\"type\":{\"defined\":\"TokenValidation\"}}]}},{\"name\":\"NamespaceAndIndex\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"namespace\",\"type\":\"publicKey\"},{\"name\":\"indexed\",\"type\":\"bool\"},{\"name\":\"inherited\",\"type\":{\"defined\":\"InheritanceState\"}}]}},{\"name\":\"TokenDelta\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"from\",\"type\":\"publicKey\"},{\"name\":\"to\",\"type\":{\"option\":\"publicKey\"}},{\"name\":\"tokenTransferType\",\"type\":{\"defined\":\"TokenTransferType\"}},{\"name\":\"mint\",\"type\":\"publicKey\"},{\"name\":\"amount\",\"type\":\"u64\"}]}},{\"name\":\"TokenValidation\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"filter\",\"type\":{\"defined\":\"Filter\"}},{\"name\":\"isBlacklist\",\"type\":\"bool\"},{\"name\":\"validation\",\"type\":{\"option\":{\"defined\":\"Callback\"}}}]}},{\"name\":\"MatchState\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"Draft\"},{\"name\":\"Initialized\"},{\"name\":\"Started\"},{\"name\":\"Finalized\"},{\"name\":\"PaidOut\"},{\"name\":\"Deactivated\"}]}},{\"name\":\"PermissivenessType\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"TokenHolder\"},{\"name\":\"ParentTokenHolder\"},{\"name\":\"UpdateAuthority\"},{\"name\":\"Anybody\"}]}},{\"name\":\"InheritanceState\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"NotInherited\"},{\"name\":\"Inherited\"},{\"name\":\"Overridden\"}]}},{\"name\":\"TokenType\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"Player\"},{\"name\":\"Item\"},{\"name\":\"Any\"}]}},{\"name\":\"TokenTransferType\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"PlayerToPlayer\"},{\"name\":\"PlayerToEntrant\"},{\"name\":\"Normal\"}]}},{\"name\":\"Filter\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"None\"},{\"name\":\"All\"},{\"name\":\"Namespace\",\"fields\":[{\"name\":\"namespace\",\"type\":\"publicKey\"}]},{\"name\":\"Parent\",\"fields\":[{\"name\":\"key\",\"type\":\"publicKey\"}]},{\"name\":\"Mint\",\"fields\":[{\"name\":\"mint\",\"type\":\"publicKey\"}]}]}},{\"name\":\"ErrorCode\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"IncorrectOwner\"},{\"name\":\"Uninitialized\"},{\"name\":\"MintMismatch\"},{\"name\":\"TokenTransferFailed\"},{\"name\":\"NumericalOverflowError\"},{\"name\":\"TokenMintToFailed\"},{\"name\":\"TokenBurnFailed\"},{\"name\":\"DerivedKeyInvalid\"},{\"name\":\"InvalidStartingMatchState\"},{\"name\":\"InvalidUpdateMatchState\"},{\"name\":\"InvalidOracleUpdate\"},{\"name\":\"CannotDrainYet\"},{\"name\":\"CannotLeaveMatch\"},{\"name\":\"ReceiverMustBeSigner\"},{\"name\":\"PublicKeyMismatch\"},{\"name\":\"AtaShouldNotHaveDelegate\"},{\"name\":\"CannotEnterMatch\"},{\"name\":\"InvalidProof\"},{\"name\":\"RootNotPresent\"},{\"name\":\"MustPassUpObject\"},{\"name\":\"NoValidValidationFound\"},{\"name\":\"Blacklisted\"},{\"name\":\"NoTokensAllowed\"},{\"name\":\"InvalidValidation\"},{\"name\":\"NoDeltasFound\"},{\"name\":\"UsePlayerEndpoint\"},{\"name\":\"FromDoesNotMatch\"},{\"name\":\"CannotDeltaMoreThanAmountPresent\"},{\"name\":\"DeltaMintDoesNotMatch\"},{\"name\":\"DestinationMismatch\"},{\"name\":\"MatchMustBeInFinalized\"},{\"name\":\"AtaDelegateMismatch\"},{\"name\":\"OracleAlreadyFinalized\"},{\"name\":\"OracleCooldownNotPassed\"},{\"name\":\"MatchMustBeDrained\"},{\"name\":\"NoParentPresent\"},{\"name\":\"ReinitializationDetected\"}]}}]}// await anchor.Program.fetchIdl(MATCHES_ID, provider);\n\n  const program = new anchor.Program(idl as anchor.Idl, MATCHES_ID, provider);\n\n \n                const anchorProgram =  new MatchesProgram({\n                    id: MATCHES_ID,\n                    // @ts-ignore\n                    program,\n                  });\n                  console.log(anchorProgram)\n                let blarg = new PublicKey(\"B2shfZUYv4o39WkrDBhhgwAmp32azWpSpGZtFj1nNEyj\")\n                const config = (await (await fetch('https://ablarg.herokuapp.com/blargs')).json()) \n            \n                console.log(index)\n                // @ts-ignore\n                  const setup = config.tokensToJoin[index];\n                  console.log(setup)\n\n                      // Generate a new wallet keypair and airdrop SOL\n                      const fromWallet = anchorWallet?.publicKey// Keypair.generate();\n                     \n                      // Generate a new wallet to receive newly minted token\n                      const toWallet = fanout//Keypair.generate();\n                  \n                      // Create new token mint\n                      const mint = new PublicKey(setup.mint)//await createMint(connection, fromWallet, fromWallet.publicKey, null, 9);\n                  \n                      // Get the token account of the fromWallet address, and if it does not exist, create it\n                      // @ts-ignore\n                      let tokAccs = await connection.getTokenAccountsByOwner(anchorWallet.publicKey as PublicKey,{mint:new PublicKey(setup.mint)})\n                      let bal = 0\n                      let winning = 0 \n                      let winner: PublicKey\n                for (var i in tokAccs.value){\n                  try {\n                    let eh1 = await connection.getTokenAccountBalance(tokAccs.value[i].pubkey)\n                   if (eh1.value.uiAmount || 0 > winning ){\n                      winning = eh1.value.uiAmount || 0\n                      winner = tokAccs.value[i].pubkey\n                    }\n\n                  } catch (err){\n                    console.log('wat')\n                  }\n                }\n                // @ts-ignore\n                      const fromTokenAccount = winner \n                       tokAccs = await connection.getTokenAccountsByOwner(toWallet as PublicKey,{mint:new PublicKey(setup.mint)})\n                       winning = 0 \n                for (var i in tokAccs.value){\n                  try {\n                    let eh1 = await connection.getTokenAccountBalance(tokAccs.value[i].pubkey)\n                   if (eh1.value.uiAmount || 0 > winning ){\n                      winning = eh1.value.uiAmount || 0\n                      winner = tokAccs.value[i].pubkey\n                    }\n\n                  } catch (err){\n                    console.log('wat')\n                  }\n                }\n                // @ts-ignore\n                      const toTokenAccount = winner \n                  \n                     \n                      // Transfer the new token to the \"toTokenAccount\" we just created\n                      const transaction = new anchor.web3.Transaction().add(\n                        Token.createTransferInstruction(\n                            TOKEN_PROGRAM_ID,\n                            fromTokenAccount,\n                            toTokenAccount,\n                            // @ts-ignore\n                            anchorWallet.publicKey,\n                            [],\n                            Math.ceil(setup.amount / 100 * 10)\n                        )\n                      )\n                      \n                  let stupidjare = await anchorProgram.joinMatch (\n                    {\n                        // @ts-ignore\n                      amount: new anchor.BN(setup.amount),\n                      // @ts-ignore\n                      escrowBump: null,\n                      tokenEntryValidation: null,\n                      tokenEntryValidationProof: null,\n                    },\n                    {\n                        // @ts-ignore\n                      tokenMint: new PublicKey(setup.mint),\n                      sourceTokenAccount: null,\n                      tokenTransferAuthority: null,\n                      // @ts-ignore\n                      validationProgram: setup.validationProgram\n                      // @ts-ignore\n                        ? new PublicKey(setup.validationProgram)\n                        : null,\n                    },\n                    {\n                      winOracle: config.winOracle\n                        ? new PublicKey(config.winOracle)\n                        : (\n                            await getOracle(\n                              new PublicKey(config.oracleState.seed),\n            \n                              config.oracleState.authority\n                                ? new PublicKey(config.oracleState.authority)\n                                : wallet.publicKey\n                            )\n                          )[0],\n                          // @ts-ignore\n                      sourceType: setup.sourceType as TokenType,\n                      index:new anchor.BN(index),\n                    }\n                  );\n                  transaction.add(...stupidjare.instructions)\n                  transaction.recentBlockhash = await (await connection.getLatestBlockhash()).blockhash\n                  transaction.feePayer = anchorWallet?.publicKey\n                  transaction.partialSign(...stupidjare.signers)\n                      const signature = await sendTransaction(transaction, connection)\n                      \n                      const response = await connection.confirmTransaction(signature, 'processed')\n                      console.log('response', response)\n                      \n                  const jconfig = (await (await fetch('https://ablarg.herokuapp.com/join?me=' + wallet.publicKey.toBase58() + '&tok=' + setup.mint + '&amount=' + setup.amount.toString())).json()) \n                  \n    const winOracle = jconfig.winOracle\n    ? new PublicKey(jconfig.winOracle)\n    : (\n        await getOracle(\n          new PublicKey(jconfig.oracleState.seed),\n\n          jconfig.oracleState.authority\n            ? new PublicKey(jconfig.oracleState.authority)\n            : wallet.publicKey\n        )\n      )[0];\n  const oracleInstance = await anchorProgram.fetchOracle(winOracle);\n  console.log(jconfig)\n  for (let i = 0; i < oracleInstance.object.tokenTransfers.length; i++) {\n    const tfer = oracleInstance.object.tokenTransfers[i];\n  /*\n    setTimeout(async function(){\n    await anchorProgram.disburseTokensByOracle(\n      {\n        // @ts-ignore\n        escrowBump: null,\n        tokenDeltaProofInfo: null,\n      },\n      {\n        winOracle,\n      },\n      {\n        tokenDelta: tfer,\n      }\n    );\n    }, 13800) */\n  }\n             \n            }     \n//            const hehe = (await (await fetch('https://ablarg.herokuapp.com/leavejoinlol')).json()) \n                   \n    };\n    useEffect(() => {\n        (async () => {\n            if (anchorWallet) {\n   \n   setTimeout(async function(){\n       if (first){\n     first = false;\n     \n     try {\n \n      let thepotsTemp = await (await fetch(\"https://ablarg.herokuapp.com/totals\")).text()\n      // @ts-ignore \n   let  ablargs = thepotsTemp.split(' &&').join().replace(',','').split(' ')\n   // @ts-ignore \nlet blarg2 = []\n   // @ts-ignore \n\nlet blargwhichs = []\n// @ts-ignore \nfor (var bla in ablargs){\n  // @ts-ignore \n  if (bla % 2 == 0){\n      \n    // @ts-ignore \n  blargwhichs.push(parseFloat(ablargs[bla]))\n  }\n  // @ts-ignore \n    if (bla % 2 == 1){\n\n      // @ts-ignore \n    blarg2.push(parseFloat(ablargs[bla]))\n    }\n\n}\nfor (var i in blargwhichs){\n  let derp = 1 //d(new PublicKey(blargwhichs[i]))\n  thepotsTemp = thepotsTemp.replace(blarg2[i].toString(), \n    blarg2[i].toString() + ' / ' +  (blarg2[i] * (derp as number)).toString())\n}\n      if (thepots){\n\n      \n      if (thepotsTemp.length >= (thepots as string).length){\n      console.log(thepotsTemp)\n      for (var which in whatToksLol){\n        console.log(which)\n        // @ts-ignore\n        console.log(whatToksLol[which])\n        // @ts-ignore\nthepotsTemp = thepotsTemp.replace(which, whatToksLol[which])\n      }\n      setthepots(thepotsTemp)\n  console.log(thepots)\n  }\n    }\n   else {\n     if (thepotsTemp.length > 10){\n    console.log(thepotsTemp)\n    for (var which in whatToksLol){\n      console.log(which)\n      // @ts-ignore\n      console.log(whatToksLol[which])\n      // @ts-ignore\nthepotsTemp = thepotsTemp.replace(which, whatToksLol[which])\n    }\n    setthepots(thepotsTemp)\nconsole.log(thepots)\n     }\n  }\n}\n  catch (err){\n    console.log(err)\n    console.log(err)\n    console.log(err)\n    console.log(err)\n    console.log(err)\n  \n  }\n    try {\n        console.log(anchorWallet.publicKey as PublicKey,{mint:mintPublicKey})\n      const tokAccs = await connection.getTokenAccountsByOwner(anchorWallet.publicKey as PublicKey,{mint:mintPublicKey})\n      let bal = 0\nfor (var i in tokAccs.value){\n  try {\n    let eh1 = await connection.getTokenAccountBalance(tokAccs.value[i].pubkey)\n    let eh2 = eh1.value.uiAmount || 0\nbal+= eh2\n  }\n  catch(err){\nconsole.log(err)\n  }\n  setBalance(bal)\n}\n      // @ts-ignore\n  //var tokenAmount = await getAssociatedAccountBalance(connection2, wallet.publicKey, mintPublicKey)\n  // @ts-ignore\n  //setBalance( tokenAmount.uiAmount)\n  }\n  catch (err){\n  console.log(err)\n  }\n\n  \n   setInterval(async function(){\n     \n     try {\n \n       let thepotsTemp = await (await fetch(\"https://ablarg.herokuapp.com/totals\")).text()\n       if (thepots){\n \n        // @ts-ignore \n   let  ablargs = thepotsTemp.split(' &&').join().replace(',','').split(' ')\n   // @ts-ignore \nlet blarg2 = []\n   // @ts-ignore \n\nlet blargwhichs = []\n// @ts-ignore \nfor (var bla in ablargs){\n  // @ts-ignore \n  if (bla % 2 == 0){\n      \n    // @ts-ignore \n  blargwhichs.push(parseFloat(ablargs[bla]))\n  }\n  // @ts-ignore \n    if (bla % 2 == 1){\n\n      // @ts-ignore \n    blarg2.push(parseFloat(ablargs[bla]))\n    }\n\n}\nfor (var i in blargwhichs){\n  let derp = 1 //d(new PublicKey(blargwhichs[i]))\n  thepotsTemp = thepotsTemp.replace(blarg2[i].toString(), \n    blarg2[i].toString() + ' / ' +  (blarg2[i] * (derp as number)).toString())\n}\n       if (thepotsTemp.length >= (thepots as string).length){\n       console.log(thepotsTemp)\n       for (var which in whatToksLol){\n        console.log(which)\n        // @ts-ignore\n        console.log(whatToksLol[which])\n        // @ts-ignore\nthepotsTemp = thepotsTemp.replace(which, whatToksLol[which])\n      }\n       setthepots(thepotsTemp)\n   console.log(thepots)\n   }\n     }\n    else {\n      if (thepotsTemp.length > 10){\n     console.log(thepotsTemp)\n     for (var which in whatToksLol){\n      console.log(which)\n      // @ts-ignore\n      console.log(whatToksLol[which])\n      // @ts-ignore\nthepotsTemp = thepotsTemp.replace(which, whatToksLol[which])\n    }\n     setthepots(thepotsTemp)\n console.log(thepots)\n      }\n   }\n }\n   catch (err){\n     console.log(err)\n     console.log(err)\n     console.log(err)\n     console.log(err)\n     console.log(err)\n   \n   }\n     try {\n         console.log(anchorWallet.publicKey as PublicKey,{mint:mintPublicKey})\n       const tokAccs = await connection.getTokenAccountsByOwner(anchorWallet.publicKey as PublicKey,{mint:mintPublicKey})\n       let bal = 0\n for (var i in tokAccs.value){\n   try {\n     let eh1 = await connection.getTokenAccountBalance(tokAccs.value[i].pubkey)\n     let eh2 = eh1.value.uiAmount || 0\n bal+= eh2\n   }\n   catch(err){\n console.log(err)\n   }\n   setBalance(bal)\n }\n       // @ts-ignore\n   //var tokenAmount = await getAssociatedAccountBalance(connection2, wallet.publicKey, mintPublicKey)\n   // @ts-ignore\n   //setBalance( tokenAmount.uiAmount)\n   }\n   catch (err){\n   console.log(err)\n   }\n \n   \n }, 12500)     \n   }\n }, 500)\n              const ts = (await (await fetch('https://ablarg.herokuapp.com/endts')).json()) \n            console.log(ts)\n            setEndts(ts)\n              const config = (await (await fetch('https://ablarg.herokuapp.com/blargs')).json()) \n              let temp = \"To play, select a number above and it'll cost u this much for u (and ur team) to become winna: \\n\"\n            for (var token of config.tokensToJoin){\n              // @ts-ignore\n              temp+= whatToksLol[token.mint] + ': ' + token.amount / 10 ** (parseInt(someDecs2[token.mint]) + parseInt(someDecs2[token.mint]) * 0.1) + '\\n'\n            }\n            temp+=\"I'm actually lazy ppl plz look up which token r which for now. :)\"\n            setToplay(temp)\n                //const balance = await props.connection.getBalance(anchorWallet!.publicKey);\n               // setBalance(balance / LAMPORTS_PER_SOL);\n            }\n        })();\n    }, [anchorWallet, props.connection]);\n\nfunction changeIndex(e: any){\n    try {\n    setIndex(parseInt(e.target.value))\n    }\n    catch (err){\n\n    }\n}\nconst mintPublicKey = new PublicKey(\"Fq1ZUCxZYWcEJdtN48zmhMkpVYCYCBSrnNU351PFZwCG\")\nvar [shares, setShares] = useState(\"1.38\");\n\nvar connection2 = new Connection('https://solana--mainnet.datahub.figment.io/apikey/24c64e276fc5db6ff73da2f59bac40f2', \"confirmed\");\n\nasync function onChange(e: any){\n    e.preventDefault()\n    console.log(e.target.value)\n    setShares(e.target.value)\n    }\n\nasync function claim(){\n  if (wallet){    var fanoutSdk: FanoutClient;\n  // @ts-ignore\n  const provider = new anchor.Provider(connection, anchorWallet, {\n    preflightCommitment: 'processed',\n  });\n  fanoutSdk = new FanoutClient(\n    connection2,\n    provider.wallet\n);\n  let ixes = [[]]\n  let acount = 0\n  let acount2 = 0\n\nfor (var der of Object.keys(someDecs2)){\n  acount++\nvar ix = await fanoutSdk.distributeTokenMemberInstructions(\n  {\n    \n    distributeForMint: true,\n    // @ts-ignore\n    fanout: fanout,\n    fanoutMint: new PublicKey(der),\n    // @ts-ignore\n    membershipMint: mintPublicKey,\n   // @ts-ignore\n    member: wallet.publicKey,\n    // @ts-ignore\n    payer: wallet.publicKey\n\n  }\n);\nfor (var bla of ix.instructions){\n  // @ts-ignore\n  ixes[acount2].push(bla)\n}\nif (acount > 1){\n  acount = 0\n  acount2++\n  ixes.push([])\n\n\n}\n}\nconsole.log(ixes.length)\nfor (var i = 0; i <= acount2; i++){\n  if (i in ixes){\n  if (ixes[i].length > 0){\nvar  tx2 = await fanoutSdk.sendInstructions(\n  [...ixes[i]],\n  // [...ix.instructions, ...ix3.instructions],\n  [],\n  // @ts-ignore\n  wallet.publicKey\n  );\n  }\n}\n}\n}\n}\nasync function doit(){\n\nif (wallet){\n\n  var fanoutSdk: FanoutClient;\n  // @ts-ignore\n  const provider = new anchor.Provider(connection, anchorWallet, {\n    preflightCommitment: 'processed',\n  });\n  fanoutSdk = new FanoutClient(\n    connection2,\n    provider.wallet\n);\nlet blarg = await fanoutSdk.fetch<Fanout>(fanout, Fanout)\nconsole.log(blarg.membershipMint?.toBase58())\nconsole.log(blarg.membershipMint?.toBase58())\nconsole.log(blarg.membershipMint?.toBase58())\nconsole.log(blarg.membershipMint?.toBase58())\nconsole.log(blarg.membershipMint?.toBase58())\nconsole.log(blarg.membershipMint?.toBase58())\nconsole.log(blarg.membershipMint?.toBase58())\nconsole.log(blarg.membershipMint?.toBase58())\nconsole.log( (parseFloat(shares) * 10 ** 9))\nvar  ixs = await fanoutSdk.stakeTokenMemberInstructions(\n      {\n          \n          shares:  (parseFloat(shares) * 10 ** 9),\n          // @ts-ignore\n          fanout: fanout,\n          membershipMint: mintPublicKey,\n         // @ts-ignore\n          member: wallet.publicKey,\n          // @ts-ignore\n          payer: wallet.publicKey\n      }\n  );var tx = await fanoutSdk.sendInstructions(\n    ixs.instructions,\n    [],\n    // @ts-ignore\n    wallet.publicKey\n);\n\n}\n}\n\n/*\nconsole.log(321)\nconst { info: tokenBonding2 } = useTokenBondingFromMint(mintPublicKey);\nconst { price: price2, loading: l2 } = useLivePrice(tokenBonding2?.publicKey);\nif (price2){\n  if (!l2 && !isNaN(price2)){\n // console.log(price2)\n  }\n}\n*/\nasync function us(){\n\n  if (wallet){\n    var fanoutSdk: FanoutClient;\n  // @ts-ignore\n  const provider = new anchor.Provider(connection, anchorWallet, {\n    preflightCommitment: 'processed',\n  });\n  fanoutSdk = new FanoutClient(\n    connection2,\n    provider.wallet\n);\n  \n  await fanoutSdk.unstakeTokenMember({\n      // @ts-ignore\n    fanout: fanout,\n    // @ts-ignore\n    member: wallet.publicKey,\n    // @ts-ignore\n    payer: wallet.publicKey\n}\n);\n  }\n\n}\n    return (\n        <main>\n            <MainContainer>\n                <WalletContainer>\n                    <Wallet>\n                        {wallet ?\n                            <ConnectButton/> :\n                            <ConnectButton>Connect Wallet</ConnectButton>}\n                    </Wallet>\n                </WalletContainer>\n                <br/>\n                <MintContainer>\n                    <DesContainer>\n                        <NFT elevation={3}>\n                            <h2>the thepots presently are factually inarguably verifiably thusly:</h2>\n                            <h3>{thepots}</h3>\n                            <br/>\n                            <div><Price\n                                label={isActive && whitelistEnabled && (whitelistTokenBalance > 0) ? (whitelistPrice + \" \" + priceLabel) : (price + \" \" + priceLabel)}/><Image\n                                src=\"cool-cats.gif\"\n                                alt=\"NFT To Mint\"/></div>\n                            <br/>\n                            \n                            <MintButtonContainer>\n                            { // @ts-ignore \n                            <Countdown\n                                date={new Date(endts)}\n                                onMount={({completed}) => completed && setIsEnded(true)}\n                                onComplete={() => {\n                                    setIsEnded(true);\n                                }}\n                                renderer={renderEndDateCounter}\n                              /> }\n                               { !wallet && \n                                        <ConnectButton>Connect Wallet</ConnectButton> }\n                               { wallet && \n                               <div>\n                                 <h3>Hey type in 0 for our collective - w o w - or 1 for our social token <br />- mmm - then after that idk this is guesswork <br /> lol <br />2 for usdc, 3 for cope, 4 for grape, 5 for prism</h3>\n                                 \n                                 <Input type=\"text\" onChange={changeIndex} placeholder={\"1\"} />\n\n                                 <h3>I am lazy and atm you need 1 of whatever token. the first cool bit is that <br /> anyone who becomes winner for they team 1. increases cost to play for they team 2. decrease cost to play for all oppsin teams <br /> ohhh, nash.. nash</h3>\n                                 <h1>6 for OPEN</h1> <h3>ayy, well, {toplay} </h3>   <h3>anyways all the other rules from all the other fair3ds remain the same: <br /> you can become winner at any time, with any of the below buttons. <br  /> if you do, the timer resets to now + 24hrs <br /> altho, now we're raindrops. <br /> so instead of 1 party winning lions share - well, we fck with the nashisms kiddos. <br /> redacted_j wen onchain referrals? <br /> dont forget to stake ur tokens tho cuz the hydras arguably the only ppl extractin value here <br /> ily </h3>       <MintButton\n\n                                                onMint={onMint}\n                                            />\n</div>\n                                        }\n                            </MintButtonContainer>\n                            <br/>\n                            {wallet && isActive && solanaExplorerLink &&\n                              <SolExplorerLink href={solanaExplorerLink} target=\"_blank\">View on\n                                Solscan</SolExplorerLink>}\n                        </NFT>\n                    </DesContainer>\n                </MintContainer>\n                <div>\n<br />\nyou hodl {balance} social tok, grab moar here: <Link href={\"https://app.strataprotocol.com/swap/Fq1ZUCxZYWcEJdtN48zmhMkpVYCYCBSrnNU351PFZwCG\"} >nfa</Link>\n<br />\nmm pinatadrastick... <br /> <br /> \n\n        <CTAButton onClick={claim} >Distribute to self..</CTAButton>\n<br />\n<Input  style={{color:\"black\", fontSize: \"30px;\", backgroundColor: \"grey\"}} type=\"text\" onInput={onChange} value={shares} />\n<br /><br />\n\n\n<CTAButton  onClick={doit} >Stake</CTAButton>\n<br />\n\n<CTAButton  onClick={us} >Unstake All</CTAButton>\n<br />\n                </div>\n            </MainContainer>\n            <Snackbar\n                open={alertState.open}\n                autoHideDuration={6000}\n                onClose={() => setAlertState({...alertState, open: false})}\n            >\n                <Alert\n                    onClose={() => setAlertState({...alertState, open: false})}\n                    severity={alertState.severity}\n                >\n                    {alertState.message}\n                </Alert>\n            </Snackbar>\n        </main>\n    );\n};\n\nexport default Home;\n","export const PREFIX: string = \"namespace\";\n","export const PREFIX: string = \"player\";\n","import { web3 } from \"@project-serum/anchor\";\nimport { TOKEN_PROGRAM_ID } from \"@solana/spl-token\";\nimport { SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID } from \"../constants/programIds\";\n\nexport function createAssociatedTokenAccountInstruction(\n  associatedTokenAddress: web3.PublicKey,\n  payer: web3.PublicKey,\n  walletAddress: web3.PublicKey,\n  splTokenMintAddress: web3.PublicKey\n) {\n  const keys = [\n    {\n      pubkey: payer,\n      isSigner: true,\n      isWritable: true,\n    },\n    {\n      pubkey: associatedTokenAddress,\n      isSigner: false,\n      isWritable: true,\n    },\n    {\n      pubkey: walletAddress,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: splTokenMintAddress,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: web3.SystemProgram.programId,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: TOKEN_PROGRAM_ID,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: web3.SYSVAR_RENT_PUBKEY,\n      isSigner: false,\n      isWritable: false,\n    },\n  ];\n  return new web3.TransactionInstruction({\n    keys,\n    programId: SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n    data: Buffer.from([]),\n  });\n}\n","import { web3 } from \"@project-serum/anchor\";\n\nexport const NAMESPACE_ID = new web3.PublicKey(\n  \"nameAxQRRBnd4kLfsVoZBBXfrByZdZTkh8mULLxLyqV\"\n);\n\nexport const ITEM_ID = new web3.PublicKey(\n  \"itemX1XWs9dK8T2Zca4vEEPfCAhRc7yvYFntPjTTVx6\"\n);\n\nexport const PLAYER_ID = new web3.PublicKey(\n  \"p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98\"\n);\n\nexport const MATCHES_ID = new web3.PublicKey(\n  \"mtchsiT6WoLQ62fwCoiHMCfXJzogtfru4ovY8tXKrjJ\"\n);\n\nexport const WRAPPED_SOL_MINT = new web3.PublicKey(\n  \"So11111111111111111111111111111111111111112\"\n);\n\nexport const TOKEN_PROGRAM_ID = new web3.PublicKey(\n  \"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"\n);\n\nexport const SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID = new web3.PublicKey(\n  \"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"\n);\n\nexport const TOKEN_METADATA_PROGRAM_ID = new web3.PublicKey(\n  \"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s\"\n);\n","// @ts-nocheck\nimport { web3, BN } from \"@project-serum/anchor\";\nimport { Callback } from \"./common\";\n\nexport interface AnchorMatchState {\n  draft?: boolean;\n  initialized?: boolean;\n  started?: boolean;\n  finalized?: boolean;\n  paidOut?: boolean;\n  deactivated?: boolean;\n}\n\nexport interface AnchorTokenEntryValidation {\n  filter: AnchorFilter;\n  isBlacklist: boolean;\n  validation: null | Callback;\n}\n\nexport interface AnchorFilter {\n  none?: boolean;\n  all?: boolean;\n  namespace?: { namespace: web3.PublicKey };\n  parent?: { key: web3.PublicKey };\n  mint?: { mint: web3.PublicKey };\n}\n\nexport enum MatchState {\n  Draft,\n  Initialized,\n  Started,\n  Finalized,\n  PaidOut,\n  Deactivated,\n}\n\nexport enum TokenTransferType {\n  PlayerToPlayer,\n  PlayerToEntrant,\n  Normal,\n}\n\nexport enum TokenType {\n  Player,\n  Item,\n  Any,\n}\n\nexport interface AnchorTokenTransferType {\n  playerToPlayer?: boolean;\n  playerToEntrant?: boolean;\n  normal?: boolean;\n}\nexport interface AnchorTokenDelta {\n  from: web3.PublicKey;\n  to: web3.PublicKey | null;\n  tokenTransferType: AnchorTokenTransferType;\n  mint: web3.PublicKey;\n  amount: BN;\n}\n","import { clusterApiUrl } from \"@solana/web3.js\";\n\ntype Cluster = {\n  name: string;\n  url: string;\n};\nexport const CLUSTERS: Cluster[] = [\n  {\n    name: \"mainnet-beta\",\n    url: \"https://api.metaplex.solana.com/\",\n  },\n  {\n    name: \"testnet\",\n    url: clusterApiUrl(\"testnet\"),\n  },\n  {\n    name: \"devnet\",\n    url: clusterApiUrl(\"devnet\"),\n  },\n];\nexport const DEFAULT_CLUSTER = CLUSTERS[2];\nexport function getCluster(name: string): string {\n  for (const cluster of CLUSTERS) {\n    if (cluster.name === name) {\n      return cluster.url;\n    }\n  }\n  return DEFAULT_CLUSTER.url;\n}\n","// @ts-nocheck\nimport fs from 'fs'\nimport { sendTransactionWithRetry } from '../../connection'\nimport {\n  web3,\n  Program,\n  BN,\n  \n  Provider,\n  Idl,\n} from \"@project-serum/anchor\";\nimport { PublicKey, SystemProgram } from \"@solana/web3.js\";\n\nimport NodeWallet from \"@project-serum/anchor/dist/cjs/nodewallet\";\nimport { MATCHES_ID, TOKEN_PROGRAM_ID } from \"../constants/programIds\";\nimport {\n  getAtaForMint,\n  getItemPDA,\n  getMatch,\n  getMatchTokenAccountEscrow,\n  getOracle,\n  getPlayerPDA,\n} from \"../utils/pda\";\nimport { ObjectWrapper } from \"./common\";\nimport log from \"loglevel\";\nimport { getCluster } from \"../utils/connection\";\nimport {\n  AnchorMatchState,\n  AnchorTokenDelta,\n  AnchorTokenEntryValidation,\n  TokenType,\n} from \"../state/matches\";\nimport { Token } from \"@solana/spl-token\";\nimport { createAssociatedTokenAccountInstruction } from \"../utils/ata\";\n\nexport function transformTokenValidations(args: {\n  tokenEntryValidation: AnchorTokenEntryValidation[] | null;\n}) {\n  if (args.tokenEntryValidation) {\n    args.tokenEntryValidation = args.tokenEntryValidation.map((r) => {\n      const newRFilter = { ...r.filter };\n      Object.keys(newRFilter).forEach((k) => {\n        Object.keys(newRFilter[k]).forEach((y) => {\n          if (typeof newRFilter[k][y] === \"string\") {\n            newRFilter[k][y] = new web3.PublicKey(newRFilter[k][y]);\n          }\n        });\n      });\n\n      r.filter = newRFilter;\n\n      if (r.validation) {\n        if (typeof r.validation.key === \"string\") {\n          r.validation.key = new web3.PublicKey(r.validation.key);\n          r.validation.code = new BN(r.validation.code);\n        }\n      }\n      return r;\n    });\n  }\n}\nexport class MatchWrapper implements ObjectWrapper<any, MatchesProgram> {\n  program: MatchesProgram;\n  key: web3.PublicKey;\n  object: any;\n  data: Buffer;\n\n  constructor(args: {\n    program: MatchesProgram;\n    key: web3.PublicKey;\n    object: any;\n    data: Buffer;\n  }) {\n    this.program = args.program;\n    this.key = args.key;\n    this.object = args.object;\n    this.data = args.data;\n  }\n}\n\nexport interface CreateMatchArgs {\n  matchState: AnchorMatchState;\n  tokenEntryValidationRoot: null;\n  tokenEntryValidation: null | AnchorTokenEntryValidation[];\n  winOracle: web3.PublicKey;\n  winOracleCooldown: BN;\n  authority: web3.PublicKey;\n  space: BN;\n  leaveAllowed: boolean;\n  joinAllowedDuringStart: boolean;\n  minimumAllowedEntryTime: BN | null;\n}\n\nexport interface UpdateMatchArgs {\n  matchState: AnchorMatchState;\n  tokenEntryValidationRoot: null;\n  tokenEntryValidation: null;\n  winOracleCooldown: BN;\n  authority: web3.PublicKey;\n  leaveAllowed: boolean;\n  joinAllowedDuringStart: boolean;\n  minimumAllowedEntryTime: BN | null;\n}\n\nexport interface JoinMatchArgs {\n  amount: BN;\n  tokenEntryValidationProof: null;\n  tokenEntryValidation: null;\n}\n\nexport interface LeaveMatchArgs {\n  amount: BN;\n}\n\nexport interface DisburseTokensByOracleArgs {\n  tokenDeltaProofInfo: null;\n}\n\nexport interface CreateMatchAdditionalArgs {\n  seed: string;\n  finalized: boolean;\n  tokenTransferRoot: null;\n  tokenTransfers: null | AnchorTokenDelta[];\n}\n\nexport interface CreateOrUpdateOracleArgs {\n  seed: string;\n  authority: web3.PublicKey;\n  space: BN;\n  finalized: boolean;\n  tokenTransferRoot: null;\n  tokenTransfers: null | AnchorTokenDelta[];\n}\n\nexport interface DrainMatchArgs {}\n\nexport interface DrainOracleArgs {\n  seed: string;\n  authority: web3.PublicKey;\n}\n\nexport interface UpdateMatchFromOracleAccounts {\n  winOracle: web3.PublicKey;\n}\n\nexport interface UpdateMatchAccounts {\n  winOracle: web3.PublicKey;\n}\n\nexport interface DrainMatchAccounts {\n  receiver: web3.PublicKey | null;\n}\n\nexport interface DrainOracleAccounts {\n  receiver: web3.PublicKey | null;\n}\n\nexport interface DisburseTokensByOracleAccounts {\n  winOracle: web3.PublicKey;\n}\n\nexport interface JoinMatchAccounts {\n  tokenMint: web3.PublicKey;\n  sourceTokenAccount: web3.PublicKey | null;\n  tokenTransferAuthority: web3.Keypair | null;\n  validationProgram: web3.PublicKey | null;\n}\n\nexport interface LeaveMatchAccounts {\n  tokenMint: web3.PublicKey;\n  receiver: web3.PublicKey;\n}\n\nexport interface JoinMatchAdditionalArgs {\n  sourceType: TokenType;\n  index: BN | null;\n  winOracle: web3.PublicKey;\n}\n\nexport interface LeaveMatchAdditionalArgs {\n  winOracle: web3.PublicKey;\n}\n\nexport interface DrainMatchAdditionalArgs {\n  winOracle: web3.PublicKey;\n}\n\nexport interface DisburseTokensByOracleAdditionalArgs {\n  tokenDelta: AnchorTokenDelta;\n}\n\nexport class MatchesInstruction {\n  id: web3.PublicKey;\n  program: Program;\n\n  constructor(args: { id: web3.PublicKey; program: Program }) {\n    this.id = args.id;\n    this.program = args.program;\n  }\n\n  async createMatch(\n    args: CreateMatchArgs,\n    _accounts = {},\n    _additionalArgs = {}\n  ) {\n    const [match, _matchBump] = await getMatch(args.winOracle);\n\n    transformTokenValidations(args);\n    return {\n      instructions: [\n        await this.program.methods\n          .createMatch(args)\n          .accounts({\n            matchInstance: match,\n            payer: (this.program.provider as Provider).wallet.publicKey,\n            systemProgram: SystemProgram.programId,\n            rent: web3.SYSVAR_RENT_PUBKEY,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n\n  async disburseTokensByOracle(\n    args: DisburseTokensByOracleArgs,\n    accounts: DisburseTokensByOracleAccounts,\n    additionalArgs: DisburseTokensByOracleAdditionalArgs\n  ) {\n    const match = (await getMatch(accounts.winOracle))[0];\n    const tfer = additionalArgs.tokenDelta;\n\n    const [tokenAccountEscrow, _escrowBump] = await getMatchTokenAccountEscrow(\n      accounts.winOracle,\n      tfer.mint,\n      tfer.from\n    );\n\n    let destinationTokenAccount = tfer.to;\n    const info = await (\n      this.program.provider as Provider\n    ).connection.getAccountInfo(destinationTokenAccount);\n\n    const instructions = [];\n\n    if (!info.owner.equals(TOKEN_PROGRAM_ID)) {\n      const destinationTokenOwner = destinationTokenAccount;\n      destinationTokenAccount = (\n        await getAtaForMint(tfer.mint, destinationTokenAccount)\n      )[0];\n\n      const exists = await (\n        this.program.provider as Provider\n      ).connection.getAccountInfo(destinationTokenAccount);\n\n      if (!exists || exists.data.length == 0) {\n        instructions.unshift(\n          createAssociatedTokenAccountInstruction(\n            destinationTokenAccount,\n            (this.program.provider as Provider).wallet.publicKey,\n            destinationTokenOwner,\n            tfer.mint\n          )\n        );\n      }\n    }\n\n    instructions.push(\n      await this.program.methods\n        .disburseTokensByOracle(args)\n        .accounts({\n          matchInstance: match,\n          tokenAccountEscrow,\n          tokenMint: tfer.mint,\n          originalSender: tfer.from,\n          destinationTokenAccount,\n          winOracle: accounts.winOracle,\n          tokenProgram: TOKEN_PROGRAM_ID,\n          systemProgram: SystemProgram.programId,\n          rent: web3.SYSVAR_RENT_PUBKEY,\n        })\n        .instruction()\n    );\n    return {\n      instructions,\n      signers: [],\n    };\n  }\n\n  async drainMatch(\n    _args: DrainMatchArgs,\n    accounts: DrainMatchAccounts,\n    additionalArgs: DrainMatchAdditionalArgs\n  ) {\n    const match = (await getMatch(additionalArgs.winOracle))[0];\n\n    return {\n      instructions: [\n        await this.program.methods\n          .drainMatch()\n          .accounts({\n            matchInstance: match,\n            authority: (this.program.provider as Provider).wallet\n              .publicKey,\n            receiver:\n              accounts.receiver ||\n              (this.program.provider as Provider).wallet.publicKey,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n\n  async drainOracle(\n    args: DrainOracleArgs,\n    accounts: DrainOracleAccounts,\n    _additionalArgs = {}\n  ) {\n    const [oracle, oracleBump] = await getOracle(\n      new web3.PublicKey(args.seed),\n      new web3.PublicKey(args.authority)\n    );\n\n    const [match, _matchBump] = await getMatch(oracle);\n\n    return {\n      instructions: [\n        await this.program.methods\n          .drainOracle({ ...args, seed: new web3.PublicKey(args.seed) })\n          .accounts({\n            matchInstance: match,\n            authority: (this.program.provider as Provider).wallet\n              .publicKey,\n            receiver:\n              accounts.receiver ||\n              (this.program.provider as Provider).wallet.publicKey,\n            oracle,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n  async updateMatch(\n    args: UpdateMatchArgs,\n    accounts: UpdateMatchAccounts,\n    _additionalArgs = {}\n  ) {\n    const match = (await getMatch(accounts.winOracle))[0];\n    transformTokenValidations(args);\n\n    return {\n      instructions: [\n        await this.program.methods\n          .updateMatch(args)\n          .accounts({\n            matchInstance: match,\n            winOracle: accounts.winOracle,\n            authority: (this.program.provider as Provider).wallet\n              .publicKey,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n\n  async leaveMatch(\n    args: LeaveMatchArgs,\n    accounts: LeaveMatchAccounts,\n    additionalArgs: LeaveMatchAdditionalArgs\n  ) {\n    const match = (await getMatch(additionalArgs.winOracle))[0];\n\n    const destinationTokenAccount = (\n      await getAtaForMint(accounts.tokenMint, accounts.receiver)\n    )[0];\n\n    const [tokenAccountEscrow, _escrowBump] = await getMatchTokenAccountEscrow(\n      additionalArgs.winOracle,\n      accounts.tokenMint,\n      (this.program.provider as Provider).wallet.publicKey\n    );\n\n    const signers = [];\n\n    return {\n      instructions: [\n        await this.program.methods\n          .leaveMatch(args)\n          .accounts({\n            matchInstance: match,\n            tokenAccountEscrow,\n            tokenMint: accounts.tokenMint,\n            destinationTokenAccount,\n            receiver: (this.program.provider as Provider).wallet\n              .publicKey,\n            tokenProgram: TOKEN_PROGRAM_ID,\n          })\n          .instruction(),\n      ],\n      signers,\n    };\n  }\n\n  async joinMatch(\n    args: JoinMatchArgs,\n    accounts: JoinMatchAccounts,\n    additionalArgs: JoinMatchAdditionalArgs\n  ) {\n    const match = (await getMatch(additionalArgs.winOracle))[0];\n\n    const sourceTokenAccount =\n      accounts.sourceTokenAccount ||\n      (\n        await getAtaForMint(\n          accounts.tokenMint,\n          (this.program.provider as Provider).wallet.publicKey\n        )\n      )[0];\n    const transferAuthority =\n      accounts.tokenTransferAuthority || web3.Keypair.generate();\n\n    const [tokenAccountEscrow, _escrowBump] = await getMatchTokenAccountEscrow(\n      additionalArgs.winOracle,\n      accounts.tokenMint,\n      (this.program.provider as Provider).wallet.publicKey\n    );\n\n    const signers = [transferAuthority];\n\n    return {\n      instructions: [\n        Token.createApproveInstruction(\n          TOKEN_PROGRAM_ID,\n          sourceTokenAccount,\n          transferAuthority.publicKey,\n          (this.program.provider as Provider).wallet.publicKey,\n          [],\n          args.amount.toNumber()\n        ),\n        await this.program.methods\n          .joinMatch(args)\n          .accounts({\n            matchInstance: match,\n            tokenTransferAuthority: transferAuthority.publicKey,\n            tokenAccountEscrow,\n            tokenMint: accounts.tokenMint,\n            sourceTokenAccount,\n            sourceItemOrPlayerPda:\n              additionalArgs.sourceType == TokenType.Any\n                ? SystemProgram.programId\n                : additionalArgs.sourceType == TokenType.Item\n                ? (\n                    await getItemPDA(accounts.tokenMint, additionalArgs.index)\n                  )[0]\n                : (\n                    await getPlayerPDA(accounts.tokenMint, additionalArgs.index)\n                  )[0],\n            payer: (this.program.provider as Provider).wallet.publicKey,\n            systemProgram: SystemProgram.programId,\n            validationProgram:\n              accounts.validationProgram || SystemProgram.programId,\n            tokenProgram: TOKEN_PROGRAM_ID,\n            rent: web3.SYSVAR_RENT_PUBKEY,\n          })\n          .signers(signers)\n          .instruction(),\n        Token.createRevokeInstruction(\n          TOKEN_PROGRAM_ID,\n          sourceTokenAccount,\n          (this.program.provider as Provider).wallet.publicKey,\n          []\n        ),\n      ],\n      signers,\n    };\n  }\n\n  async updateMatchFromOracle(\n    args = {},\n    accounts: UpdateMatchFromOracleAccounts,\n    _additionalArgs = {}\n  ) {\n    const match = (await getMatch(accounts.winOracle))[0];\n\n    return {\n      instructions: [\n        await this.program.methods\n          .updateMatchFromOracle()\n          .accounts({\n            matchInstance: match,\n            winOracle: accounts.winOracle,\n            authority: (this.program.provider as Provider).wallet\n              .publicKey,\n            clock: web3.SYSVAR_CLOCK_PUBKEY,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n\n  async createOrUpdateOracle(\n    args: CreateOrUpdateOracleArgs,\n    _accounts = {},\n    _additionalArgs = {}\n  ) {\n    const [oracle, _oracleBump] = await getOracle(\n      new web3.PublicKey(args.seed),\n      args.authority\n    );\n\n    const tokenTransfers = args.tokenTransfers\n      ? args.tokenTransfers.map((t) => ({\n          ...t,\n          from: new web3.PublicKey(t.from),\n          to: t.to ? new web3.PublicKey(t.to) : null,\n          mint: new web3.PublicKey(t.mint),\n          amount: new BN(t.amount),\n        }))\n      : null;\n\n    return {\n      instructions: [\n        await this.program.methods\n          .createOrUpdateOracle({\n            ...args,\n            tokenTransfers,\n            seed: new web3.PublicKey(args.seed),\n          })\n          .accounts({\n            oracle,\n            payer: (this.program.provider as Provider).wallet.publicKey,\n            systemProgram: SystemProgram.programId,\n            rent: web3.SYSVAR_RENT_PUBKEY,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n}\n\nexport class MatchesProgram {\n  id: web3.PublicKey;\n  program: Program;\n  instruction: MatchesInstruction;\n\n  constructor(args: { id: web3.PublicKey; program: Program }) {\n    this.id = args.id;\n    this.program = args.program;\n    this.instruction = new MatchesInstruction({\n      id: this.id,\n      program: this.program,\n    });\n  }\n\n  async fetchMatch(oracle: web3.PublicKey): Promise<MatchWrapper> {\n    const matchPda = (await getMatch(oracle))[0];\n\n    const match = await this.program.account.match.fetch(matchPda);\n\n    return new MatchWrapper({\n      program: this,\n      key: matchPda,\n      data: match.data as Buffer,\n      object: match,\n    });\n  }\n\n  async fetchOracle(oracle: web3.PublicKey): Promise<MatchWrapper> {\n    const oracleAcct = await (\n      this.program.provider as Provider\n    ).connection.getAccountInfo(oracle);\n\n    const oracleInstance =\n      await this.program.account.winOracle.coder.accounts.decode(\n        \"WinOracle\",\n        oracleAcct.data\n      );\n\n    return new MatchWrapper({\n      program: this,\n      key: oracle,\n      data: oracleAcct.data,\n      object: oracleInstance,\n    });\n  }\n\n  async createMatch(\n    args: CreateMatchArgs,\n    _accounts = {},\n    additionalArgs: CreateMatchAdditionalArgs\n  ) {\n    const { instructions, signers } = await this.instruction.createMatch(args);\n\n    await sendTransactionWithRetry(\n      (this.program.provider as Provider).connection,\n      (this.program.provider as Provider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async disburseTokensByOracle(\n    args: DisburseTokensByOracleArgs,\n    accounts: DisburseTokensByOracleAccounts,\n    additionalArgs: DisburseTokensByOracleAdditionalArgs\n  ) {\n    const { instructions, signers } =\n      await this.instruction.disburseTokensByOracle(\n        args,\n        accounts,\n        additionalArgs\n      );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as Provider).connection,\n      (this.program.provider as Provider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async drainMatch(\n    args: DrainMatchArgs,\n    accounts: DrainMatchAccounts,\n    additionalArgs: DrainMatchAdditionalArgs\n  ) {\n    const { instructions, signers } = await this.instruction.drainMatch(\n      args,\n      accounts,\n      additionalArgs\n    );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as Provider).connection,\n      (this.program.provider as Provider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async drainOracle(\n    args: DrainOracleArgs,\n    accounts: DrainOracleAccounts,\n    _additionalArgs = {}\n  ) {\n    const { instructions, signers } = await this.instruction.drainOracle(\n      args,\n      accounts\n    );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as Provider).connection,\n      (this.program.provider as Provider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async joinMatch(\n    args: JoinMatchArgs,\n    accounts: JoinMatchAccounts,\n    additionalArgs: JoinMatchAdditionalArgs\n  ) {\n    const { instructions, signers } = await this.instruction.joinMatch(\n      args,\n      accounts,\n      additionalArgs\n    );\n    return { instructions, signers };\n\n /*  \n   await sendTransactionWithRetry(\n\n    (this.program.provider as Provider).connection,\n    (this.program.provider as Provider).wallet,\n    instructions,\n    signers)\n    */\n   }\n\n  async leaveMatch(\n    args: LeaveMatchArgs,\n    accounts: LeaveMatchAccounts,\n    additionalArgs: LeaveMatchAdditionalArgs\n  ) {\n    const { instructions, signers } = await this.instruction.leaveMatch(\n      args,\n      accounts,\n      additionalArgs\n    );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as Provider).connection,\n      (this.program.provider as Provider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async updateMatch(\n    args: UpdateMatchArgs,\n    accounts: UpdateMatchAccounts,\n    _additionalArgs = {}\n  ) {\n    const { instructions, signers } = await this.instruction.updateMatch(\n      args,\n      accounts\n    );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as Provider).connection,\n      (this.program.provider as Provider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async updateMatchFromOracle(\n    args = {},\n    accounts: UpdateMatchFromOracleAccounts,\n    _additionalArgs = {}\n  ) {\n    const { instructions, signers } =\n      await this.instruction.updateMatchFromOracle(args, accounts);\n\n    await sendTransactionWithRetry(\n      (this.program.provider as Provider).connection,\n      (this.program.provider as Provider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async createOrUpdateOracle(\n    args: CreateOrUpdateOracleArgs,\n    _accounts = {},\n    _additionalArgs = {}\n  ) {\n    const { instructions, signers } =\n      await this.instruction.createOrUpdateOracle(args);\n\n    await sendTransactionWithRetry(\n      (this.program.provider as Provider).connection,\n      (this.program.provider as Provider).wallet,\n      instructions,\n      signers\n    );\n  }\n}\n\nexport async function getMatchesProgram(\n  anchorWallet: NodeWallet | web3.Keypair,\n  env: string,\n  customRpcUrl: string\n): Promise<MatchesProgram> {\n  if (customRpcUrl) log.debug(\"USING CUSTOM URL\", customRpcUrl);\n\n  const solConnection = new web3.Connection(customRpcUrl || getCluster(env));\n\n  if (anchorWallet instanceof web3.Keypair)\n    anchorWallet = new NodeWallet(anchorWallet);\n\n  const provider = new Provider(solConnection, anchorWallet, {\n    preflightCommitment: \"recent\",\n  });\n\n  const idl = await Program.fetchIdl(MATCHES_ID, provider);\nfs.writeFileSync('matchesidl.json', JSON.stringify(idl))\n  const program = new Program(idl as Idl, MATCHES_ID, provider);\n\n  return new MatchesProgram({\n    id: MATCHES_ID,\n    program,\n  });\n}\n\nexport async function getMatchesProgram2(\n  anchorWallet: NodeWallet | web3.Keypair,\n  env: string,\n  customRpcUrl: string\n): Promise<MatchesProgram> {\n  if (customRpcUrl) log.debug(\"USING CUSTOM URL\", customRpcUrl);\n\n  const solConnection = new web3.Connection(customRpcUrl || getCluster(env));\n\n  if (anchorWallet instanceof web3.Keypair)\n    anchorWallet = new NodeWallet(anchorWallet);\n  const provider = new Provider(solConnection, anchorWallet, {\n    preflightCommitment: \"recent\",\n    \n  });\n\n  const idl = await Program.fetchIdl(MATCHES_ID, provider);\n\n  const program = new Program(idl as Idl, MATCHES_ID, provider);\n\n  return new MatchesProgram({\n    id: MATCHES_ID,\n    program,\n  });\n}","import { web3, BN } from \"@project-serum/anchor\";\nimport {\n  TOKEN_PROGRAM_ID,\n  SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n  NAMESPACE_ID,\n  ITEM_ID,\n  TOKEN_METADATA_PROGRAM_ID,\n  MATCHES_ID,\n  PLAYER_ID,\n} from \"../constants/programIds\";\nimport { PREFIX as ITEM_PREFIX, MARKER } from \"../constants/item\";\nimport { PREFIX as MATCHES_PREFIX } from \"../constants/matches\";\nimport { PREFIX as NAMESPACE_PREFIX } from \"../constants/namespace\";\nimport { PREFIX as PLAYER_PREFIX } from \"../constants/player\";\n\nexport const getAtaForMint = async (\n  mint: web3.PublicKey,\n  wallet: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [wallet.toBuffer(), TOKEN_PROGRAM_ID.toBuffer(), mint.toBuffer()],\n    SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID\n  );\n};\n\nexport const getMatch = async (\n  oracle: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(MATCHES_PREFIX), oracle.toBuffer()],\n    MATCHES_ID\n  );\n};\n\nexport const getMatchTokenAccountEscrow = async (\n  oracle: web3.PublicKey,\n  tokenMint: web3.PublicKey,\n  tokenOwner: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(MATCHES_PREFIX),\n      oracle.toBuffer(),\n      tokenMint.toBuffer(),\n      tokenOwner.toBuffer(),\n    ],\n    MATCHES_ID\n  );\n};\n\nexport const getOracle = async (\n  seed: web3.PublicKey,\n  payer: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(MATCHES_PREFIX), payer.toBuffer(), seed.toBuffer()],\n    MATCHES_ID\n  );\n};\n\nexport const getNamespacePDA = async (\n  mint: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(NAMESPACE_PREFIX), mint.toBuffer()],\n    NAMESPACE_ID\n  );\n};\n\nexport const getItemPDA = async (\n  mint: web3.PublicKey,\n  index: BN\n): Promise<[web3.PublicKey, number]> => {\n  console.log(index)\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(ITEM_PREFIX), mint.toBuffer(), Buffer.from(index)],//.toBuffer(\"le\", 8)],\n    ITEM_ID\n  );\n};\n\nexport const getPlayerPDA = async (\n  mint: web3.PublicKey,\n  index: BN\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(PLAYER_PREFIX), mint.toBuffer(), index.toBuffer(\"le\", 8)],\n    PLAYER_ID\n  );\n};\n\nexport const getItemActivationMarker = async (args: {\n  itemMint: web3.PublicKey;\n  index: BN;\n  usageIndex: BN;\n  amount: BN;\n}): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(ITEM_PREFIX),\n      args.itemMint.toBuffer(),\n      args.index.toBuffer(\"le\", 8),\n      args.usageIndex.toBuffer(\"le\", 8),\n      args.amount.toBuffer(\"le\", 8),\n      Buffer.from(MARKER),\n    ],\n    ITEM_ID\n  );\n};\n\nexport const getCraftItemCounter = async (args: {\n  itemClassMint: web3.PublicKey;\n  newItemMint: web3.PublicKey;\n  craftItemMint: web3.PublicKey;\n  componentScope: String;\n  craftItemIndex: BN;\n  craftEscrowIndex: BN;\n  classIndex: BN;\n}): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(ITEM_PREFIX),\n      args.itemClassMint.toBuffer(),\n      args.classIndex.toBuffer(\"le\", 8),\n      args.newItemMint.toBuffer(),\n      args.craftEscrowIndex.toBuffer(\"le\", 8),\n      args.craftItemIndex.toBuffer(\"le\", 8),\n      args.craftItemMint.toBuffer(),\n      Buffer.from(args.componentScope),\n    ],\n    ITEM_ID\n  );\n};\n\nexport const getCraftItemEscrow = async (args: {\n  itemClassMint: web3.PublicKey;\n  payer: web3.PublicKey;\n  newItemMint: web3.PublicKey;\n  craftItemToken: web3.PublicKey;\n  craftItemMint: web3.PublicKey;\n  amountToMake: BN;\n  amountToContributeFromThisContributor: BN;\n  componentScope: String;\n  craftIndex: BN;\n  classIndex: BN;\n  craftEscrowIndex: BN;\n}): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(ITEM_PREFIX),\n      args.itemClassMint.toBuffer(),\n      args.classIndex.toBuffer(\"le\", 8),\n      args.payer.toBuffer(),\n      args.newItemMint.toBuffer(),\n      args.craftItemToken.toBuffer(),\n      args.craftEscrowIndex.toBuffer(\"le\", 8),\n      args.craftIndex.toBuffer(\"le\", 8),\n      args.craftItemMint.toBuffer(),\n      args.amountToMake.toBuffer(\"le\", 8),\n      args.amountToContributeFromThisContributor.toBuffer(\"le\", 8),\n      Buffer.from(args.componentScope),\n    ],\n    ITEM_ID\n  );\n};\n\nexport const getItemEscrow = async (args: {\n  itemClassMint: web3.PublicKey;\n  payer: web3.PublicKey;\n  newItemMint: web3.PublicKey;\n  newItemToken: web3.PublicKey;\n  amountToMake: BN;\n  componentScope: String;\n  craftEscrowIndex: BN;\n  classIndex: BN;\n}): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(ITEM_PREFIX),\n      args.itemClassMint.toBuffer(),\n      args.classIndex.toBuffer(\"le\", 8),\n      args.payer.toBuffer(),\n      args.newItemMint.toBuffer(),\n      args.newItemToken.toBuffer(),\n      args.craftEscrowIndex.toBuffer(\"le\", 8),\n      args.amountToMake.toBuffer(\"le\", 8),\n      Buffer.from(args.componentScope),\n    ],\n    ITEM_ID\n  );\n};\n\nexport const getMetadata = async (\n  mint: web3.PublicKey\n): Promise<web3.PublicKey> => {\n  return (\n    await web3.PublicKey.findProgramAddress(\n      [\n        Buffer.from(\"metadata\"),\n        TOKEN_METADATA_PROGRAM_ID.toBuffer(),\n        mint.toBuffer(),\n      ],\n      TOKEN_METADATA_PROGRAM_ID\n    )\n  )[0];\n};\n\nexport const getEdition = async (\n  mint: web3.PublicKey\n): Promise<web3.PublicKey> => {\n  return (\n    await web3.PublicKey.findProgramAddress(\n      [\n        Buffer.from(\"metadata\"),\n        TOKEN_METADATA_PROGRAM_ID.toBuffer(),\n        mint.toBuffer(),\n        Buffer.from(\"edition\"),\n      ],\n      TOKEN_METADATA_PROGRAM_ID\n    )\n  )[0];\n};\n","import { createTheme, ThemeProvider } from \"@material-ui/core\";\nimport { useMemo } from \"react\";\nimport {\n    ConnectionProvider,\n    WalletProvider,\n} from \"@solana/wallet-adapter-react\";\nimport * as anchor from \"@project-serum/anchor\";\nimport { clusterApiUrl } from \"@solana/web3.js\";\nimport { WalletAdapterNetwork } from \"@solana/wallet-adapter-base\";\nimport {\n    getPhantomWallet,\n    getSlopeWallet,\n    getSolflareWallet,\n    getSolflareWebWallet,\n    getSolletWallet,\n    getSolletExtensionWallet,\n    getSolongWallet,\n    getLedgerWallet,\n    getSafePalWallet,\n} from \"@solana/wallet-adapter-wallets\";\n\nimport {\n    WalletModalProvider\n} from '@solana/wallet-adapter-react-ui';\n\nimport \"./App.css\";\nimport { DEFAULT_TIMEOUT } from './connection';\nimport Home from \"./Home\";\n\nrequire('@solana/wallet-adapter-react-ui/styles.css');\n\nconst network = process.env.REACT_APP_SOLANA_NETWORK as WalletAdapterNetwork;\n\nconst rpcHost = process.env.REACT_APP_SOLANA_RPC_HOST!;\nconst connection = new anchor.web3.Connection(\n    rpcHost ? rpcHost : anchor.web3.clusterApiUrl('devnet'),\n);\n\nconst theme = createTheme({\n    palette: {\n        type: 'dark',\n    },\n    overrides: {\n        MuiButtonBase: {\n            root: {\n                justifyContent: 'flex-start',\n            },\n        },\n        MuiButton: {\n            root: {\n                textTransform: undefined,\n                padding: '12px 16px',\n            },\n            startIcon: {\n                marginRight: 8,\n            },\n            endIcon: {\n                marginLeft: 8,\n            },\n        },\n    },\n});\n\nconst App = () => {\n    // Custom RPC endpoint.\n  const endpoint = useMemo(() => clusterApiUrl(network), []);\n\n    // @solana/wallet-adapter-wallets includes all the adapters but supports tree shaking and lazy loading --\n    // Only the wallets you configure here will be compiled into your application, and only the dependencies\n    // of wallets that your users connect to will be loaded.\n    const wallets = useMemo(\n        () => [\n            getPhantomWallet(),\n            getSlopeWallet(),\n            getSolflareWallet(),\n            getSolflareWebWallet(),\n            getSolletWallet({ network }),\n            getSolletExtensionWallet({ network }),\n            getSolongWallet(),\n            getLedgerWallet(),\n            getSafePalWallet(),\n        ],\n        []\n    );\n\n  return (\n      <ThemeProvider theme={theme}>\n        <ConnectionProvider endpoint={endpoint}>\n          <WalletProvider wallets={wallets} autoConnect={true}>\n            <WalletModalProvider>\n              <Home\n                connection={connection}\n                txTimeout={DEFAULT_TIMEOUT}\n                rpcHost={rpcHost}\n                network={network}\n              />\n            </WalletModalProvider>\n          </WalletProvider>\n        </ConnectionProvider>\n      </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {\n  Keypair,\n  Commitment,\n  Connection,\n  RpcResponseAndContext,\n  SignatureStatus,\n  SimulatedTransactionResponse,\n  Transaction,\n  TransactionInstruction,\n  TransactionSignature,\n  Blockhash,\n  FeeCalculator,\n} from '@solana/web3.js';\n\nimport { WalletNotConnectedError } from '@solana/wallet-adapter-base';\n\ninterface BlockhashAndFeeCalculator {\n  blockhash: Blockhash;\n  feeCalculator: FeeCalculator;\n}\n\nexport const DEFAULT_TIMEOUT = 60000;\n\nexport const getErrorForTransaction = async (\n    connection: Connection,\n    txid: string,\n) => {\n  // wait for all confirmation before geting transaction\n  await connection.confirmTransaction(txid, 'max');\n\n  const tx = await connection.getParsedConfirmedTransaction(txid);\n\n  const errors: string[] = [];\n  if (tx?.meta && tx.meta.logMessages) {\n    tx.meta.logMessages.forEach(log => {\n      const regex = /Error: (.*)/gm;\n      let m;\n      while ((m = regex.exec(log)) !== null) {\n        // This is necessary to avoid infinite loops with zero-width matches\n        if (m.index === regex.lastIndex) {\n          regex.lastIndex++;\n        }\n\n        if (m.length > 1) {\n          errors.push(m[1]);\n        }\n      }\n    });\n  }\n\n  return errors;\n};\n\nexport enum SequenceType {\n  Sequential,\n  Parallel,\n  StopOnFailure,\n}\n\nexport async function sendTransactionsWithManualRetry(\n    connection: Connection,\n    wallet: any,\n    instructions: TransactionInstruction[][],\n    signers: Keypair[][],\n): Promise<(string | undefined)[]> {\n  let stopPoint = 0;\n  let tries = 0;\n  let lastInstructionsLength = null;\n  let toRemoveSigners: Record<number, boolean> = {};\n  instructions = instructions.filter((instr, i) => {\n    if (instr.length > 0) {\n      return true;\n    } else {\n      toRemoveSigners[i] = true;\n      return false;\n    }\n  });\n  let ids: string[] = [];\n  let filteredSigners = signers.filter((_, i) => !toRemoveSigners[i]);\n\n  while (stopPoint < instructions.length && tries < 3) {\n    instructions = instructions.slice(stopPoint, instructions.length);\n    filteredSigners = filteredSigners.slice(stopPoint, filteredSigners.length);\n\n    if (instructions.length === lastInstructionsLength) tries = tries + 1;\n    else tries = 0;\n\n    try {\n      if (instructions.length === 1) {\n        const id = await sendTransactionWithRetry(\n            connection,\n            wallet,\n            instructions[0],\n            filteredSigners[0],\n            'single',\n        );\n        ids.push(id.txid);\n        stopPoint = 1;\n      } else {\n        const { txs } = await sendTransactions(\n            connection,\n            wallet,\n            instructions,\n            filteredSigners,\n            SequenceType.StopOnFailure,\n            'single',\n        );\n        ids = ids.concat(txs.map(t => t.txid));\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    console.log(\n        'Died on ',\n        stopPoint,\n        'retrying from instruction',\n        instructions[stopPoint],\n        'instructions length is',\n        instructions.length,\n    );\n    lastInstructionsLength = instructions.length;\n  }\n\n  return ids;\n}\n\nexport const sendTransactions = async (\n    connection: Connection,\n    wallet: any,\n    instructionSet: TransactionInstruction[][],\n    signersSet: Keypair[][],\n    sequenceType: SequenceType = SequenceType.Parallel,\n    commitment: Commitment = 'singleGossip',\n    successCallback: (txid: string, ind: number) => void = (txid, ind) => {},\n    failCallback: (reason: string, ind: number) => boolean = (txid, ind) => false,\n    block?: BlockhashAndFeeCalculator,\n    beforeTransactions: Transaction[] = [],\n    afterTransactions: Transaction[] = [],\n): Promise<{ number: number; txs: { txid: string; slot: number }[] }> => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n\n  const unsignedTxns: Transaction[] = beforeTransactions;\n\n  if (!block) {\n    block = await connection.getRecentBlockhash(commitment);\n  }\n\n  for (let i = 0; i < instructionSet.length; i++) {\n    const instructions = instructionSet[i];\n    const signers = signersSet[i];\n\n    if (instructions.length === 0) {\n      continue;\n    }\n\n    let transaction = new Transaction();\n    instructions.forEach(instruction => transaction.add(instruction));\n    transaction.recentBlockhash = block.blockhash;\n    transaction.setSigners(\n        // fee payed by the wallet owner\n        wallet.publicKey,\n        ...signers.map(s => s.publicKey),\n    );\n\n    if (signers.length > 0) {\n      transaction.partialSign(...signers);\n    }\n\n    unsignedTxns.push(transaction);\n  }\n  unsignedTxns.push(...afterTransactions);\n\n  const partiallySignedTransactions = unsignedTxns.filter(t =>\n      t.signatures.find(sig => sig.publicKey.equals(wallet.publicKey)),\n  );\n  const fullySignedTransactions = unsignedTxns.filter(\n      t => !t.signatures.find(sig => sig.publicKey.equals(wallet.publicKey)),\n  );\n  let signedTxns = await wallet.signAllTransactions(\n      partiallySignedTransactions,\n  );\n  signedTxns = fullySignedTransactions.concat(signedTxns);\n  const pendingTxns: Promise<{ txid: string; slot: number }>[] = [];\n\n  console.log(\n      'Signed txns length',\n      signedTxns.length,\n      'vs handed in length',\n      instructionSet.length,\n  );\n  for (let i = 0; i < signedTxns.length; i++) {\n    const signedTxnPromise = sendSignedTransaction({\n      connection,\n      signedTransaction: signedTxns[i],\n    });\n\n    if (sequenceType !== SequenceType.Parallel) {\n      try {\n        await signedTxnPromise.then(({ txid, slot }) =>\n            successCallback(txid, i),\n        );\n        pendingTxns.push(signedTxnPromise);\n      } catch (e) {\n        console.log('Failed at txn index:', i);\n        console.log('Caught failure:', e);\n\n        failCallback(signedTxns[i], i);\n        if (sequenceType === SequenceType.StopOnFailure) {\n          return {\n            number: i,\n            txs: await Promise.all(pendingTxns),\n          };\n        }\n      }\n    } else {\n      pendingTxns.push(signedTxnPromise);\n    }\n  }\n\n  if (sequenceType !== SequenceType.Parallel) {\n    const result = await Promise.all(pendingTxns);\n    return { number: signedTxns.length, txs: result };\n  }\n\n  return { number: signedTxns.length, txs: await Promise.all(pendingTxns) };\n};\n\nexport const sendTransaction = async (\n    connection: Connection,\n    wallet: any,\n    instructions: TransactionInstruction[] | Transaction,\n    signers: Keypair[],\n    awaitConfirmation = true,\n    commitment: Commitment = 'singleGossip',\n    includesFeePayer: boolean = false,\n    block?: BlockhashAndFeeCalculator,\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n\n  let transaction: Transaction;\n  if (instructions instanceof Transaction) {\n    transaction = instructions;\n  } else {\n    transaction = new Transaction();\n    instructions.forEach(instruction => transaction.add(instruction));\n    transaction.recentBlockhash = (\n        block || (await connection.getRecentBlockhash(commitment))\n    ).blockhash;\n\n    if (includesFeePayer) {\n      transaction.setSigners(...signers.map(s => s.publicKey));\n    } else {\n      transaction.setSigners(\n          // fee payed by the wallet owner\n          wallet.publicKey,\n          ...signers.map(s => s.publicKey),\n      );\n    }\n\n    if (signers.length > 0) {\n      transaction.partialSign(...signers);\n    }\n    if (!includesFeePayer) {\n      transaction = await wallet.signTransaction(transaction);\n    }\n  }\n\n  const rawTransaction = transaction.serialize();\n  let options = {\n    skipPreflight: true,\n    commitment,\n  };\n\n  const txid = await connection.sendRawTransaction(rawTransaction, options);\n  let slot = 0;\n\n  if (awaitConfirmation) {\n    const confirmation = await awaitTransactionSignatureConfirmation(\n        txid,\n        DEFAULT_TIMEOUT,\n        connection,\n        commitment,\n    );\n\n    if (!confirmation)\n      throw new Error('Timed out awaiting confirmation on transaction');\n    slot = confirmation?.slot || 0;\n\n    if (confirmation?.err) {\n      const errors = await getErrorForTransaction(connection, txid);\n\n      console.log(errors);\n      throw new Error(`Raw transaction ${txid} failed`);\n    }\n  }\n\n  return { txid, slot };\n};\n\nexport const sendTransactionWithRetry = async (\n    connection: Connection,\n    wallet: any,\n    instructions: TransactionInstruction[],\n    signers: Keypair[],\n    commitment: Commitment = 'singleGossip',\n    includesFeePayer: boolean = false,\n    block?: BlockhashAndFeeCalculator,\n    beforeSend?: () => void,\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n\n  let transaction = new Transaction();\n  instructions.forEach(instruction => transaction.add(instruction));\n  transaction.recentBlockhash = (\n      block || (await connection.getRecentBlockhash(commitment))\n  ).blockhash;\n\n  if (includesFeePayer) {\n    transaction.setSigners(...signers.map(s => s.publicKey));\n  } else {\n    transaction.setSigners(\n        // fee payed by the wallet owner\n        wallet.publicKey,\n        ...signers.map(s => s.publicKey),\n    );\n  }\n\n  if (signers.length > 0) {\n    transaction.partialSign(...signers);\n  }\n  if (!includesFeePayer) {\n    transaction = await wallet.signTransaction(transaction);\n  }\n\n  if (beforeSend) {\n    beforeSend();\n  }\n\n  const { txid, slot } = await sendSignedTransaction({\n    connection,\n    signedTransaction: transaction,\n  });\n\n  return { txid, slot };\n};\n\nexport const getUnixTs = () => {\n  return new Date().getTime() / 1000;\n};\n\nexport async function sendSignedTransaction({\n                                              signedTransaction,\n                                              connection,\n                                              timeout = DEFAULT_TIMEOUT,\n                                            }: {\n  signedTransaction: Transaction;\n  connection: Connection;\n  sendingMessage?: string;\n  sentMessage?: string;\n  successMessage?: string;\n  timeout?: number;\n}): Promise<{ txid: string; slot: number }> {\n  const rawTransaction = signedTransaction.serialize();\n\n  const startTime = getUnixTs();\n  let slot = 0;\n  const txid: TransactionSignature = await connection.sendRawTransaction(\n      rawTransaction,\n      {\n        skipPreflight: true,\n      },\n  );\n\n  console.log('Started awaiting confirmation for', txid);\n\n  let done = false;\n  (async () => {\n    while (!done && getUnixTs() - startTime < timeout) {\n      connection.sendRawTransaction(rawTransaction, {\n        skipPreflight: true,\n      });\n      await sleep(500);\n    }\n  })();\n  try {\n    const confirmation = await awaitTransactionSignatureConfirmation(\n        txid,\n        timeout,\n        connection,\n        'recent',\n        true,\n    );\n\n    if (!confirmation)\n      throw new Error('Timed out awaiting confirmation on transaction');\n\n    if (confirmation.err) {\n      console.error(confirmation.err);\n      throw new Error('Transaction failed: Custom instruction error');\n    }\n\n    slot = confirmation?.slot || 0;\n  } catch (err: any) {\n    console.error('Timeout Error caught', err);\n    if (err.timeout) {\n      throw new Error('Timed out awaiting confirmation on transaction');\n    }\n    let simulateResult: SimulatedTransactionResponse | null = null;\n    try {\n      simulateResult = (\n          await simulateTransaction(connection, signedTransaction, 'single')\n      ).value;\n    } catch (e) {}\n    if (simulateResult && simulateResult.err) {\n      if (simulateResult.logs) {\n        for (let i = simulateResult.logs.length - 1; i >= 0; --i) {\n          const line = simulateResult.logs[i];\n          if (line.startsWith('Program log: ')) {\n            throw new Error(\n                'Transaction failed: ' + line.slice('Program log: '.length),\n            );\n          }\n        }\n      }\n      throw new Error(JSON.stringify(simulateResult.err));\n    }\n    // throw new Error('Transaction failed');\n  } finally {\n    done = true;\n  }\n\n  console.log('Latency', txid, getUnixTs() - startTime);\n  return { txid, slot };\n}\n\nasync function simulateTransaction(\n    connection: Connection,\n    transaction: Transaction,\n    commitment: Commitment,\n): Promise<RpcResponseAndContext<SimulatedTransactionResponse>> {\n  // @ts-ignore\n  transaction.recentBlockhash = await connection._recentBlockhash(\n      // @ts-ignore\n      connection._disableBlockhashCaching,\n  );\n\n  const signData = transaction.serializeMessage();\n  // @ts-ignore\n  const wireTransaction = transaction._serialize(signData);\n  const encodedTransaction = wireTransaction.toString('base64');\n  const config: any = { encoding: 'base64', commitment };\n  const args = [encodedTransaction, config];\n\n  // @ts-ignore\n  const res = await connection._rpcRequest('simulateTransaction', args);\n  if (res.error) {\n    throw new Error('failed to simulate transaction: ' + res.error.message);\n  }\n  return res.result;\n}\n\nasync function awaitTransactionSignatureConfirmation(\n    txid: TransactionSignature,\n    timeout: number,\n    connection: Connection,\n    commitment: Commitment = 'recent',\n    queryStatus = false,\n): Promise<SignatureStatus | null | void> {\n  let done = false;\n  let status: SignatureStatus | null | void = {\n    slot: 0,\n    confirmations: 0,\n    err: null,\n  };\n  let subId = 0;\n  status = await new Promise(async (resolve, reject) => {\n    setTimeout(() => {\n      if (done) {\n        return;\n      }\n      done = true;\n      console.log('Rejecting for timeout...');\n      reject({ timeout: true });\n    }, timeout);\n    try {\n      subId = connection.onSignature(\n          txid,\n          (result, context) => {\n            done = true;\n            status = {\n              err: result.err,\n              slot: context.slot,\n              confirmations: 0,\n            };\n            if (result.err) {\n              console.log('Rejected via websocket', result.err);\n              reject(status);\n            } else {\n              console.log('Resolved via websocket', result);\n              resolve(status);\n            }\n          },\n          commitment,\n      );\n    } catch (e) {\n      done = true;\n      console.error('WS error in setup', txid, e);\n    }\n    while (!done && queryStatus) {\n      // eslint-disable-next-line no-loop-func\n      (async () => {\n        try {\n          const signatureStatuses = await connection.getSignatureStatuses([\n            txid,\n          ]);\n          status = signatureStatuses && signatureStatuses.value[0];\n          if (!done) {\n            if (!status) {\n              console.log('REST null result for', txid, status);\n            } else if (status.err) {\n              console.log('REST error for', txid, status);\n              done = true;\n              reject(status.err);\n            } else if (!status.confirmations) {\n              console.log('REST no confirmations for', txid, status);\n            } else {\n              console.log('REST confirmation for', txid, status);\n              done = true;\n              resolve(status);\n            }\n          }\n        } catch (e) {\n          if (!done) {\n            console.log('REST connection error: txid', txid, e);\n          }\n        }\n      })();\n      await sleep(2000);\n    }\n  });\n\n  //@ts-ignore\n  if (connection._signatureSubscriptions[subId])\n    connection.removeSignatureListener(subId);\n  done = true;\n  console.log('Returning status', status);\n  return status;\n}\nexport function sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n"],"sourceRoot":""}