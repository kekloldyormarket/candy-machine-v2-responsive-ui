(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{102:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r="item",a="marker"},184:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="matches"},185:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0),n(2);var r,a=n(57),c=n(58),i=n(649),o=(n(21),Object(c.a)(i.a)(r||(r=Object(a.a)(["\n  display: block !important;\n  margin: 0 auto !important;\n  background-color: var(--title-text-color) !important;\n  min-width: 120px !important;\n  font-size: 1em !important;\n"]))))},35:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return b}));var r=n(16),a=new r.web3.PublicKey("nameAxQRRBnd4kLfsVoZBBXfrByZdZTkh8mULLxLyqV"),c=new r.web3.PublicKey("itemX1XWs9dK8T2Zca4vEEPfCAhRc7yvYFntPjTTVx6"),i=new r.web3.PublicKey("p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98"),o=new r.web3.PublicKey("mtchsiT6WoLQ62fwCoiHMCfXJzogtfru4ovY8tXKrjJ"),s=(new r.web3.PublicKey("So11111111111111111111111111111111111111112"),new r.web3.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA")),u=new r.web3.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),b=new r.web3.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")},354:function(t,e,n){"use strict";(function(t){var r,a,c,i,o,s,u,b,l,p,f,d,h,j,m=n(20),O=n(12),v=n(13),g=n(9),x=n(57),w=n(0),y=n(2),k=n(1),P=n(58),S=(n(355),n(16)),T=(n(368),n(136)),K=(n(232),n(3)),M=n(183),B=n(234),A=n(180),E=n(372),R=n(655),I=n(650),C=n(656),F=n(652),N=n(651),z=n(653),U=n(185),D=(n(37),n(21)),W={AD1bo7F21Cy8sfUkYXEBLJTTXA7Z8NREwMX1pZBgLakq:9,"2PAGcvionSsRsYv8vbbxbSfiNa8THnGT81q11vHU3faP":9,EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:6,"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh":6,"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA":6,PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x:6,openDKyuDPS6Ak1BuD3JtvkQGV3tzCxjpHUfe1mdC79:9},L=(new S.web3.PublicKey("mtchsiT6WoLQ62fwCoiHMCfXJzogtfru4ovY8tXKrjJ"),new K.PublicKey("6Ko4TDy4ecqaP5VZrjLAVfoLHpN5Fzw46D2WAsUjD1jZ")),V=("mainnet-beta".toString(),P.a.div(r||(r=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: right;\n"])))),Y=(P.a.div(a||(a=Object(x.a)(["\n  color: black;\n  width: auto;\n  padding: 5px 5px 5px 16px;\n  min-width: 48px;\n  min-height: auto;\n  border-radius: 22px;\n  background-color: var(--main-text-color);\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\n  box-sizing: border-box;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  font-weight: 500;\n  line-height: 1.75;\n  text-transform: uppercase;\n  border: 0;\n  margin: 0;\n  display: inline-flex;\n  outline: 0;\n  position: relative;\n  align-items: center;\n  user-select: none;\n  vertical-align: middle;\n  justify-content: flex-start;\n  gap: 10px;\n"]))),P.a.ul(c||(c=Object(x.a)(["\n  flex: 0 0 auto;\n  margin: 0;\n  padding: 0;\n"])))),q=Object(P.a)(A.b)(i||(i=Object(x.a)(["\n  border-radius: 18px !important;\n  padding: 6px 16px;\n  background-color: #4E44CE;\n  margin: 0 auto;\n"]))),G=Object(P.a)(E.a)(o||(o=Object(x.a)(["\n  min-width: 500px;\n  margin: 0 auto;\n  padding: 5px 20px 20px 20px;\n  flex: 1 1 auto;\n  background-color: var(--card-background-color) !important;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22) !important;\n"]))),H=(Object(P.a)(E.a)(s||(s=Object(x.a)(["\n  display: inline-block;\n  background-color: var(--countdown-background-color) !important;\n  margin: 5px;\n  min-width: 40px;\n  padding: 24px;\n\n  h1 {\n    margin: 0px;\n  }\n"]))),P.a.div(u||(u=Object(x.a)(["\n  button.MuiButton-contained:not(.MuiButton-containedPrimary).Mui-disabled {\n    color: #464646;\n  }\n\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):hover,\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):focus {\n    -webkit-animation: pulse 1s;\n    animation: pulse 1s;\n    box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\n  }\n\n  @-webkit-keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n"]))),P.a.a(b||(b=Object(x.a)(["\n  color: var(--title-text-color);\n  border-bottom: 1px solid var(--title-text-color);\n  font-weight: bold;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: none;\n  outline: none;\n  text-decoration: none;\n  text-size-adjust: 100%;\n\n  :hover {\n    border-bottom: 2px solid var(--title-text-color);\n  }\n"]))),P.a.div(l||(l=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-right: 4%;\n  margin-left: 4%;\n  text-align: center;\n  justify-content: center;\n"])))),_=P.a.div(p||(p=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1 1 auto;\n  flex-wrap: wrap;\n  gap: 20px;\n"]))),J=P.a.div(f||(f=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  gap: 20px;\n"]))),X=Object(P.a)(R.a)(d||(d=Object(x.a)(["\n  position: absolute;\n  margin: 5px;\n  font-weight: bold;\n  font-size: 1.2em !important;\n  font-family: 'Patrick Hand', cursive !important;\n"]))),Z=P.a.img(h||(h=Object(x.a)(["\n  height: 400px;\n  width: auto;\n  border-radius: 7px;\n  box-shadow: 5px 5px 40px 5px rgba(0, 0, 0, 0.5);\n"]))),Q=(Object(P.a)(I.a)(j||(j=Object(x.a)(["\n  margin: 20px;\n  height: 10px !important;\n  border-radius: 30px;\n  border: 2px solid white;\n  box-shadow: 5px 5px 40px 5px rgba(0, 0, 0, 0.5);\n  background-color: var(--main-text-color) !important;\n\n  > div.MuiLinearProgress-barColorPrimary {\n    background-color: var(--title-text-color) !important;\n  }\n\n  > div.MuiLinearProgress-bar1Determinate {\n    border-radius: 30px !important;\n    background-image: linear-gradient(270deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.5));\n  }\n"]))),!0);e.a=function(t){Object(M.b)().sendTransaction;var e=Object(k.useState)((new Date).getTime()-1),n=Object(g.a)(e,2),r=(n[0],n[1],Object(k.useState)(0)),a=Object(g.a)(r,2),c=a[0],i=a[1],o=Object(k.useState)(),s=Object(g.a)(o,2),u=(s[0],s[1],Object(k.useState)(0)),b=Object(g.a)(u,2),l=(b[0],b[1],Object(k.useState)(!1)),p=Object(g.a)(l,2),f=(p[0],p[1],Object(k.useState)(!1)),d=Object(g.a)(f,2),h=d[0],j=(d[1],Object(k.useState)("")),x=Object(g.a)(j,2),P=(x[0],x[1],Object(k.useState)(0)),A=Object(g.a)(P,2),E=(A[0],A[1],Object(k.useState)(0)),R=Object(g.a)(E,2),I=(R[0],R[1],Object(k.useState)(0)),$=Object(g.a)(I,2),tt=($[0],$[1],Object(k.useState)(!1)),et=Object(g.a)(tt,2),nt=(et[0],et[1],Object(k.useState)(!1)),rt=Object(g.a)(nt,2),at=(rt[0],rt[1],Object(k.useState)(1.38)),ct=Object(g.a)(at,2),it=ct[0],ot=(ct[1],Object(k.useState)("SOL")),st=Object(g.a)(ot,2),ut=st[0],bt=(st[1],Object(k.useState)(0)),lt=Object(g.a)(bt,2),pt=lt[0],ft=(lt[1],Object(k.useState)(!1)),dt=Object(g.a)(ft,2),ht=dt[0],jt=(dt[1],Object(k.useState)(!1)),mt=Object(g.a)(jt,2),Ot=(mt[0],mt[1],Object(k.useState)(0)),vt=Object(g.a)(Ot,2),gt=vt[0],xt=(vt[1],Object(k.useState)(!1)),wt=Object(g.a)(xt,2),yt=(wt[0],wt[1],Object(k.useState)()),kt=Object(g.a)(yt,2),Pt=(kt[0],kt[1],Object(k.useState)(!1)),St=Object(g.a)(Pt,2),Tt=(St[0],St[1],Object(k.useState)(!1)),Kt=Object(g.a)(Tt,2),Mt=(Kt[0],Kt[1],Object(k.useState)("")),Bt=Object(g.a)(Mt,2),At=(Bt[0],Bt[1],Object(B.b)().connection),Et=Object(M.b)(),Rt=Object(k.useState)({open:!1,message:"",severity:void 0}),It=Object(g.a)(Rt,2),Ct=It[0],Ft=It[1],Nt=Object(k.useState)(!0),zt=Object(g.a)(Nt,2),Ut=(zt[0],zt[1],t.rpcHost,Object(k.useMemo)((function(){if(Et&&Et.publicKey&&Et.signAllTransactions&&Et.signTransaction)return{publicKey:Et.publicKey,signAllTransactions:Et.signAllTransactions,signTransaction:Et.signTransaction}}),[Et]));Object(k.useEffect)((function(){Object(y.a)(Object(w.a)().mark((function t(){return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ut&&setTimeout(Object(y.a)(Object(w.a)().mark((function t(){var e,n,r,a,c;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Q){t.next=31;break}return Q=!1,t.prev=2,console.log(Ut.publicKey,{mint:Dt}),t.next=6,At.getTokenAccountsByOwner(Ut.publicKey,{mint:Dt});case 6:e=t.sent,n=0,t.t0=Object(w.a)().keys(e.value);case 9:if((t.t1=t.t0()).done){t.next=25;break}return r=t.t1.value,t.prev=11,t.next=14,At.getTokenAccountBalance(e.value[r].pubkey);case 14:a=t.sent,c=a.value.uiAmount||0,n+=c,t.next=22;break;case 19:t.prev=19,t.t2=t.catch(11),console.log(t.t2);case 22:i(n),t.next=9;break;case 25:t.next=30;break;case 27:t.prev=27,t.t3=t.catch(2),console.log(t.t3);case 30:setInterval(Object(y.a)(Object(w.a)().mark((function t(){var e,n,r,a,c;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(Ut.publicKey,{mint:Dt}),t.next=4,At.getTokenAccountsByOwner(Ut.publicKey,{mint:Dt});case 4:e=t.sent,n=0,t.t0=Object(w.a)().keys(e.value);case 7:if((t.t1=t.t0()).done){t.next=23;break}return r=t.t1.value,t.prev=9,t.next=12,At.getTokenAccountBalance(e.value[r].pubkey);case 12:a=t.sent,c=a.value.uiAmount||0,n+=c,t.next=20;break;case 17:t.prev=17,t.t2=t.catch(9),console.log(t.t2);case 20:i(n),t.next=7;break;case 23:t.next=28;break;case 25:t.prev=25,t.t3=t.catch(0),console.log(t.t3);case 28:case"end":return t.stop()}}),t,null,[[0,25],[9,17]])}))),12500);case 31:case"end":return t.stop()}}),t,null,[[2,27],[11,19]])}))),500);case 1:case"end":return t.stop()}}),t)})))()}),[Ut,t.connection]);var Dt=new K.PublicKey("2PAGcvionSsRsYv8vbbxbSfiNa8THnGT81q11vHU3faP"),Wt=Object(k.useState)("1.38"),Lt=Object(g.a)(Wt,2),Vt=Lt[0],Yt=Lt[1],qt=new K.Connection("https://ssc-dao.genesysgo.net/","confirmed");function Gt(){return(Gt=Object(y.a)(Object(w.a)().mark((function t(e){return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),console.log(e.target.value),Yt(e.target.value);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ht(){return(Ht=Object(y.a)(Object(w.a)().mark((function t(){var e,n,r,a,c,i,o,s,u,b,l,p,f;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Et){t.next=30;break}n=new S.Provider(At,Ut,{preflightCommitment:"processed"}),e=new T.FanoutClient(qt,n.wallet),r=[[]],a=0,c=0,i=0,o=Object.keys(W);case 7:if(!(i<o.length)){t.next=19;break}return s=o[i],a++,t.next=12,e.distributeTokenMemberInstructions({distributeForMint:!0,fanout:L,fanoutMint:new K.PublicKey(s),membershipMint:Dt,member:Et.publicKey,payer:Et.publicKey});case 12:u=t.sent,b=Object(m.a)(u.instructions);try{for(b.s();!(l=b.n()).done;)p=l.value,r[c].push(p)}catch(d){b.e(d)}finally{b.f()}a>1&&(a=0,c++,r.push([]));case 16:i++,t.next=7;break;case 19:console.log(r.length),f=0;case 21:if(!(f<=c)){t.next=30;break}if(!(f in r)){t.next=27;break}if(!(r[f].length>0)){t.next=27;break}return t.next=26,e.sendInstructions(Object(v.a)(r[f]),[],Et.publicKey);case 26:t.sent;case 27:f++,t.next=21;break;case 30:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _t(){return(_t=Object(y.a)(Object(w.a)().mark((function t(){var e,n,r,a,c,i,o,s,u,b,l,p;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Et){t.next=21;break}return b=new S.Provider(At,Ut,{preflightCommitment:"processed"}),u=new T.FanoutClient(qt,b.wallet),t.next=5,u.fetch(L,T.Fanout);case 5:return l=t.sent,console.log(null===(e=l.membershipMint)||void 0===e?void 0:e.toBase58()),console.log(null===(n=l.membershipMint)||void 0===n?void 0:n.toBase58()),console.log(null===(r=l.membershipMint)||void 0===r?void 0:r.toBase58()),console.log(null===(a=l.membershipMint)||void 0===a?void 0:a.toBase58()),console.log(null===(c=l.membershipMint)||void 0===c?void 0:c.toBase58()),console.log(null===(i=l.membershipMint)||void 0===i?void 0:i.toBase58()),console.log(null===(o=l.membershipMint)||void 0===o?void 0:o.toBase58()),console.log(null===(s=l.membershipMint)||void 0===s?void 0:s.toBase58()),console.log(parseFloat(Vt)*Math.pow(10,9)),t.next=17,u.stakeTokenMemberInstructions({shares:parseFloat(Vt)*Math.pow(10,9),fanout:L,membershipMint:Dt,member:Et.publicKey,payer:Et.publicKey});case 17:return p=t.sent,t.next=20,u.sendInstructions(p.instructions,[],Et.publicKey);case 20:t.sent;case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Jt(){return(Jt=Object(y.a)(Object(w.a)().mark((function t(){var e,n;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Et){t.next=5;break}return n=new S.Provider(At,Ut,{preflightCommitment:"processed"}),e=new T.FanoutClient(qt,n.wallet),t.next=5,e.unstakeTokenMember({fanout:L,member:Et.publicKey,payer:Et.publicKey});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(D.jsxs)("main",{children:[Object(D.jsxs)(H,{children:[Object(D.jsx)(V,{children:Object(D.jsx)(Y,{children:Et?Object(D.jsx)(q,{}):Object(D.jsx)(q,{children:"Connect Wallet"})})}),Object(D.jsx)("br",{}),Object(D.jsx)(_,{children:Object(D.jsx)(J,{children:Object(D.jsxs)(G,{elevation:3,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(X,{label:h&&ht&&gt>0?pt+" "+ut:it+" "+ut}),Object(D.jsx)(Z,{src:"cool-cats.gif",alt:"NFT To Mint"})]}),Object(D.jsx)("br",{}),Object(D.jsxs)("div",{children:[Object(D.jsx)("br",{}),"you hodl ",c," social tok, grab moar here: ",Object(D.jsx)(C.a,{href:"https://app.strataprotocol.com/swap/2PAGcvionSsRsYv8vbbxbSfiNa8THnGT81q11vHU3faP",children:"nfa"}),Object(D.jsx)("br",{}),"mm pinatadrastick... ",Object(D.jsx)("br",{})," ",Object(D.jsx)("br",{}),Object(D.jsx)(U.a,{onClick:function(){return Ht.apply(this,arguments)},children:"Distribute to self.."}),Object(D.jsx)("br",{}),Object(D.jsx)(F.a,{style:{color:"black",fontSize:"30px;",backgroundColor:"grey"},type:"text",onInput:function(t){return Gt.apply(this,arguments)},value:Vt}),Object(D.jsx)("br",{}),Object(D.jsx)("br",{}),Object(D.jsx)(U.a,{onClick:function(){return _t.apply(this,arguments)},children:"Stake"}),Object(D.jsx)("br",{}),Object(D.jsx)(U.a,{onClick:function(){return Jt.apply(this,arguments)},children:"Unstake All"}),Object(D.jsx)("br",{})]})]})})})]}),Object(D.jsx)(N.a,{open:Ct.open,autoHideDuration:6e3,onClose:function(){return Ft(Object(O.a)(Object(O.a)({},Ct),{},{open:!1}))},children:Object(D.jsx)(z.a,{onClose:function(){return Ft(Object(O.a)(Object(O.a)({},Ct),{},{open:!1}))},severity:Ct.severity,children:Ct.message})})]})}}).call(this,n(7).Buffer)},356:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="namespace"},357:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="player"},358:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var r=n(16),a=n(37),c=n(35);function i(e,n,i,o){var s=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:r.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new r.web3.TransactionInstruction({keys:s,programId:c.e,data:t.from([])})}}).call(this,n(7).Buffer)},368:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var r,a,c,i=n(0),o=n(9),s=n(2),u=n(4),b=n(5),l=n(12),p=(n(97),n(79)),f=n(16),d=n(3),h=(n(229),n(35)),j=n(51);n(230),n(20),Object(d.clusterApiUrl)("testnet"),Object(d.clusterApiUrl)("devnet");!function(t){t[t.Draft=0]="Draft",t[t.Initialized=1]="Initialized",t[t.Started=2]="Started",t[t.Finalized=3]="Finalized",t[t.PaidOut=4]="PaidOut",t[t.Deactivated=5]="Deactivated"}(r||(r={})),function(t){t[t.PlayerToPlayer=0]="PlayerToPlayer",t[t.PlayerToEntrant=1]="PlayerToEntrant",t[t.Normal=2]="Normal"}(a||(a={})),function(t){t[t.Player=0]="Player",t[t.Item=1]="Item",t[t.Any=2]="Any"}(c||(c={}));var m=n(37),O=n(358);function v(t){t.tokenEntryValidation&&(t.tokenEntryValidation=t.tokenEntryValidation.map((function(t){var e=Object(l.a)({},t.filter);return Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){"string"===typeof e[t][n]&&(e[t][n]=new f.web3.PublicKey(e[t][n]))}))})),t.filter=e,t.validation&&"string"===typeof t.validation.key&&(t.validation.key=new f.web3.PublicKey(t.validation.key),t.validation.code=new f.BN(t.validation.code)),t})))}var g=Object(u.a)((function t(e){Object(b.a)(this,t),this.program=void 0,this.key=void 0,this.object=void 0,this.data=void 0,this.program=e.program,this.key=e.key,this.object=e.object,this.data=e.data})),x=function(){function t(e){Object(b.a)(this,t),this.id=void 0,this.program=void 0,this.id=e.id,this.program=e.program}return Object(u.a)(t,[{key:"createMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e){var n,r,a,c=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:{},c.length>2&&void 0!==c[2]?c[2]:{},t.next=4,Object(j.c)(e.winOracle);case 4:return n=t.sent,r=Object(o.a)(n,2),a=r[0],r[1],v(e),t.next=11,this.program.methods.createMatch(e).accounts({matchInstance:a,payer:this.program.provider.wallet.publicKey,systemProgram:d.SystemProgram.programId,rent:f.web3.SYSVAR_RENT_PUBKEY}).instruction();case 11:return t.t0=t.sent,t.t1=[t.t0],t.t2=[],t.abrupt("return",{instructions:t.t1,signers:t.t2});case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"disburseTokensByOracle",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n,r){var a,c,s,u,b,l,p,m,v,g;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.c)(n.winOracle);case 2:return a=t.sent[0],c=r.tokenDelta,t.next=6,Object(j.d)(n.winOracle,c.mint,c.from);case 6:return s=t.sent,u=Object(o.a)(s,2),b=u[0],u[1],l=c.to,t.next=13,this.program.provider.connection.getAccountInfo(l);case 13:if(p=t.sent,m=[],p.owner.equals(h.g)){t.next=24;break}return v=l,t.next=19,Object(j.a)(c.mint,l);case 19:return l=t.sent[0],t.next=22,this.program.provider.connection.getAccountInfo(l);case 22:(g=t.sent)&&0!=g.data.length||m.unshift(Object(O.a)(l,this.program.provider.wallet.publicKey,v,c.mint));case 24:return t.t0=m,t.next=27,this.program.methods.disburseTokensByOracle(e).accounts({matchInstance:a,tokenAccountEscrow:b,tokenMint:c.mint,originalSender:c.from,destinationTokenAccount:l,winOracle:n.winOracle,tokenProgram:h.g,systemProgram:d.SystemProgram.programId,rent:f.web3.SYSVAR_RENT_PUBKEY}).instruction();case 27:return t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.abrupt("return",{instructions:m,signers:[]});case 30:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"drainMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n,r){var a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.c)(r.winOracle);case 2:return a=t.sent[0],t.next=5,this.program.methods.drainMatch().accounts({matchInstance:a,authority:this.program.provider.wallet.publicKey,receiver:n.receiver||this.program.provider.wallet.publicKey}).instruction();case 5:return t.t0=t.sent,t.t1=[t.t0],t.t2=[],t.abrupt("return",{instructions:t.t1,signers:t.t2});case 9:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"drainOracle",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n){var r,a,c,s,u,b,p=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.length>2&&void 0!==p[2]?p[2]:{},t.next=3,Object(j.e)(new f.web3.PublicKey(e.seed),new f.web3.PublicKey(e.authority));case 3:return r=t.sent,a=Object(o.a)(r,2),c=a[0],a[1],t.next=9,Object(j.c)(c);case 9:return s=t.sent,u=Object(o.a)(s,2),b=u[0],u[1],t.next=15,this.program.methods.drainOracle(Object(l.a)(Object(l.a)({},e),{},{seed:new f.web3.PublicKey(e.seed)})).accounts({matchInstance:b,authority:this.program.provider.wallet.publicKey,receiver:n.receiver||this.program.provider.wallet.publicKey,oracle:c}).instruction();case 15:return t.t0=t.sent,t.t1=[t.t0],t.t2=[],t.abrupt("return",{instructions:t.t1,signers:t.t2});case 19:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"updateMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n){var r,a=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.length>2&&void 0!==a[2]?a[2]:{},t.next=3,Object(j.c)(n.winOracle);case 3:return r=t.sent[0],v(e),t.next=7,this.program.methods.updateMatch(e).accounts({matchInstance:r,winOracle:n.winOracle,authority:this.program.provider.wallet.publicKey}).instruction();case 7:return t.t0=t.sent,t.t1=[t.t0],t.t2=[],t.abrupt("return",{instructions:t.t1,signers:t.t2});case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"leaveMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n,r){var a,c,s,u,b,l;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.c)(r.winOracle);case 2:return a=t.sent[0],t.next=5,Object(j.a)(n.tokenMint,n.receiver);case 5:return c=t.sent[0],t.next=8,Object(j.d)(r.winOracle,n.tokenMint,this.program.provider.wallet.publicKey);case 8:return s=t.sent,u=Object(o.a)(s,2),b=u[0],u[1],l=[],t.next=15,this.program.methods.leaveMatch(e).accounts({matchInstance:a,tokenAccountEscrow:b,tokenMint:n.tokenMint,destinationTokenAccount:c,receiver:this.program.provider.wallet.publicKey,tokenProgram:h.g}).instruction();case 15:return t.t0=t.sent,t.t1=[t.t0],t.t2=l,t.abrupt("return",{instructions:t.t1,signers:t.t2});case 19:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"joinMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n,r){var a,s,u,b,l,p,O;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.c)(r.winOracle);case 2:if(a=t.sent[0],t.t0=n.sourceTokenAccount,t.t0){t.next=8;break}return t.next=7,Object(j.a)(n.tokenMint,this.program.provider.wallet.publicKey);case 7:t.t0=t.sent[0];case 8:return s=t.t0,u=n.tokenTransferAuthority||f.web3.Keypair.generate(),t.next=12,Object(j.d)(r.winOracle,n.tokenMint,this.program.provider.wallet.publicKey);case 12:if(b=t.sent,l=Object(o.a)(b,2),p=l[0],l[1],O=[u],t.t1=m.Token.createApproveInstruction(h.g,s,u.publicKey,this.program.provider.wallet.publicKey,[],e.amount.toNumber()),t.t2=this.program.methods.joinMatch(e),t.t3=a,t.t4=u.publicKey,t.t5=p,t.t6=n.tokenMint,t.t7=s,r.sourceType!=c.Any){t.next=28;break}t.t8=d.SystemProgram.programId,t.next=38;break;case 28:if(r.sourceType!=c.Item){t.next=34;break}return t.next=31,Object(j.b)(n.tokenMint,r.index);case 31:t.t9=t.sent[0],t.next=37;break;case 34:return t.next=36,Object(j.f)(n.tokenMint,r.index);case 36:t.t9=t.sent[0];case 37:t.t8=t.t9;case 38:return t.t10=t.t8,t.t11=this.program.provider.wallet.publicKey,t.t12=d.SystemProgram.programId,t.t13=n.validationProgram||d.SystemProgram.programId,t.t14=h.g,t.t15=f.web3.SYSVAR_RENT_PUBKEY,t.t16={matchInstance:t.t3,tokenTransferAuthority:t.t4,tokenAccountEscrow:t.t5,tokenMint:t.t6,sourceTokenAccount:t.t7,sourceItemOrPlayerPda:t.t10,payer:t.t11,systemProgram:t.t12,validationProgram:t.t13,tokenProgram:t.t14,rent:t.t15},t.next=47,t.t2.accounts.call(t.t2,t.t16).signers(O).instruction();case 47:return t.t17=t.sent,t.t18=m.Token.createRevokeInstruction(h.g,s,this.program.provider.wallet.publicKey,[]),t.t19=[t.t1,t.t17,t.t18],t.t20=O,t.abrupt("return",{instructions:t.t19,signers:t.t20});case 52:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"updateMatchFromOracle",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(){var e,n,r=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:{},e=r.length>1?r[1]:void 0,r.length>2&&void 0!==r[2]?r[2]:{},t.next=5,Object(j.c)(e.winOracle);case 5:return n=t.sent[0],t.next=8,this.program.methods.updateMatchFromOracle().accounts({matchInstance:n,winOracle:e.winOracle,authority:this.program.provider.wallet.publicKey,clock:f.web3.SYSVAR_CLOCK_PUBKEY}).instruction();case 8:return t.t0=t.sent,t.t1=[t.t0],t.t2=[],t.abrupt("return",{instructions:t.t1,signers:t.t2});case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"createOrUpdateOracle",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e){var n,r,a,c,s=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.length>1&&void 0!==s[1]?s[1]:{},s.length>2&&void 0!==s[2]?s[2]:{},t.next=4,Object(j.e)(new f.web3.PublicKey(e.seed),e.authority);case 4:return n=t.sent,r=Object(o.a)(n,2),a=r[0],r[1],c=e.tokenTransfers?e.tokenTransfers.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{from:new f.web3.PublicKey(t.from),to:t.to?new f.web3.PublicKey(t.to):null,mint:new f.web3.PublicKey(t.mint),amount:new f.BN(t.amount)})})):null,t.next=11,this.program.methods.createOrUpdateOracle(Object(l.a)(Object(l.a)({},e),{},{tokenTransfers:c,seed:new f.web3.PublicKey(e.seed)})).accounts({oracle:a,payer:this.program.provider.wallet.publicKey,systemProgram:d.SystemProgram.programId,rent:f.web3.SYSVAR_RENT_PUBKEY}).instruction();case 11:return t.t0=t.sent,t.t1=[t.t0],t.t2=[],t.abrupt("return",{instructions:t.t1,signers:t.t2});case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),w=function(){function t(e){Object(b.a)(this,t),this.id=void 0,this.program=void 0,this.instruction=void 0,this.id=e.id,this.program=e.program,this.instruction=new x({id:this.id,program:this.program})}return Object(u.a)(t,[{key:"fetchMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e){var n,r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.c)(e);case 2:return n=t.sent[0],t.next=5,this.program.account.match.fetch(n);case 5:return r=t.sent,t.abrupt("return",new g({program:this,key:n,data:r.data,object:r}));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchOracle",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e){var n,r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.program.provider.connection.getAccountInfo(e);case 2:return n=t.sent,t.next=5,this.program.account.winOracle.coder.accounts.decode("WinOracle",n.data);case 5:return r=t.sent,t.abrupt("return",new g({program:this,key:e,data:n.data,object:r}));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e){var n,r,a,c=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:{},c.length>2?c[2]:void 0,t.next=4,this.instruction.createMatch(e);case 4:return n=t.sent,r=n.instructions,a=n.signers,t.next=9,Object(p.b)(this.program.provider.connection,this.program.provider.wallet,r,a);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"disburseTokensByOracle",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n,r){var a,c,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.instruction.disburseTokensByOracle(e,n,r);case 2:return a=t.sent,c=a.instructions,o=a.signers,t.next=7,Object(p.b)(this.program.provider.connection,this.program.provider.wallet,c,o);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"drainMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n,r){var a,c,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.instruction.drainMatch(e,n,r);case 2:return a=t.sent,c=a.instructions,o=a.signers,t.next=7,Object(p.b)(this.program.provider.connection,this.program.provider.wallet,c,o);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"drainOracle",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n){var r,a,c,o=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.length>2&&void 0!==o[2]?o[2]:{},t.next=3,this.instruction.drainOracle(e,n);case 3:return r=t.sent,a=r.instructions,c=r.signers,t.next=8,Object(p.b)(this.program.provider.connection,this.program.provider.wallet,a,c);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"joinMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n,r){var a,c,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.instruction.joinMatch(e,n,r);case 2:return a=t.sent,c=a.instructions,o=a.signers,t.abrupt("return",{instructions:c,signers:o});case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"leaveMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n,r){var a,c,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.instruction.leaveMatch(e,n,r);case 2:return a=t.sent,c=a.instructions,o=a.signers,t.next=7,Object(p.b)(this.program.provider.connection,this.program.provider.wallet,c,o);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"updateMatch",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e,n){var r,a,c,o=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.length>2&&void 0!==o[2]?o[2]:{},t.next=3,this.instruction.updateMatch(e,n);case 3:return r=t.sent,a=r.instructions,c=r.signers,t.next=8,Object(p.b)(this.program.provider.connection,this.program.provider.wallet,a,c);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"updateMatchFromOracle",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(){var e,n,r,a,c,o=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1?o[1]:void 0,o.length>2&&void 0!==o[2]?o[2]:{},t.next=5,this.instruction.updateMatchFromOracle(e,n);case 5:return r=t.sent,a=r.instructions,c=r.signers,t.next=10,Object(p.b)(this.program.provider.connection,this.program.provider.wallet,a,c);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"createOrUpdateOracle",value:function(){var t=Object(s.a)(Object(i.a)().mark((function t(e){var n,r,a,c=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.length>1&&void 0!==c[1]?c[1]:{},c.length>2&&void 0!==c[2]?c[2]:{},t.next=4,this.instruction.createOrUpdateOracle(e);case 4:return n=t.sent,r=n.instructions,a=n.signers,t.next=9,Object(p.b)(this.program.provider.connection,this.program.provider.wallet,r,a);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}()},381:function(t,e,n){},383:function(t,e){},384:function(t,e){},399:function(t,e){},400:function(t,e){},420:function(t,e,n){},500:function(t,e){},502:function(t,e){},51:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return b})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"f",(function(){return h}));var r=n(0),a=n(2),c=n(16),i=n(35),o=n(102),s=n(184),u=(n(356),n(357)),b=function(){var t=Object(a.a)(Object(r.a)().mark((function t(e,n){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.web3.PublicKey.findProgramAddress([n.toBuffer(),i.g.toBuffer(),e.toBuffer()],i.e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(Object(r.a)().mark((function e(n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.web3.PublicKey.findProgramAddress([t.from(s.a),n.toBuffer()],i.b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(Object(r.a)().mark((function e(n,a,o){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.web3.PublicKey.findProgramAddress([t.from(s.a),n.toBuffer(),a.toBuffer(),o.toBuffer()],i.b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(Object(r.a)().mark((function e(n,a){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.web3.PublicKey.findProgramAddress([t.from(s.a),a.toBuffer(),n.toBuffer()],i.b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(Object(r.a)().mark((function e(n,a){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,c.web3.PublicKey.findProgramAddress([t.from(o.b),n.toBuffer(),t.from(a)],i.a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(Object(r.a)().mark((function e(n,a){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.web3.PublicKey.findProgramAddress([t.from(u.a),n.toBuffer(),a.toBuffer("le",8)],i.d);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}).call(this,n(7).Buffer)},512:function(t,e){},514:function(t,e){},541:function(t,e){},543:function(t,e){},548:function(t,e){},550:function(t,e){},557:function(t,e){},569:function(t,e){},572:function(t,e){},648:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(64),i=n.n(c),o=(n(381),n(366)),s=n(692),u=n(693),b=n(694),l=n(16),p=n(3),f=n(695),d=n(696),h=n(697),j=n(689),m=n(690),O=n(691),v=n(698),g=n(699),x=n(700),w=n(180),y=(n(420),n(79)),k=n(354),P=n(21);n(620);var S="mainnet-beta",T="https://ssc-dao.genesysgo.net/",K=new l.web3.Connection(T),M=Object(o.a)({palette:{type:"dark"},overrides:{MuiButtonBase:{root:{justifyContent:"flex-start"}},MuiButton:{root:{textTransform:void 0,padding:"12px 16px"},startIcon:{marginRight:8},endIcon:{marginLeft:8}}}}),B=function(){var t=Object(r.useMemo)((function(){return Object(p.clusterApiUrl)(S)}),[]),e=Object(r.useMemo)((function(){return[Object(f.a)(),Object(d.a)(),Object(h.a)(),Object(j.a)(),Object(m.a)({network:S}),Object(O.a)({network:S}),Object(v.a)(),Object(g.a)(),Object(x.a)()]}),[]);return Object(P.jsx)(s.a,{theme:M,children:Object(P.jsx)(u.a,{endpoint:t,children:Object(P.jsx)(b.a,{wallets:e,autoConnect:!0,children:Object(P.jsx)(w.a,{children:Object(P.jsx)(k.a,{connection:K,txTimeout:y.a,rpcHost:T,network:S})})})})})},A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,701)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};i.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(B,{})}),document.getElementById("root")),A()},79:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return b}));var r,a=n(13),c=n(0),i=n(2),o=n(3),s=n(116),u=6e4;!function(t){t[t.Sequential=0]="Sequential",t[t.Parallel=1]="Parallel",t[t.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var b=function(){var t=Object(i.a)(Object(c.a)().mark((function t(e,n,r,i){var u,b,l,f,d,h,j,m,O,v,g,x=arguments;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=x.length>4&&void 0!==x[4]?x[4]:"singleGossip",b=x.length>5&&void 0!==x[5]&&x[5],l=x.length>6?x[6]:void 0,f=x.length>7?x[7]:void 0,n.publicKey){t.next=6;break}throw new s.f;case 6:if(d=new o.Transaction,r.forEach((function(t){return d.add(t)})),t.t0=l,t.t0){t.next=13;break}return t.next=12,e.getRecentBlockhash(u);case 12:t.t0=t.sent;case 13:if(d.recentBlockhash=t.t0.blockhash,b?(h=d).setSigners.apply(h,Object(a.a)(i.map((function(t){return t.publicKey})))):(j=d).setSigners.apply(j,[n.publicKey].concat(Object(a.a)(i.map((function(t){return t.publicKey}))))),i.length>0&&(m=d).partialSign.apply(m,Object(a.a)(i)),b){t.next=20;break}return t.next=19,n.signTransaction(d);case 19:d=t.sent;case 20:return f&&f(),t.next=23,p({connection:e,signedTransaction:d});case 23:return O=t.sent,v=O.txid,g=O.slot,t.abrupt("return",{txid:v,slot:g});case 27:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),l=function(){return(new Date).getTime()/1e3};function p(t){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(Object(c.a)().mark((function t(e){var n,r,a,o,s,b,p,f,h,m,v,g,x;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.signedTransaction,r=e.connection,a=e.timeout,o=void 0===a?u:a,s=n.serialize(),b=l(),p=0,t.next=6,r.sendRawTransaction(s,{skipPreflight:!0});case 6:return f=t.sent,console.log("Started awaiting confirmation for",f),h=!1,Object(i.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h||!(l()-b<o)){t.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),t.next=4,O(500);case 4:t.next=0;break;case 6:case"end":return t.stop()}}),t)})))(),t.prev=10,t.next=13,j(f,o,r,"recent",!0);case 13:if(m=t.sent){t.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!m.err){t.next=19;break}throw console.error(m.err),new Error("Transaction failed: Custom instruction error");case 19:p=(null===m||void 0===m?void 0:m.slot)||0,t.next=47;break;case 22:if(t.prev=22,t.t0=t.catch(10),console.error("Timeout Error caught",t.t0),!t.t0.timeout){t.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return v=null,t.prev=28,t.next=31,d(r,n,"single");case 31:v=t.sent.value,t.next=36;break;case 34:t.prev=34,t.t1=t.catch(28);case 36:if(!v||!v.err){t.next=47;break}if(!v.logs){t.next=46;break}g=v.logs.length-1;case 39:if(!(g>=0)){t.next=46;break}if(!(x=v.logs[g]).startsWith("Program log: ")){t.next=43;break}throw new Error("Transaction failed: "+x.slice("Program log: ".length));case 43:--g,t.next=39;break;case 46:throw new Error(JSON.stringify(v.err));case 47:return t.prev=47,h=!0,t.finish(47);case 50:return console.log("Latency",f,l()-b),t.abrupt("return",{txid:f,slot:p});case 52:case"end":return t.stop()}}),t,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function d(t,e,n){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(Object(c.a)().mark((function t(e,n,r){var a,i,o,s,u;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._recentBlockhash(e._disableBlockhashCaching);case 2:return n.recentBlockhash=t.sent,a=n.serializeMessage(),i=n._serialize(a),o=i.toString("base64"),s=[o,{encoding:"base64",commitment:r}],t.next=10,e._rpcRequest("simulateTransaction",s);case 10:if(!(u=t.sent).error){t.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return t.abrupt("return",u.result);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t,e,n){return m.apply(this,arguments)}function m(){return m=Object(i.a)(Object(c.a)().mark((function t(e,n,r){var a,o,s,u,b,l=arguments;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:"recent",o=l.length>4&&void 0!==l[4]&&l[4],s=!1,u={slot:0,confirmations:0,err:null},b=0,t.next=7,new Promise(function(){var t=Object(i.a)(Object(c.a)().mark((function t(l,p){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),p({timeout:!0}))}),n);try{b=r.onSignature(e,(function(t,e){s=!0,u={err:t.err,slot:e.slot,confirmations:0},t.err?(console.log("Rejected via websocket",t.err),p(u)):(console.log("Resolved via websocket",t),l(u))}),a)}catch(f){s=!0,console.error("WS error in setup",e,f)}case 2:if(s||!o){t.next=8;break}return Object(i.a)(Object(c.a)().mark((function t(){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.getSignatureStatuses([e]);case 3:n=t.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",e,u),s=!0,p(u.err)):u.confirmations?(console.log("REST confirmation for",e,u),s=!0,l(u)):console.log("REST no confirmations for",e,u):console.log("REST null result for",e,u)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s||console.log("REST connection error: txid",e,t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),t.next=6,O(2e3);case 6:t.next=2;break;case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 7:return u=t.sent,r._signatureSubscriptions[b]&&r.removeSignatureListener(b),s=!0,console.log("Returning status",u),t.abrupt("return",u);case 12:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function O(t){return new Promise((function(e){return setTimeout(e,t)}))}}},[[648,1,2]]]);
//# sourceMappingURL=main.f6d2b966.chunk.js.map