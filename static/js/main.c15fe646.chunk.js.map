{"version":3,"sources":["rain/constants/matches.ts","Home.tsx","rain/constants/namespace.ts","rain/constants/player.ts","rain/utils/ata.ts","MintButton.tsx","rain/state/matches.ts","rain/utils/connection.ts","rain/contract/matches.ts","rain/constants/programIds.ts","App.tsx","reportWebVitals.ts","index.tsx","rain/utils/pda.ts","connection.tsx","rain/constants/item.ts"],"names":["PREFIX","getOracle","seed","payer","PublicKey","findProgramAddress","Buffer","from","toBuffer","MATCHES_ID","anchor","WalletContainer","process","toString","styled","div","WalletAmount","Wallet","ul","ConnectButton","WalletMultiButton","NFT","Paper","MintButtonContainer","SolExplorerLink","a","MainContainer","MintContainer","DesContainer","Price","Chip","Image","img","LinearProgress","Home","props","useState","index","setIndex","balance","setBalance","setIsMinting","isActive","solanaExplorerLink","price","priceLabel","whitelistPrice","whitelistEnabled","whitelistTokenBalance","toplay","setToplay","connection","useConnection","wallet","useWallet","open","message","severity","undefined","alertState","setAlertState","anchorWallet","rpcHost","useMemo","publicKey","signAllTransactions","signTransaction","onMint","connected","provider","preflightCommitment","idl","program","anchorProgram","MatchesProgram","id","console","log","fetch","json","config","setup","tokensToJoin","amount","escrowBump","tokenEntryValidation","tokenEntryValidationProof","tokenMint","mint","sourceTokenAccount","tokenTransferAuthority","validationProgram","winOracle","oracleState","authority","sourceType","joinMatch","someDecs2","useEffect","temp","token","parseInt","getBalance","LAMPORTS_PER_SOL","toLocaleString","elevation","label","src","alt","type","onChange","e","target","value","err","placeholder","href","autoHideDuration","onClose","createAssociatedTokenAccountInstruction","associatedTokenAddress","walletAddress","splTokenMintAddress","keys","pubkey","isSigner","isWritable","web3","SystemProgram","programId","TOKEN_PROGRAM_ID","SYSVAR_RENT_PUBKEY","TransactionInstruction","SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID","data","CTAButton","Button","MintButton","disabled","onClick","variant","MatchState","TokenTransferType","TokenType","clusterApiUrl","transformTokenValidations","args","map","r","newRFilter","filter","Object","forEach","k","y","validation","key","code","BN","MatchWrapper","object","this","MatchesInstruction","getMatch","match","methods","createMatch","accounts","matchInstance","systemProgram","rent","instruction","instructions","signers","additionalArgs","tfer","tokenDelta","getMatchTokenAccountEscrow","tokenAccountEscrow","destinationTokenAccount","to","getAccountInfo","info","owner","equals","destinationTokenOwner","getAtaForMint","exists","length","unshift","disburseTokensByOracle","originalSender","tokenProgram","push","_args","drainMatch","receiver","oracle","drainOracle","updateMatch","leaveMatch","transferAuthority","Keypair","generate","Token","createApproveInstruction","toNumber","Any","Item","getItemPDA","getPlayerPDA","sourceItemOrPlayerPda","createRevokeInstruction","updateMatchFromOracle","clock","SYSVAR_CLOCK_PUBKEY","tokenTransfers","t","createOrUpdateOracle","matchPda","account","oracleAcct","coder","decode","oracleInstance","sendTransactionWithRetry","NAMESPACE_ID","ITEM_ID","PLAYER_ID","TOKEN_METADATA_PROGRAM_ID","require","network","Connection","theme","createTheme","palette","overrides","MuiButtonBase","root","justifyContent","MuiButton","textTransform","padding","startIcon","marginRight","endIcon","marginLeft","App","endpoint","wallets","getPhantomWallet","getSlopeWallet","getSolflareWallet","getSolflareWebWallet","getSolletWallet","getSolletExtensionWallet","getSolongWallet","getLedgerWallet","getSafePalWallet","ThemeProvider","ConnectionProvider","WalletProvider","autoConnect","txTimeout","DEFAULT_TIMEOUT","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","MATCHES_PREFIX","tokenOwner","ITEM_PREFIX","PLAYER_PREFIX","SequenceType","commitment","includesFeePayer","block","beforeSend","WalletNotConnectedError","transaction","Transaction","add","getRecentBlockhash","recentBlockhash","blockhash","setSigners","s","partialSign","sendSignedTransaction","signedTransaction","txid","slot","getUnixTs","Date","getTime","timeout","rawTransaction","serialize","startTime","sendRawTransaction","skipPreflight","done","sleep","awaitTransactionSignatureConfirmation","confirmation","Error","error","simulateResult","simulateTransaction","logs","i","line","startsWith","slice","JSON","stringify","_recentBlockhash","_disableBlockhashCaching","signData","serializeMessage","wireTransaction","_serialize","encodedTransaction","encoding","_rpcRequest","res","result","queryStatus","status","confirmations","subId","Promise","resolve","reject","setTimeout","onSignature","context","getSignatureStatuses","signatureStatuses","_signatureSubscriptions","removeSignatureListener","ms","MARKER"],"mappings":"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","file":"static/js/main.c15fe646.chunk.js","sourcesContent":["export const PREFIX = \"matches\";\n","import {useEffect, useMemo, useState} from \"react\";\nimport styled from \"styled-components\";\nimport confetti from \"canvas-confetti\";\nimport * as anchor from \"@project-serum/anchor\";\nimport { MatchesProgram } from \"./rain/contract/matches\";\nimport fetch from 'node-fetch';\n\nimport {\n    PublicKey,\n    Transaction,\n    LAMPORTS_PER_SOL\n} from \"@solana/web3.js\";\nimport {WalletAdapterNetwork} from '@solana/wallet-adapter-base';\nimport {useConnection, useWallet} from \"@solana/wallet-adapter-react\";\nimport {WalletMultiButton} from \"@solana/wallet-adapter-react-ui\";\nimport Countdown from \"react-countdown\";\nimport {Snackbar, Paper, LinearProgress, Chip, Input} from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {AlertState} from './utils';\nimport {MintButton} from './MintButton';\n\nimport { TokenType } from \"raindrops-cli/build/state/matches\";\n\nexport const getOracle = async (\n    seed: PublicKey,\n    payer: PublicKey\n  ): Promise<[PublicKey, number]> => {\n    return await PublicKey.findProgramAddress(\n      [Buffer.from(\"matches\"), payer.toBuffer(), seed.toBuffer()],\n      MATCHES_ID\n    );\n  };\n  \nexport const MATCHES_ID = new anchor.web3.PublicKey(\n    \"mtchsiT6WoLQ62fwCoiHMCfXJzogtfru4ovY8tXKrjJ\"\n  );\nconst cluster = process.env.REACT_APP_SOLANA_NETWORK!.toString();\nconst decimals = process.env.REACT_APP_SPL_TOKEN_TO_MINT_DECIMALS ? +process.env.REACT_APP_SPL_TOKEN_TO_MINT_DECIMALS!.toString() : 9;\nconst splTokenName = process.env.REACT_APP_SPL_TOKEN_TO_MINT_NAME ? process.env.REACT_APP_SPL_TOKEN_TO_MINT_NAME.toString() : \"TOKEN\";\n\nconst WalletContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: right;\n`;\n\nconst WalletAmount = styled.div`\n  color: black;\n  width: auto;\n  padding: 5px 5px 5px 16px;\n  min-width: 48px;\n  min-height: auto;\n  border-radius: 22px;\n  background-color: var(--main-text-color);\n  box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 20%), 0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%);\n  box-sizing: border-box;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  font-weight: 500;\n  line-height: 1.75;\n  text-transform: uppercase;\n  border: 0;\n  margin: 0;\n  display: inline-flex;\n  outline: 0;\n  position: relative;\n  align-items: center;\n  user-select: none;\n  vertical-align: middle;\n  justify-content: flex-start;\n  gap: 10px;\n`;\n\nconst Wallet = styled.ul`\n  flex: 0 0 auto;\n  margin: 0;\n  padding: 0;\n`;\n\nconst ConnectButton = styled(WalletMultiButton)`\n  border-radius: 18px !important;\n  padding: 6px 16px;\n  background-color: #4E44CE;\n  margin: 0 auto;\n`;\n\nconst NFT = styled(Paper)`\n  min-width: 500px;\n  margin: 0 auto;\n  padding: 5px 20px 20px 20px;\n  flex: 1 1 auto;\n  background-color: var(--card-background-color) !important;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22) !important;\n`;\n\nconst Card = styled(Paper)`\n  display: inline-block;\n  background-color: var(--countdown-background-color) !important;\n  margin: 5px;\n  min-width: 40px;\n  padding: 24px;\n\n  h1 {\n    margin: 0px;\n  }\n`;\n\nconst MintButtonContainer = styled.div`\n  button.MuiButton-contained:not(.MuiButton-containedPrimary).Mui-disabled {\n    color: #464646;\n  }\n\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):hover,\n  button.MuiButton-contained:not(.MuiButton-containedPrimary):focus {\n    -webkit-animation: pulse 1s;\n    animation: pulse 1s;\n    box-shadow: 0 0 0 2em rgba(255, 255, 255, 0);\n  }\n\n  @-webkit-keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n\n  @keyframes pulse {\n    0% {\n      box-shadow: 0 0 0 0 #ef8f6e;\n    }\n  }\n`;\n\nconst SolExplorerLink = styled.a`\n  color: var(--title-text-color);\n  border-bottom: 1px solid var(--title-text-color);\n  font-weight: bold;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: none;\n  outline: none;\n  text-decoration: none;\n  text-size-adjust: 100%;\n\n  :hover {\n    border-bottom: 2px solid var(--title-text-color);\n  }\n`;\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-right: 4%;\n  margin-left: 4%;\n  text-align: center;\n  justify-content: center;\n`;\n\nconst MintContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex: 1 1 auto;\n  flex-wrap: wrap;\n  gap: 20px;\n`;\n\nconst DesContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  gap: 20px;\n`;\n\nconst Price = styled(Chip)`\n  position: absolute;\n  margin: 5px;\n  font-weight: bold;\n  font-size: 1.2em !important;\n  font-family: 'Patrick Hand', cursive !important;\n`;\n\nconst Image = styled.img`\n  height: 400px;\n  width: auto;\n  border-radius: 7px;\n  box-shadow: 5px 5px 40px 5px rgba(0, 0, 0, 0.5);\n`;\n\nconst BorderLinearProgress = styled(LinearProgress)`\n  margin: 20px;\n  height: 10px !important;\n  border-radius: 30px;\n  border: 2px solid white;\n  box-shadow: 5px 5px 40px 5px rgba(0, 0, 0, 0.5);\n  background-color: var(--main-text-color) !important;\n\n  > div.MuiLinearProgress-barColorPrimary {\n    background-color: var(--title-text-color) !important;\n  }\n\n  > div.MuiLinearProgress-bar1Determinate {\n    border-radius: 30px !important;\n    background-image: linear-gradient(270deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.5));\n  }\n`;\n\nexport interface HomeProps {\n    candyMachineId?: anchor.web3.PublicKey;\n    connection: anchor.web3.Connection;\n    txTimeout: number;\n    rpcHost: string;\n    network: WalletAdapterNetwork;\n}\n\nconst Home = (props: HomeProps) => {\n    const [index, setIndex] = useState<number>(0);\n    const [balance, setBalance] = useState<number>();\n    const [isMinting, setIsMinting] = useState(false); // true when user got to press MINT\n    const [isActive, setIsActive] = useState(false); // true when countdown completes or whitelisted\n    const [solanaExplorerLink, setSolanaExplorerLink] = useState<string>(\"\");\n    const [itemsAvailable, setItemsAvailable] = useState(0);\n    const [itemsRedeemed, setItemsRedeemed] = useState(0);\n    const [itemsRemaining, setItemsRemaining] = useState(0);\n    const [isSoldOut, setIsSoldOut] = useState(false);\n    const [payWithSplToken, setPayWithSplToken] = useState(false);\n    const [price, setPrice] = useState(0);\n    const [priceLabel, setPriceLabel] = useState<string>(\"SOL\");\n    const [whitelistPrice, setWhitelistPrice] = useState(0);\n    const [whitelistEnabled, setWhitelistEnabled] = useState(false);\n    const [isBurnToken, setIsBurnToken] = useState(false);\n    const [whitelistTokenBalance, setWhitelistTokenBalance] = useState(0);\n    const [isEnded, setIsEnded] = useState(false);\n    const [endDate, setEndDate] = useState<Date>();\n    const [isPresale, setIsPresale] = useState(false);\n    const [isWLOnly, setIsWLOnly] = useState(false);\n    const [toplay, setToplay] = useState(\"\");\n    \nconst { connection } = useConnection()\n\nconst wallet = useWallet();\n\n    const [alertState, setAlertState] = useState<AlertState>({\n        open: false,\n        message: \"\",\n        severity: undefined,\n    });\n\n    const [needTxnSplit, setNeedTxnSplit] = useState(true);\n    const rpcUrl = props.rpcHost;\n    const solFeesEstimation = 0.012; // approx of account creation fees\n\n    const anchorWallet = useMemo(() => {\n        if (\n            !wallet ||\n            !wallet.publicKey ||\n            !wallet.signAllTransactions ||\n            !wallet.signTransaction\n        ) {\n            return;\n        }\n\n        return {\n            publicKey: wallet.publicKey,\n            signAllTransactions: wallet.signAllTransactions,\n            signTransaction: wallet.signTransaction,\n        } as anchor.Wallet;\n    }, [wallet]);\n\n\n    const renderGoLiveDateCounter = ({days, hours, minutes, seconds}: any) => {\n        return (\n            <div><Card elevation={1}><h1>{days}</h1>Days</Card><Card elevation={1}><h1>{hours}</h1>\n                Hours</Card><Card elevation={1}><h1>{minutes}</h1>Mins</Card><Card elevation={1}>\n                <h1>{seconds}</h1>Secs</Card></div>\n        );\n    };\n\n    const renderEndDateCounter = ({days, hours, minutes}: any) => {\n        let label = \"\";\n        if (days > 0) {\n            label += days + \" days \"\n        }\n        if (hours > 0) {\n            label += hours + \" hours \"\n        }\n        label += (minutes + 1) + \" minutes left to MINT.\"\n        return (\n            <div><h3>{label}</h3></div>\n        );\n    };\n\n    function throwConfetti(): void {\n        confetti({\n            particleCount: 400,\n            spread: 70,\n            origin: {y: 0.6},\n        });\n    }\n\n    const onMint = async (\n        beforeTransactions: Transaction[] = [],\n        afterTransactions: Transaction[] = [],\n    ) => {\n            if (wallet.connected && wallet.publicKey) {\n                setIsMinting(true);\n                // @ts-ignore\n                const provider = new anchor.AnchorProvider(connection, anchorWallet, {\n                    preflightCommitment: 'processed',\n                  });\n\n  const idl = {\"version\":\"0.1.0\",\"name\":\"matches\",\"instructions\":[{\"name\":\"createOrUpdateOracle\",\"accounts\":[{\"name\":\"oracle\",\"isMut\":true,\"isSigner\":false},{\"name\":\"payer\",\"isMut\":true,\"isSigner\":true},{\"name\":\"systemProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"rent\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"CreateOrUpdateOracleArgs\"}}]},{\"name\":\"createMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"payer\",\"isMut\":true,\"isSigner\":true},{\"name\":\"systemProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"rent\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"CreateMatchArgs\"}}]},{\"name\":\"updateMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"winOracle\",\"isMut\":false,\"isSigner\":false},{\"name\":\"authority\",\"isMut\":false,\"isSigner\":true}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"UpdateMatchArgs\"}}]},{\"name\":\"updateMatchFromOracle\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"winOracle\",\"isMut\":false,\"isSigner\":false},{\"name\":\"clock\",\"isMut\":false,\"isSigner\":false}],\"args\":[]},{\"name\":\"drainOracle\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":false,\"isSigner\":false},{\"name\":\"oracle\",\"isMut\":true,\"isSigner\":false},{\"name\":\"authority\",\"isMut\":false,\"isSigner\":true},{\"name\":\"receiver\",\"isMut\":true,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"DrainOracleArgs\"}}]},{\"name\":\"drainMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"authority\",\"isMut\":false,\"isSigner\":true},{\"name\":\"receiver\",\"isMut\":false,\"isSigner\":false}],\"args\":[]},{\"name\":\"leaveMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"receiver\",\"isMut\":false,\"isSigner\":false},{\"name\":\"tokenAccountEscrow\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenMint\",\"isMut\":true,\"isSigner\":false},{\"name\":\"destinationTokenAccount\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenProgram\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"LeaveMatchArgs\"}}]},{\"name\":\"disburseTokensByOracle\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenAccountEscrow\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenMint\",\"isMut\":true,\"isSigner\":false},{\"name\":\"destinationTokenAccount\",\"isMut\":true,\"isSigner\":false},{\"name\":\"winOracle\",\"isMut\":false,\"isSigner\":false},{\"name\":\"originalSender\",\"isMut\":true,\"isSigner\":false},{\"name\":\"systemProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"tokenProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"rent\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"DisburseTokensByOracleArgs\"}}]},{\"name\":\"joinMatch\",\"accounts\":[{\"name\":\"matchInstance\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenTransferAuthority\",\"isMut\":false,\"isSigner\":true},{\"name\":\"tokenAccountEscrow\",\"isMut\":true,\"isSigner\":false},{\"name\":\"tokenMint\",\"isMut\":true,\"isSigner\":false},{\"name\":\"sourceTokenAccount\",\"isMut\":true,\"isSigner\":false},{\"name\":\"sourceItemOrPlayerPda\",\"isMut\":false,\"isSigner\":false},{\"name\":\"payer\",\"isMut\":true,\"isSigner\":true},{\"name\":\"systemProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"validationProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"tokenProgram\",\"isMut\":false,\"isSigner\":false},{\"name\":\"rent\",\"isMut\":false,\"isSigner\":false}],\"args\":[{\"name\":\"args\",\"type\":{\"defined\":\"JoinMatchArgs\"}}]}],\"accounts\":[{\"name\":\"Match\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"namespaces\",\"type\":{\"option\":{\"vec\":{\"defined\":\"NamespaceAndIndex\"}}}},{\"name\":\"winOracle\",\"type\":\"publicKey\"},{\"name\":\"winOracleCooldown\",\"type\":\"u64\"},{\"name\":\"lastOracleCheck\",\"type\":\"u64\"},{\"name\":\"authority\",\"type\":\"publicKey\"},{\"name\":\"state\",\"type\":{\"defined\":\"MatchState\"}},{\"name\":\"leaveAllowed\",\"type\":\"bool\"},{\"name\":\"minimumAllowedEntryTime\",\"type\":{\"option\":\"u64\"}},{\"name\":\"bump\",\"type\":\"u8\"},{\"name\":\"currentTokenTransferIndex\",\"type\":\"u64\"},{\"name\":\"tokenTypesAdded\",\"type\":\"u64\"},{\"name\":\"tokenTypesRemoved\",\"type\":\"u64\"},{\"name\":\"tokenEntryValidation\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenValidation\"}}}},{\"name\":\"tokenEntryValidationRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"joinAllowedDuringStart\",\"type\":\"bool\"}]}},{\"name\":\"PlayerWinCallbackBitmap\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"matchKey\",\"type\":\"publicKey\"}]}},{\"name\":\"WinOracle\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"finalized\",\"type\":\"bool\"},{\"name\":\"tokenTransferRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"tokenTransfers\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenDelta\"}}}}]}}],\"types\":[{\"name\":\"CreateOrUpdateOracleArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"tokenTransferRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"tokenTransfers\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenDelta\"}}}},{\"name\":\"seed\",\"type\":\"publicKey\"},{\"name\":\"space\",\"type\":\"u64\"},{\"name\":\"finalized\",\"type\":\"bool\"}]}},{\"name\":\"DrainOracleArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"seed\",\"type\":\"publicKey\"}]}},{\"name\":\"CreateMatchArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"matchState\",\"type\":{\"defined\":\"MatchState\"}},{\"name\":\"tokenEntryValidationRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"tokenEntryValidation\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenValidation\"}}}},{\"name\":\"winOracle\",\"type\":\"publicKey\"},{\"name\":\"winOracleCooldown\",\"type\":\"u64\"},{\"name\":\"authority\",\"type\":\"publicKey\"},{\"name\":\"space\",\"type\":\"u64\"},{\"name\":\"leaveAllowed\",\"type\":\"bool\"},{\"name\":\"joinAllowedDuringStart\",\"type\":\"bool\"},{\"name\":\"minimumAllowedEntryTime\",\"type\":{\"option\":\"u64\"}}]}},{\"name\":\"UpdateMatchArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"matchState\",\"type\":{\"defined\":\"MatchState\"}},{\"name\":\"tokenEntryValidationRoot\",\"type\":{\"option\":{\"defined\":\"Root\"}}},{\"name\":\"tokenEntryValidation\",\"type\":{\"option\":{\"vec\":{\"defined\":\"TokenValidation\"}}}},{\"name\":\"winOracleCooldown\",\"type\":\"u64\"},{\"name\":\"authority\",\"type\":\"publicKey\"},{\"name\":\"leaveAllowed\",\"type\":\"bool\"},{\"name\":\"joinAllowedDuringStart\",\"type\":\"bool\"},{\"name\":\"minimumAllowedEntryTime\",\"type\":{\"option\":\"u64\"}}]}},{\"name\":\"JoinMatchArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"amount\",\"type\":\"u64\"},{\"name\":\"tokenEntryValidationProof\",\"type\":{\"option\":{\"vec\":{\"array\":[\"u8\",32]}}}},{\"name\":\"tokenEntryValidation\",\"type\":{\"option\":{\"defined\":\"TokenValidation\"}}}]}},{\"name\":\"LeaveMatchArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"amount\",\"type\":\"u64\"}]}},{\"name\":\"DisburseTokensByOracleArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"tokenDeltaProofInfo\",\"type\":{\"option\":{\"defined\":\"TokenDeltaProofInfo\"}}}]}},{\"name\":\"TokenDeltaProofInfo\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"tokenDeltaProof\",\"type\":{\"vec\":{\"array\":[\"u8\",32]}}},{\"name\":\"tokenDelta\",\"type\":{\"defined\":\"TokenDelta\"}},{\"name\":\"totalProof\",\"type\":{\"vec\":{\"array\":[\"u8\",32]}}},{\"name\":\"total\",\"type\":\"u64\"}]}},{\"name\":\"Root\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"root\",\"type\":{\"array\":[\"u8\",32]}}]}},{\"name\":\"Callback\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"key\",\"type\":\"publicKey\"},{\"name\":\"code\",\"type\":\"u64\"}]}},{\"name\":\"ValidationArgs\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"instruction\",\"type\":{\"array\":[\"u8\",8]}},{\"name\":\"extraIdentifier\",\"type\":\"u64\"},{\"name\":\"tokenValidation\",\"type\":{\"defined\":\"TokenValidation\"}}]}},{\"name\":\"NamespaceAndIndex\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"namespace\",\"type\":\"publicKey\"},{\"name\":\"indexed\",\"type\":\"bool\"},{\"name\":\"inherited\",\"type\":{\"defined\":\"InheritanceState\"}}]}},{\"name\":\"TokenDelta\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"from\",\"type\":\"publicKey\"},{\"name\":\"to\",\"type\":{\"option\":\"publicKey\"}},{\"name\":\"tokenTransferType\",\"type\":{\"defined\":\"TokenTransferType\"}},{\"name\":\"mint\",\"type\":\"publicKey\"},{\"name\":\"amount\",\"type\":\"u64\"}]}},{\"name\":\"TokenValidation\",\"type\":{\"kind\":\"struct\",\"fields\":[{\"name\":\"filter\",\"type\":{\"defined\":\"Filter\"}},{\"name\":\"isBlacklist\",\"type\":\"bool\"},{\"name\":\"validation\",\"type\":{\"option\":{\"defined\":\"Callback\"}}}]}},{\"name\":\"MatchState\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"Draft\"},{\"name\":\"Initialized\"},{\"name\":\"Started\"},{\"name\":\"Finalized\"},{\"name\":\"PaidOut\"},{\"name\":\"Deactivated\"}]}},{\"name\":\"PermissivenessType\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"TokenHolder\"},{\"name\":\"ParentTokenHolder\"},{\"name\":\"UpdateAuthority\"},{\"name\":\"Anybody\"}]}},{\"name\":\"InheritanceState\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"NotInherited\"},{\"name\":\"Inherited\"},{\"name\":\"Overridden\"}]}},{\"name\":\"TokenType\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"Player\"},{\"name\":\"Item\"},{\"name\":\"Any\"}]}},{\"name\":\"TokenTransferType\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"PlayerToPlayer\"},{\"name\":\"PlayerToEntrant\"},{\"name\":\"Normal\"}]}},{\"name\":\"Filter\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"None\"},{\"name\":\"All\"},{\"name\":\"Namespace\",\"fields\":[{\"name\":\"namespace\",\"type\":\"publicKey\"}]},{\"name\":\"Parent\",\"fields\":[{\"name\":\"key\",\"type\":\"publicKey\"}]},{\"name\":\"Mint\",\"fields\":[{\"name\":\"mint\",\"type\":\"publicKey\"}]}]}},{\"name\":\"ErrorCode\",\"type\":{\"kind\":\"enum\",\"variants\":[{\"name\":\"IncorrectOwner\"},{\"name\":\"Uninitialized\"},{\"name\":\"MintMismatch\"},{\"name\":\"TokenTransferFailed\"},{\"name\":\"NumericalOverflowError\"},{\"name\":\"TokenMintToFailed\"},{\"name\":\"TokenBurnFailed\"},{\"name\":\"DerivedKeyInvalid\"},{\"name\":\"InvalidStartingMatchState\"},{\"name\":\"InvalidUpdateMatchState\"},{\"name\":\"InvalidOracleUpdate\"},{\"name\":\"CannotDrainYet\"},{\"name\":\"CannotLeaveMatch\"},{\"name\":\"ReceiverMustBeSigner\"},{\"name\":\"PublicKeyMismatch\"},{\"name\":\"AtaShouldNotHaveDelegate\"},{\"name\":\"CannotEnterMatch\"},{\"name\":\"InvalidProof\"},{\"name\":\"RootNotPresent\"},{\"name\":\"MustPassUpObject\"},{\"name\":\"NoValidValidationFound\"},{\"name\":\"Blacklisted\"},{\"name\":\"NoTokensAllowed\"},{\"name\":\"InvalidValidation\"},{\"name\":\"NoDeltasFound\"},{\"name\":\"UsePlayerEndpoint\"},{\"name\":\"FromDoesNotMatch\"},{\"name\":\"CannotDeltaMoreThanAmountPresent\"},{\"name\":\"DeltaMintDoesNotMatch\"},{\"name\":\"DestinationMismatch\"},{\"name\":\"MatchMustBeInFinalized\"},{\"name\":\"AtaDelegateMismatch\"},{\"name\":\"OracleAlreadyFinalized\"},{\"name\":\"OracleCooldownNotPassed\"},{\"name\":\"MatchMustBeDrained\"},{\"name\":\"NoParentPresent\"},{\"name\":\"ReinitializationDetected\"}]}}]}// await anchor.Program.fetchIdl(MATCHES_ID, provider);\n\n  const program = new anchor.Program(idl as anchor.Idl, MATCHES_ID, provider);\n\n \n                const anchorProgram =  new MatchesProgram({\n                    id: MATCHES_ID,\n                    // @ts-ignore\n                    program,\n                  });\n                  console.log(anchorProgram)\n                let blarg = new PublicKey(\"BCUfkAyJYpxBpjT7AhnHSbW2PnUMMhoKfDSdmd5fga1m\")\n                const config = (await (await fetch('https://www.autist.design/blargs')).json()) \n            \n                console.log(index)\n                // @ts-ignore\n                  const setup = config.tokensToJoin[index];\n                  console.log(setup)\n                  await anchorProgram.joinMatch(\n                    {\n                        // @ts-ignore\n                      amount: new anchor.BN(setup.amount),\n                      // @ts-ignore\n                      escrowBump: null,\n                      tokenEntryValidation: null,\n                      tokenEntryValidationProof: null,\n                    },\n                    {\n                        // @ts-ignore\n                      tokenMint: new PublicKey(setup.mint),\n                      sourceTokenAccount: null,\n                      tokenTransferAuthority: null,\n                      // @ts-ignore\n                      validationProgram: setup.validationProgram\n                      // @ts-ignore\n                        ? new PublicKey(setup.validationProgram)\n                        : null,\n                    },\n                    {\n                      winOracle: config.winOracle\n                        ? new PublicKey(config.winOracle)\n                        : (\n                            await getOracle(\n                              new PublicKey(config.oracleState.seed),\n            \n                              config.oracleState.authority\n                                ? new PublicKey(config.oracleState.authority)\n                                : wallet.publicKey\n                            )\n                          )[0],\n                          // @ts-ignore\n                      sourceType: setup.sourceType as TokenType,\n                      index:new anchor.BN(index),\n                    }\n                  );\n                \n            }      \n    };\n const someDecs2 = {\"AD1bo7F21Cy8sfUkYXEBLJTTXA7Z8NREwMX1pZBgLakq\":9,\"Fq1ZUCxZYWcEJdtN48zmhMkpVYCYCBSrnNU351PFZwCG\":9,\"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v\":6,\n\"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh\":6,\n\"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA\":6,\n\"PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x\":6, \"openDKyuDPS6Ak1BuD3JtvkQGV3tzCxjpHUfe1mdC79\":9\n  }\n    useEffect(() => {\n        (async () => {\n            if (anchorWallet) {\n              const config = (await (await fetch('https://www.autist.design/blargs')).json()) \n              let temp = \"To play, select a number above and it'll cost u this much for u (and ur team) to become winna: \\n\"\n            for (var token of config.tokensToJoin){\n              // @ts-ignore\n              temp+=token.mint + ': ' + token.amount / 10 ** parseInt(someDecs2[token.mint]) + '\\n'\n            }\n            temp+=\"I'm actually lazy ppl plz look up which token r which for now. :)\"\n            setToplay(temp)\n                const balance = await props.connection.getBalance(anchorWallet!.publicKey);\n                setBalance(balance / LAMPORTS_PER_SOL);\n            }\n        })();\n    }, [anchorWallet, props.connection]);\n\nfunction changeIndex(e: any){\n    try {\n    setIndex(parseInt(e.target.value))\n    }\n    catch (err){\n\n    }\n}\n\n    return (\n        <main>\n            <MainContainer>\n                <WalletContainer>\n                    <Wallet>\n                        {wallet ?\n                            <WalletAmount>{(balance || 0).toLocaleString()} SOL<ConnectButton/></WalletAmount> :\n                            <ConnectButton>Connect Wallet</ConnectButton>}\n                    </Wallet>\n                </WalletContainer>\n                <br/>\n                <MintContainer>\n                    <DesContainer>\n                        <NFT elevation={3}>\n                            <h2>My NFT</h2>\n                            <br/>\n                            <div><Price\n                                label={isActive && whitelistEnabled && (whitelistTokenBalance > 0) ? (whitelistPrice + \" \" + priceLabel) : (price + \" \" + priceLabel)}/><Image\n                                src=\"cool-cats.gif\"\n                                alt=\"NFT To Mint\"/></div>\n                            <br/>\n                            \n                            <MintButtonContainer>\n                               { !wallet && \n                                        <ConnectButton>Connect Wallet</ConnectButton> }\n                               { wallet && \n                               <div>\n                                 <h3>Hey type in 0 for our collective - w o w - or 1 for our social token <br />- mmm - then after that idk this is guesswork <br /> lol <br />2 for usdc, 3 for cope, 4 for grape, 5 for prism</h3>\n                                 \n                                 <Input type=\"text\" onChange={changeIndex} placeholder={\"1\"} />\n\n                                 <h3>I am lazy and atm you need 1 of whatever token. the first cool bit is that <br /> anyone who becomes winner for they team 1. increases cost to play for they team 2. decrease cost to play for all oppsin teams <br /> ohhh, nash.. nash</h3>\n                                 <h1>6 for OPEN</h1> <h3>ayy, well, {toplay} </h3>   <h3>anyways all the other rules from all the other fair3ds remain the same: <br /> you can become winner at any time, with any of the below buttons. <br  /> if you do, the timer resets to now + 24hrs <br /> altho, now we're raindrops. <br /> so instead of 1 party winning lions share - well, we fck with the nashisms kiddos. <br /> redacted_j wen onchain referrals? <br /> dont forget to stake ur tokens tho cuz the hydras arguably the only ppl extractin value here <br /> ily </h3>       <MintButton\n\n                                                onMint={onMint}\n                                            />\n</div>\n                                        }\n                            </MintButtonContainer>\n                            <br/>\n                            {wallet && isActive && solanaExplorerLink &&\n                              <SolExplorerLink href={solanaExplorerLink} target=\"_blank\">View on\n                                Solscan</SolExplorerLink>}\n                        </NFT>\n                    </DesContainer>\n                </MintContainer>\n            </MainContainer>\n            <Snackbar\n                open={alertState.open}\n                autoHideDuration={6000}\n                onClose={() => setAlertState({...alertState, open: false})}\n            >\n                <Alert\n                    onClose={() => setAlertState({...alertState, open: false})}\n                    severity={alertState.severity}\n                >\n                    {alertState.message}\n                </Alert>\n            </Snackbar>\n        </main>\n    );\n};\n\nexport default Home;\n","export const PREFIX: string = \"namespace\";\n","export const PREFIX: string = \"player\";\n","import { web3 } from \"@project-serum/anchor\";\nimport { TOKEN_PROGRAM_ID } from \"@solana/spl-token\";\nimport { SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID } from \"../constants/programIds\";\n\nexport function createAssociatedTokenAccountInstruction(\n  associatedTokenAddress: web3.PublicKey,\n  payer: web3.PublicKey,\n  walletAddress: web3.PublicKey,\n  splTokenMintAddress: web3.PublicKey\n) {\n  const keys = [\n    {\n      pubkey: payer,\n      isSigner: true,\n      isWritable: true,\n    },\n    {\n      pubkey: associatedTokenAddress,\n      isSigner: false,\n      isWritable: true,\n    },\n    {\n      pubkey: walletAddress,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: splTokenMintAddress,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: web3.SystemProgram.programId,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: TOKEN_PROGRAM_ID,\n      isSigner: false,\n      isWritable: false,\n    },\n    {\n      pubkey: web3.SYSVAR_RENT_PUBKEY,\n      isSigner: false,\n      isWritable: false,\n    },\n  ];\n  return new web3.TransactionInstruction({\n    keys,\n    programId: SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n    data: Buffer.from([]),\n  });\n}\n","import styled from 'styled-components';\nimport {useEffect, useState} from 'react';\nimport Button from '@material-ui/core/Button';\nimport {CircularProgress} from '@material-ui/core';\nimport {GatewayStatus, useGateway} from '@civic/solana-gateway-react';\nimport { BN } from '@project-serum/anchor'\n\nexport const CTAButton = styled(Button)`\n  display: block !important;\n  margin: 0 auto !important;\n  background-color: var(--title-text-color) !important;\n  min-width: 120px !important;\n  font-size: 1em !important;\n`;\n\nexport const MintButton = ({\n                               onMint\n                           }: {\n    onMint: () => Promise<void>;\n}) => {\n    return (\n        <CTAButton\n            disabled={false}\n            \n            onClick={async () => {\n                    console.log('Minting...');\n                    await onMint();\n            }}\n            variant=\"contained\"\n        >\n                        as tribute for your team; become winner @ some tokenz\n                    \n        </CTAButton>\n    );\n};\n","// @ts-nocheck\nimport { web3, BN } from \"@project-serum/anchor\";\nimport { Callback } from \"./common\";\n\nexport interface AnchorMatchState {\n  draft?: boolean;\n  initialized?: boolean;\n  started?: boolean;\n  finalized?: boolean;\n  paidOut?: boolean;\n  deactivated?: boolean;\n}\n\nexport interface AnchorTokenEntryValidation {\n  filter: AnchorFilter;\n  isBlacklist: boolean;\n  validation: null | Callback;\n}\n\nexport interface AnchorFilter {\n  none?: boolean;\n  all?: boolean;\n  namespace?: { namespace: web3.PublicKey };\n  parent?: { key: web3.PublicKey };\n  mint?: { mint: web3.PublicKey };\n}\n\nexport enum MatchState {\n  Draft,\n  Initialized,\n  Started,\n  Finalized,\n  PaidOut,\n  Deactivated,\n}\n\nexport enum TokenTransferType {\n  PlayerToPlayer,\n  PlayerToEntrant,\n  Normal,\n}\n\nexport enum TokenType {\n  Player,\n  Item,\n  Any,\n}\n\nexport interface AnchorTokenTransferType {\n  playerToPlayer?: boolean;\n  playerToEntrant?: boolean;\n  normal?: boolean;\n}\nexport interface AnchorTokenDelta {\n  from: web3.PublicKey;\n  to: web3.PublicKey | null;\n  tokenTransferType: AnchorTokenTransferType;\n  mint: web3.PublicKey;\n  amount: BN;\n}\n","import { clusterApiUrl } from \"@solana/web3.js\";\n\ntype Cluster = {\n  name: string;\n  url: string;\n};\nexport const CLUSTERS: Cluster[] = [\n  {\n    name: \"mainnet-beta\",\n    url: \"https://api.metaplex.solana.com/\",\n  },\n  {\n    name: \"testnet\",\n    url: clusterApiUrl(\"testnet\"),\n  },\n  {\n    name: \"devnet\",\n    url: clusterApiUrl(\"devnet\"),\n  },\n];\nexport const DEFAULT_CLUSTER = CLUSTERS[2];\nexport function getCluster(name: string): string {\n  for (const cluster of CLUSTERS) {\n    if (cluster.name === name) {\n      return cluster.url;\n    }\n  }\n  return DEFAULT_CLUSTER.url;\n}\n","// @ts-nocheck\nimport fs from 'fs'\nimport { sendTransactionWithRetry } from '../../connection'\nimport {\n  web3,\n  Program,\n  BN,\n  Provider,\n  AnchorProvider,\n  Idl,\n} from \"@project-serum/anchor\";\nimport { PublicKey, SystemProgram } from \"@solana/web3.js\";\n\nimport NodeWallet from \"@project-serum/anchor/dist/cjs/nodewallet\";\nimport { MATCHES_ID, TOKEN_PROGRAM_ID } from \"../constants/programIds\";\nimport {\n  getAtaForMint,\n  getItemPDA,\n  getMatch,\n  getMatchTokenAccountEscrow,\n  getOracle,\n  getPlayerPDA,\n} from \"../utils/pda\";\nimport { ObjectWrapper } from \"./common\";\nimport log from \"loglevel\";\nimport { getCluster } from \"../utils/connection\";\nimport {\n  AnchorMatchState,\n  AnchorTokenDelta,\n  AnchorTokenEntryValidation,\n  TokenType,\n} from \"../state/matches\";\nimport { Token } from \"@solana/spl-token\";\nimport { createAssociatedTokenAccountInstruction } from \"../utils/ata\";\n\nexport function transformTokenValidations(args: {\n  tokenEntryValidation: AnchorTokenEntryValidation[] | null;\n}) {\n  if (args.tokenEntryValidation) {\n    args.tokenEntryValidation = args.tokenEntryValidation.map((r) => {\n      const newRFilter = { ...r.filter };\n      Object.keys(newRFilter).forEach((k) => {\n        Object.keys(newRFilter[k]).forEach((y) => {\n          if (typeof newRFilter[k][y] === \"string\") {\n            newRFilter[k][y] = new web3.PublicKey(newRFilter[k][y]);\n          }\n        });\n      });\n\n      r.filter = newRFilter;\n\n      if (r.validation) {\n        if (typeof r.validation.key === \"string\") {\n          r.validation.key = new web3.PublicKey(r.validation.key);\n          r.validation.code = new BN(r.validation.code);\n        }\n      }\n      return r;\n    });\n  }\n}\nexport class MatchWrapper implements ObjectWrapper<any, MatchesProgram> {\n  program: MatchesProgram;\n  key: web3.PublicKey;\n  object: any;\n  data: Buffer;\n\n  constructor(args: {\n    program: MatchesProgram;\n    key: web3.PublicKey;\n    object: any;\n    data: Buffer;\n  }) {\n    this.program = args.program;\n    this.key = args.key;\n    this.object = args.object;\n    this.data = args.data;\n  }\n}\n\nexport interface CreateMatchArgs {\n  matchState: AnchorMatchState;\n  tokenEntryValidationRoot: null;\n  tokenEntryValidation: null | AnchorTokenEntryValidation[];\n  winOracle: web3.PublicKey;\n  winOracleCooldown: BN;\n  authority: web3.PublicKey;\n  space: BN;\n  leaveAllowed: boolean;\n  joinAllowedDuringStart: boolean;\n  minimumAllowedEntryTime: BN | null;\n}\n\nexport interface UpdateMatchArgs {\n  matchState: AnchorMatchState;\n  tokenEntryValidationRoot: null;\n  tokenEntryValidation: null;\n  winOracleCooldown: BN;\n  authority: web3.PublicKey;\n  leaveAllowed: boolean;\n  joinAllowedDuringStart: boolean;\n  minimumAllowedEntryTime: BN | null;\n}\n\nexport interface JoinMatchArgs {\n  amount: BN;\n  tokenEntryValidationProof: null;\n  tokenEntryValidation: null;\n}\n\nexport interface LeaveMatchArgs {\n  amount: BN;\n}\n\nexport interface DisburseTokensByOracleArgs {\n  tokenDeltaProofInfo: null;\n}\n\nexport interface CreateMatchAdditionalArgs {\n  seed: string;\n  finalized: boolean;\n  tokenTransferRoot: null;\n  tokenTransfers: null | AnchorTokenDelta[];\n}\n\nexport interface CreateOrUpdateOracleArgs {\n  seed: string;\n  authority: web3.PublicKey;\n  space: BN;\n  finalized: boolean;\n  tokenTransferRoot: null;\n  tokenTransfers: null | AnchorTokenDelta[];\n}\n\nexport interface DrainMatchArgs {}\n\nexport interface DrainOracleArgs {\n  seed: string;\n  authority: web3.PublicKey;\n}\n\nexport interface UpdateMatchFromOracleAccounts {\n  winOracle: web3.PublicKey;\n}\n\nexport interface UpdateMatchAccounts {\n  winOracle: web3.PublicKey;\n}\n\nexport interface DrainMatchAccounts {\n  receiver: web3.PublicKey | null;\n}\n\nexport interface DrainOracleAccounts {\n  receiver: web3.PublicKey | null;\n}\n\nexport interface DisburseTokensByOracleAccounts {\n  winOracle: web3.PublicKey;\n}\n\nexport interface JoinMatchAccounts {\n  tokenMint: web3.PublicKey;\n  sourceTokenAccount: web3.PublicKey | null;\n  tokenTransferAuthority: web3.Keypair | null;\n  validationProgram: web3.PublicKey | null;\n}\n\nexport interface LeaveMatchAccounts {\n  tokenMint: web3.PublicKey;\n  receiver: web3.PublicKey;\n}\n\nexport interface JoinMatchAdditionalArgs {\n  sourceType: TokenType;\n  index: BN | null;\n  winOracle: web3.PublicKey;\n}\n\nexport interface LeaveMatchAdditionalArgs {\n  winOracle: web3.PublicKey;\n}\n\nexport interface DrainMatchAdditionalArgs {\n  winOracle: web3.PublicKey;\n}\n\nexport interface DisburseTokensByOracleAdditionalArgs {\n  tokenDelta: AnchorTokenDelta;\n}\n\nexport class MatchesInstruction {\n  id: web3.PublicKey;\n  program: Program;\n\n  constructor(args: { id: web3.PublicKey; program: Program }) {\n    this.id = args.id;\n    this.program = args.program;\n  }\n\n  async createMatch(\n    args: CreateMatchArgs,\n    _accounts = {},\n    _additionalArgs = {}\n  ) {\n    const [match, _matchBump] = await getMatch(args.winOracle);\n\n    transformTokenValidations(args);\n    return {\n      instructions: [\n        await this.program.methods\n          .createMatch(args)\n          .accounts({\n            matchInstance: match,\n            payer: (this.program.provider as AnchorProvider).wallet.publicKey,\n            systemProgram: SystemProgram.programId,\n            rent: web3.SYSVAR_RENT_PUBKEY,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n\n  async disburseTokensByOracle(\n    args: DisburseTokensByOracleArgs,\n    accounts: DisburseTokensByOracleAccounts,\n    additionalArgs: DisburseTokensByOracleAdditionalArgs\n  ) {\n    const match = (await getMatch(accounts.winOracle))[0];\n    const tfer = additionalArgs.tokenDelta;\n\n    const [tokenAccountEscrow, _escrowBump] = await getMatchTokenAccountEscrow(\n      accounts.winOracle,\n      tfer.mint,\n      tfer.from\n    );\n\n    let destinationTokenAccount = tfer.to;\n    const info = await (\n      this.program.provider as AnchorProvider\n    ).connection.getAccountInfo(destinationTokenAccount);\n\n    const instructions = [];\n\n    if (!info.owner.equals(TOKEN_PROGRAM_ID)) {\n      const destinationTokenOwner = destinationTokenAccount;\n      destinationTokenAccount = (\n        await getAtaForMint(tfer.mint, destinationTokenAccount)\n      )[0];\n\n      const exists = await (\n        this.program.provider as AnchorProvider\n      ).connection.getAccountInfo(destinationTokenAccount);\n\n      if (!exists || exists.data.length == 0) {\n        instructions.unshift(\n          createAssociatedTokenAccountInstruction(\n            destinationTokenAccount,\n            (this.program.provider as AnchorProvider).wallet.publicKey,\n            destinationTokenOwner,\n            tfer.mint\n          )\n        );\n      }\n    }\n\n    instructions.push(\n      await this.program.methods\n        .disburseTokensByOracle(args)\n        .accounts({\n          matchInstance: match,\n          tokenAccountEscrow,\n          tokenMint: tfer.mint,\n          originalSender: tfer.from,\n          destinationTokenAccount,\n          winOracle: accounts.winOracle,\n          tokenProgram: TOKEN_PROGRAM_ID,\n          systemProgram: SystemProgram.programId,\n          rent: web3.SYSVAR_RENT_PUBKEY,\n        })\n        .instruction()\n    );\n    return {\n      instructions,\n      signers: [],\n    };\n  }\n\n  async drainMatch(\n    _args: DrainMatchArgs,\n    accounts: DrainMatchAccounts,\n    additionalArgs: DrainMatchAdditionalArgs\n  ) {\n    const match = (await getMatch(additionalArgs.winOracle))[0];\n\n    return {\n      instructions: [\n        await this.program.methods\n          .drainMatch()\n          .accounts({\n            matchInstance: match,\n            authority: (this.program.provider as AnchorProvider).wallet\n              .publicKey,\n            receiver:\n              accounts.receiver ||\n              (this.program.provider as AnchorProvider).wallet.publicKey,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n\n  async drainOracle(\n    args: DrainOracleArgs,\n    accounts: DrainOracleAccounts,\n    _additionalArgs = {}\n  ) {\n    const [oracle, oracleBump] = await getOracle(\n      new web3.PublicKey(args.seed),\n      new web3.PublicKey(args.authority)\n    );\n\n    const [match, _matchBump] = await getMatch(oracle);\n\n    return {\n      instructions: [\n        await this.program.methods\n          .drainOracle({ ...args, seed: new web3.PublicKey(args.seed) })\n          .accounts({\n            matchInstance: match,\n            authority: (this.program.provider as AnchorProvider).wallet\n              .publicKey,\n            receiver:\n              accounts.receiver ||\n              (this.program.provider as AnchorProvider).wallet.publicKey,\n            oracle,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n  async updateMatch(\n    args: UpdateMatchArgs,\n    accounts: UpdateMatchAccounts,\n    _additionalArgs = {}\n  ) {\n    const match = (await getMatch(accounts.winOracle))[0];\n    transformTokenValidations(args);\n\n    return {\n      instructions: [\n        await this.program.methods\n          .updateMatch(args)\n          .accounts({\n            matchInstance: match,\n            winOracle: accounts.winOracle,\n            authority: (this.program.provider as AnchorProvider).wallet\n              .publicKey,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n\n  async leaveMatch(\n    args: LeaveMatchArgs,\n    accounts: LeaveMatchAccounts,\n    additionalArgs: LeaveMatchAdditionalArgs\n  ) {\n    const match = (await getMatch(additionalArgs.winOracle))[0];\n\n    const destinationTokenAccount = (\n      await getAtaForMint(accounts.tokenMint, accounts.receiver)\n    )[0];\n\n    const [tokenAccountEscrow, _escrowBump] = await getMatchTokenAccountEscrow(\n      additionalArgs.winOracle,\n      accounts.tokenMint,\n      (this.program.provider as AnchorProvider).wallet.publicKey\n    );\n\n    const signers = [];\n\n    return {\n      instructions: [\n        await this.program.methods\n          .leaveMatch(args)\n          .accounts({\n            matchInstance: match,\n            tokenAccountEscrow,\n            tokenMint: accounts.tokenMint,\n            destinationTokenAccount,\n            receiver: (this.program.provider as AnchorProvider).wallet\n              .publicKey,\n            tokenProgram: TOKEN_PROGRAM_ID,\n          })\n          .instruction(),\n      ],\n      signers,\n    };\n  }\n\n  async joinMatch(\n    args: JoinMatchArgs,\n    accounts: JoinMatchAccounts,\n    additionalArgs: JoinMatchAdditionalArgs\n  ) {\n    const match = (await getMatch(additionalArgs.winOracle))[0];\n\n    const sourceTokenAccount =\n      accounts.sourceTokenAccount ||\n      (\n        await getAtaForMint(\n          accounts.tokenMint,\n          (this.program.provider as AnchorProvider).wallet.publicKey\n        )\n      )[0];\n    const transferAuthority =\n      accounts.tokenTransferAuthority || web3.Keypair.generate();\n\n    const [tokenAccountEscrow, _escrowBump] = await getMatchTokenAccountEscrow(\n      additionalArgs.winOracle,\n      accounts.tokenMint,\n      (this.program.provider as AnchorProvider).wallet.publicKey\n    );\n\n    const signers = [transferAuthority];\n\n    return {\n      instructions: [\n        Token.createApproveInstruction(\n          TOKEN_PROGRAM_ID,\n          sourceTokenAccount,\n          transferAuthority.publicKey,\n          (this.program.provider as AnchorProvider).wallet.publicKey,\n          [],\n          args.amount.toNumber()\n        ),\n        await this.program.methods\n          .joinMatch(args)\n          .accounts({\n            matchInstance: match,\n            tokenTransferAuthority: transferAuthority.publicKey,\n            tokenAccountEscrow,\n            tokenMint: accounts.tokenMint,\n            sourceTokenAccount,\n            sourceItemOrPlayerPda:\n              additionalArgs.sourceType == TokenType.Any\n                ? SystemProgram.programId\n                : additionalArgs.sourceType == TokenType.Item\n                ? (\n                    await getItemPDA(accounts.tokenMint, additionalArgs.index)\n                  )[0]\n                : (\n                    await getPlayerPDA(accounts.tokenMint, additionalArgs.index)\n                  )[0],\n            payer: (this.program.provider as AnchorProvider).wallet.publicKey,\n            systemProgram: SystemProgram.programId,\n            validationProgram:\n              accounts.validationProgram || SystemProgram.programId,\n            tokenProgram: TOKEN_PROGRAM_ID,\n            rent: web3.SYSVAR_RENT_PUBKEY,\n          })\n          .signers(signers)\n          .instruction(),\n        Token.createRevokeInstruction(\n          TOKEN_PROGRAM_ID,\n          sourceTokenAccount,\n          (this.program.provider as AnchorProvider).wallet.publicKey,\n          []\n        ),\n      ],\n      signers,\n    };\n  }\n\n  async updateMatchFromOracle(\n    args = {},\n    accounts: UpdateMatchFromOracleAccounts,\n    _additionalArgs = {}\n  ) {\n    const match = (await getMatch(accounts.winOracle))[0];\n\n    return {\n      instructions: [\n        await this.program.methods\n          .updateMatchFromOracle()\n          .accounts({\n            matchInstance: match,\n            winOracle: accounts.winOracle,\n            authority: (this.program.provider as AnchorProvider).wallet\n              .publicKey,\n            clock: web3.SYSVAR_CLOCK_PUBKEY,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n\n  async createOrUpdateOracle(\n    args: CreateOrUpdateOracleArgs,\n    _accounts = {},\n    _additionalArgs = {}\n  ) {\n    const [oracle, _oracleBump] = await getOracle(\n      new web3.PublicKey(args.seed),\n      args.authority\n    );\n\n    const tokenTransfers = args.tokenTransfers\n      ? args.tokenTransfers.map((t) => ({\n          ...t,\n          from: new web3.PublicKey(t.from),\n          to: t.to ? new web3.PublicKey(t.to) : null,\n          mint: new web3.PublicKey(t.mint),\n          amount: new BN(t.amount),\n        }))\n      : null;\n\n    return {\n      instructions: [\n        await this.program.methods\n          .createOrUpdateOracle({\n            ...args,\n            tokenTransfers,\n            seed: new web3.PublicKey(args.seed),\n          })\n          .accounts({\n            oracle,\n            payer: (this.program.provider as AnchorProvider).wallet.publicKey,\n            systemProgram: SystemProgram.programId,\n            rent: web3.SYSVAR_RENT_PUBKEY,\n          })\n          .instruction(),\n      ],\n      signers: [],\n    };\n  }\n}\n\nexport class MatchesProgram {\n  id: web3.PublicKey;\n  program: Program;\n  instruction: MatchesInstruction;\n\n  constructor(args: { id: web3.PublicKey; program: Program }) {\n    this.id = args.id;\n    this.program = args.program;\n    this.instruction = new MatchesInstruction({\n      id: this.id,\n      program: this.program,\n    });\n  }\n\n  async fetchMatch(oracle: web3.PublicKey): Promise<MatchWrapper> {\n    const matchPda = (await getMatch(oracle))[0];\n\n    const match = await this.program.account.match.fetch(matchPda);\n\n    return new MatchWrapper({\n      program: this,\n      key: matchPda,\n      data: match.data as Buffer,\n      object: match,\n    });\n  }\n\n  async fetchOracle(oracle: web3.PublicKey): Promise<MatchWrapper> {\n    const oracleAcct = await (\n      this.program.provider as AnchorProvider\n    ).connection.getAccountInfo(oracle);\n\n    const oracleInstance =\n      await this.program.account.winOracle.coder.accounts.decode(\n        \"WinOracle\",\n        oracleAcct.data\n      );\n\n    return new MatchWrapper({\n      program: this,\n      key: oracle,\n      data: oracleAcct.data,\n      object: oracleInstance,\n    });\n  }\n\n  async createMatch(\n    args: CreateMatchArgs,\n    _accounts = {},\n    additionalArgs: CreateMatchAdditionalArgs\n  ) {\n    const { instructions, signers } = await this.instruction.createMatch(args);\n\n    await sendTransactionWithRetry(\n      (this.program.provider as AnchorProvider).connection,\n      (this.program.provider as AnchorProvider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async disburseTokensByOracle(\n    args: DisburseTokensByOracleArgs,\n    accounts: DisburseTokensByOracleAccounts,\n    additionalArgs: DisburseTokensByOracleAdditionalArgs\n  ) {\n    const { instructions, signers } =\n      await this.instruction.disburseTokensByOracle(\n        args,\n        accounts,\n        additionalArgs\n      );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as AnchorProvider).connection,\n      (this.program.provider as AnchorProvider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async drainMatch(\n    args: DrainMatchArgs,\n    accounts: DrainMatchAccounts,\n    additionalArgs: DrainMatchAdditionalArgs\n  ) {\n    const { instructions, signers } = await this.instruction.drainMatch(\n      args,\n      accounts,\n      additionalArgs\n    );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as AnchorProvider).connection,\n      (this.program.provider as AnchorProvider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async drainOracle(\n    args: DrainOracleArgs,\n    accounts: DrainOracleAccounts,\n    _additionalArgs = {}\n  ) {\n    const { instructions, signers } = await this.instruction.drainOracle(\n      args,\n      accounts\n    );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as AnchorProvider).connection,\n      (this.program.provider as AnchorProvider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async joinMatch(\n    args: JoinMatchArgs,\n    accounts: JoinMatchAccounts,\n    additionalArgs: JoinMatchAdditionalArgs\n  ) {\n    const { instructions, signers } = await this.instruction.joinMatch(\n      args,\n      accounts,\n      additionalArgs\n    );\n\n   \n   await sendTransactionWithRetry(\n\n    (this.program.provider as AnchorProvider).connection,\n    (this.program.provider as AnchorProvider).wallet,\n    instructions,\n    signers)\n   }\n\n  async leaveMatch(\n    args: LeaveMatchArgs,\n    accounts: LeaveMatchAccounts,\n    additionalArgs: LeaveMatchAdditionalArgs\n  ) {\n    const { instructions, signers } = await this.instruction.leaveMatch(\n      args,\n      accounts,\n      additionalArgs\n    );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as AnchorProvider).connection,\n      (this.program.provider as AnchorProvider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async updateMatch(\n    args: UpdateMatchArgs,\n    accounts: UpdateMatchAccounts,\n    _additionalArgs = {}\n  ) {\n    const { instructions, signers } = await this.instruction.updateMatch(\n      args,\n      accounts\n    );\n\n    await sendTransactionWithRetry(\n      (this.program.provider as AnchorProvider).connection,\n      (this.program.provider as AnchorProvider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async updateMatchFromOracle(\n    args = {},\n    accounts: UpdateMatchFromOracleAccounts,\n    _additionalArgs = {}\n  ) {\n    const { instructions, signers } =\n      await this.instruction.updateMatchFromOracle(args, accounts);\n\n    await sendTransactionWithRetry(\n      (this.program.provider as AnchorProvider).connection,\n      (this.program.provider as AnchorProvider).wallet,\n      instructions,\n      signers\n    );\n  }\n\n  async createOrUpdateOracle(\n    args: CreateOrUpdateOracleArgs,\n    _accounts = {},\n    _additionalArgs = {}\n  ) {\n    const { instructions, signers } =\n      await this.instruction.createOrUpdateOracle(args);\n\n    await sendTransactionWithRetry(\n      (this.program.provider as AnchorProvider).connection,\n      (this.program.provider as AnchorProvider).wallet,\n      instructions,\n      signers\n    );\n  }\n}\n\nexport async function getMatchesProgram(\n  anchorWallet: NodeWallet | web3.Keypair,\n  env: string,\n  customRpcUrl: string\n): Promise<MatchesProgram> {\n  if (customRpcUrl) log.debug(\"USING CUSTOM URL\", customRpcUrl);\n\n  const solConnection = new web3.Connection(customRpcUrl || getCluster(env));\n\n  if (anchorWallet instanceof web3.Keypair)\n    anchorWallet = new NodeWallet(anchorWallet);\n\n  const provider = new AnchorProvider(solConnection, anchorWallet, {\n    preflightCommitment: \"recent\",\n  });\n\n  const idl = await Program.fetchIdl(MATCHES_ID, provider);\nfs.writeFileSync('matchesidl.json', JSON.stringify(idl))\n  const program = new Program(idl as Idl, MATCHES_ID, provider);\n\n  return new MatchesProgram({\n    id: MATCHES_ID,\n    program,\n  });\n}\n\nexport async function getMatchesProgram2(\n  anchorWallet: NodeWallet | web3.Keypair,\n  env: string,\n  customRpcUrl: string\n): Promise<MatchesProgram> {\n  if (customRpcUrl) log.debug(\"USING CUSTOM URL\", customRpcUrl);\n\n  const solConnection = new web3.Connection(customRpcUrl || getCluster(env));\n\n  if (anchorWallet instanceof web3.Keypair)\n    anchorWallet = new NodeWallet(anchorWallet);\n  const provider = new AnchorProvider(solConnection, anchorWallet, {\n    preflightCommitment: \"recent\",\n    \n  });\n\n  const idl = await Program.fetchIdl(MATCHES_ID, provider);\n\n  const program = new Program(idl as Idl, MATCHES_ID, provider);\n\n  return new MatchesProgram({\n    id: MATCHES_ID,\n    program,\n  });\n}","import { web3 } from \"@project-serum/anchor\";\n\nexport const NAMESPACE_ID = new web3.PublicKey(\n  \"nameAxQRRBnd4kLfsVoZBBXfrByZdZTkh8mULLxLyqV\"\n);\n\nexport const ITEM_ID = new web3.PublicKey(\n  \"itemX1XWs9dK8T2Zca4vEEPfCAhRc7yvYFntPjTTVx6\"\n);\n\nexport const PLAYER_ID = new web3.PublicKey(\n  \"p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98\"\n);\n\nexport const MATCHES_ID = new web3.PublicKey(\n  \"mtchsiT6WoLQ62fwCoiHMCfXJzogtfru4ovY8tXKrjJ\"\n);\n\nexport const WRAPPED_SOL_MINT = new web3.PublicKey(\n  \"So11111111111111111111111111111111111111112\"\n);\n\nexport const TOKEN_PROGRAM_ID = new web3.PublicKey(\n  \"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"\n);\n\nexport const SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID = new web3.PublicKey(\n  \"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"\n);\n\nexport const TOKEN_METADATA_PROGRAM_ID = new web3.PublicKey(\n  \"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s\"\n);\n","import { createTheme, ThemeProvider } from \"@material-ui/core\";\nimport { useMemo } from \"react\";\nimport {\n    ConnectionProvider,\n    WalletProvider,\n} from \"@solana/wallet-adapter-react\";\nimport * as anchor from \"@project-serum/anchor\";\nimport { clusterApiUrl } from \"@solana/web3.js\";\nimport { WalletAdapterNetwork } from \"@solana/wallet-adapter-base\";\nimport {\n    getPhantomWallet,\n    getSlopeWallet,\n    getSolflareWallet,\n    getSolflareWebWallet,\n    getSolletWallet,\n    getSolletExtensionWallet,\n    getSolongWallet,\n    getLedgerWallet,\n    getSafePalWallet,\n} from \"@solana/wallet-adapter-wallets\";\n\nimport {\n    WalletModalProvider\n} from '@solana/wallet-adapter-react-ui';\n\nimport \"./App.css\";\nimport { DEFAULT_TIMEOUT } from './connection';\nimport Home from \"./Home\";\n\nrequire('@solana/wallet-adapter-react-ui/styles.css');\n\nconst network = process.env.REACT_APP_SOLANA_NETWORK as WalletAdapterNetwork;\n\nconst rpcHost = process.env.REACT_APP_SOLANA_RPC_HOST!;\nconst connection = new anchor.web3.Connection(\n    rpcHost ? rpcHost : anchor.web3.clusterApiUrl('devnet'),\n);\n\nconst theme = createTheme({\n    palette: {\n        type: 'dark',\n    },\n    overrides: {\n        MuiButtonBase: {\n            root: {\n                justifyContent: 'flex-start',\n            },\n        },\n        MuiButton: {\n            root: {\n                textTransform: undefined,\n                padding: '12px 16px',\n            },\n            startIcon: {\n                marginRight: 8,\n            },\n            endIcon: {\n                marginLeft: 8,\n            },\n        },\n    },\n});\n\nconst App = () => {\n    // Custom RPC endpoint.\n  const endpoint = useMemo(() => clusterApiUrl(network), []);\n\n    // @solana/wallet-adapter-wallets includes all the adapters but supports tree shaking and lazy loading --\n    // Only the wallets you configure here will be compiled into your application, and only the dependencies\n    // of wallets that your users connect to will be loaded.\n    const wallets = useMemo(\n        () => [\n            getPhantomWallet(),\n            getSlopeWallet(),\n            getSolflareWallet(),\n            getSolflareWebWallet(),\n            getSolletWallet({ network }),\n            getSolletExtensionWallet({ network }),\n            getSolongWallet(),\n            getLedgerWallet(),\n            getSafePalWallet(),\n        ],\n        []\n    );\n\n  return (\n      <ThemeProvider theme={theme}>\n        <ConnectionProvider endpoint={endpoint}>\n          <WalletProvider wallets={wallets} autoConnect={true}>\n            <WalletModalProvider>\n              <Home\n                connection={connection}\n                txTimeout={DEFAULT_TIMEOUT}\n                rpcHost={rpcHost}\n                network={network}\n              />\n            </WalletModalProvider>\n          </WalletProvider>\n        </ConnectionProvider>\n      </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { web3, BN } from \"@project-serum/anchor\";\nimport {\n  TOKEN_PROGRAM_ID,\n  SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,\n  NAMESPACE_ID,\n  ITEM_ID,\n  TOKEN_METADATA_PROGRAM_ID,\n  MATCHES_ID,\n  PLAYER_ID,\n} from \"../constants/programIds\";\nimport { PREFIX as ITEM_PREFIX, MARKER } from \"../constants/item\";\nimport { PREFIX as MATCHES_PREFIX } from \"../constants/matches\";\nimport { PREFIX as NAMESPACE_PREFIX } from \"../constants/namespace\";\nimport { PREFIX as PLAYER_PREFIX } from \"../constants/player\";\n\nexport const getAtaForMint = async (\n  mint: web3.PublicKey,\n  wallet: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [wallet.toBuffer(), TOKEN_PROGRAM_ID.toBuffer(), mint.toBuffer()],\n    SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID\n  );\n};\n\nexport const getMatch = async (\n  oracle: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(MATCHES_PREFIX), oracle.toBuffer()],\n    MATCHES_ID\n  );\n};\n\nexport const getMatchTokenAccountEscrow = async (\n  oracle: web3.PublicKey,\n  tokenMint: web3.PublicKey,\n  tokenOwner: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(MATCHES_PREFIX),\n      oracle.toBuffer(),\n      tokenMint.toBuffer(),\n      tokenOwner.toBuffer(),\n    ],\n    MATCHES_ID\n  );\n};\n\nexport const getOracle = async (\n  seed: web3.PublicKey,\n  payer: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(MATCHES_PREFIX), payer.toBuffer(), seed.toBuffer()],\n    MATCHES_ID\n  );\n};\n\nexport const getNamespacePDA = async (\n  mint: web3.PublicKey\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(NAMESPACE_PREFIX), mint.toBuffer()],\n    NAMESPACE_ID\n  );\n};\n\nexport const getItemPDA = async (\n  mint: web3.PublicKey,\n  index: BN\n): Promise<[web3.PublicKey, number]> => {\n  console.log(index)\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(ITEM_PREFIX), mint.toBuffer(), Buffer.from(index)],//.toBuffer(\"le\", 8)],\n    ITEM_ID\n  );\n};\n\nexport const getPlayerPDA = async (\n  mint: web3.PublicKey,\n  index: BN\n): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [Buffer.from(PLAYER_PREFIX), mint.toBuffer(), index.toBuffer(\"le\", 8)],\n    PLAYER_ID\n  );\n};\n\nexport const getItemActivationMarker = async (args: {\n  itemMint: web3.PublicKey;\n  index: BN;\n  usageIndex: BN;\n  amount: BN;\n}): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(ITEM_PREFIX),\n      args.itemMint.toBuffer(),\n      args.index.toBuffer(\"le\", 8),\n      args.usageIndex.toBuffer(\"le\", 8),\n      args.amount.toBuffer(\"le\", 8),\n      Buffer.from(MARKER),\n    ],\n    ITEM_ID\n  );\n};\n\nexport const getCraftItemCounter = async (args: {\n  itemClassMint: web3.PublicKey;\n  newItemMint: web3.PublicKey;\n  craftItemMint: web3.PublicKey;\n  componentScope: String;\n  craftItemIndex: BN;\n  craftEscrowIndex: BN;\n  classIndex: BN;\n}): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(ITEM_PREFIX),\n      args.itemClassMint.toBuffer(),\n      args.classIndex.toBuffer(\"le\", 8),\n      args.newItemMint.toBuffer(),\n      args.craftEscrowIndex.toBuffer(\"le\", 8),\n      args.craftItemIndex.toBuffer(\"le\", 8),\n      args.craftItemMint.toBuffer(),\n      Buffer.from(args.componentScope),\n    ],\n    ITEM_ID\n  );\n};\n\nexport const getCraftItemEscrow = async (args: {\n  itemClassMint: web3.PublicKey;\n  payer: web3.PublicKey;\n  newItemMint: web3.PublicKey;\n  craftItemToken: web3.PublicKey;\n  craftItemMint: web3.PublicKey;\n  amountToMake: BN;\n  amountToContributeFromThisContributor: BN;\n  componentScope: String;\n  craftIndex: BN;\n  classIndex: BN;\n  craftEscrowIndex: BN;\n}): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(ITEM_PREFIX),\n      args.itemClassMint.toBuffer(),\n      args.classIndex.toBuffer(\"le\", 8),\n      args.payer.toBuffer(),\n      args.newItemMint.toBuffer(),\n      args.craftItemToken.toBuffer(),\n      args.craftEscrowIndex.toBuffer(\"le\", 8),\n      args.craftIndex.toBuffer(\"le\", 8),\n      args.craftItemMint.toBuffer(),\n      args.amountToMake.toBuffer(\"le\", 8),\n      args.amountToContributeFromThisContributor.toBuffer(\"le\", 8),\n      Buffer.from(args.componentScope),\n    ],\n    ITEM_ID\n  );\n};\n\nexport const getItemEscrow = async (args: {\n  itemClassMint: web3.PublicKey;\n  payer: web3.PublicKey;\n  newItemMint: web3.PublicKey;\n  newItemToken: web3.PublicKey;\n  amountToMake: BN;\n  componentScope: String;\n  craftEscrowIndex: BN;\n  classIndex: BN;\n}): Promise<[web3.PublicKey, number]> => {\n  return await web3.PublicKey.findProgramAddress(\n    [\n      Buffer.from(ITEM_PREFIX),\n      args.itemClassMint.toBuffer(),\n      args.classIndex.toBuffer(\"le\", 8),\n      args.payer.toBuffer(),\n      args.newItemMint.toBuffer(),\n      args.newItemToken.toBuffer(),\n      args.craftEscrowIndex.toBuffer(\"le\", 8),\n      args.amountToMake.toBuffer(\"le\", 8),\n      Buffer.from(args.componentScope),\n    ],\n    ITEM_ID\n  );\n};\n\nexport const getMetadata = async (\n  mint: web3.PublicKey\n): Promise<web3.PublicKey> => {\n  return (\n    await web3.PublicKey.findProgramAddress(\n      [\n        Buffer.from(\"metadata\"),\n        TOKEN_METADATA_PROGRAM_ID.toBuffer(),\n        mint.toBuffer(),\n      ],\n      TOKEN_METADATA_PROGRAM_ID\n    )\n  )[0];\n};\n\nexport const getEdition = async (\n  mint: web3.PublicKey\n): Promise<web3.PublicKey> => {\n  return (\n    await web3.PublicKey.findProgramAddress(\n      [\n        Buffer.from(\"metadata\"),\n        TOKEN_METADATA_PROGRAM_ID.toBuffer(),\n        mint.toBuffer(),\n        Buffer.from(\"edition\"),\n      ],\n      TOKEN_METADATA_PROGRAM_ID\n    )\n  )[0];\n};\n","import {\n  Keypair,\n  Commitment,\n  Connection,\n  RpcResponseAndContext,\n  SignatureStatus,\n  SimulatedTransactionResponse,\n  Transaction,\n  TransactionInstruction,\n  TransactionSignature,\n  Blockhash,\n  FeeCalculator,\n} from '@solana/web3.js';\n\nimport { WalletNotConnectedError } from '@solana/wallet-adapter-base';\n\ninterface BlockhashAndFeeCalculator {\n  blockhash: Blockhash;\n  feeCalculator: FeeCalculator;\n}\n\nexport const DEFAULT_TIMEOUT = 60000;\n\nexport const getErrorForTransaction = async (\n    connection: Connection,\n    txid: string,\n) => {\n  // wait for all confirmation before geting transaction\n  await connection.confirmTransaction(txid, 'max');\n\n  const tx = await connection.getParsedConfirmedTransaction(txid);\n\n  const errors: string[] = [];\n  if (tx?.meta && tx.meta.logMessages) {\n    tx.meta.logMessages.forEach(log => {\n      const regex = /Error: (.*)/gm;\n      let m;\n      while ((m = regex.exec(log)) !== null) {\n        // This is necessary to avoid infinite loops with zero-width matches\n        if (m.index === regex.lastIndex) {\n          regex.lastIndex++;\n        }\n\n        if (m.length > 1) {\n          errors.push(m[1]);\n        }\n      }\n    });\n  }\n\n  return errors;\n};\n\nexport enum SequenceType {\n  Sequential,\n  Parallel,\n  StopOnFailure,\n}\n\nexport async function sendTransactionsWithManualRetry(\n    connection: Connection,\n    wallet: any,\n    instructions: TransactionInstruction[][],\n    signers: Keypair[][],\n): Promise<(string | undefined)[]> {\n  let stopPoint = 0;\n  let tries = 0;\n  let lastInstructionsLength = null;\n  let toRemoveSigners: Record<number, boolean> = {};\n  instructions = instructions.filter((instr, i) => {\n    if (instr.length > 0) {\n      return true;\n    } else {\n      toRemoveSigners[i] = true;\n      return false;\n    }\n  });\n  let ids: string[] = [];\n  let filteredSigners = signers.filter((_, i) => !toRemoveSigners[i]);\n\n  while (stopPoint < instructions.length && tries < 3) {\n    instructions = instructions.slice(stopPoint, instructions.length);\n    filteredSigners = filteredSigners.slice(stopPoint, filteredSigners.length);\n\n    if (instructions.length === lastInstructionsLength) tries = tries + 1;\n    else tries = 0;\n\n    try {\n      if (instructions.length === 1) {\n        const id = await sendTransactionWithRetry(\n            connection,\n            wallet,\n            instructions[0],\n            filteredSigners[0],\n            'single',\n        );\n        ids.push(id.txid);\n        stopPoint = 1;\n      } else {\n        const { txs } = await sendTransactions(\n            connection,\n            wallet,\n            instructions,\n            filteredSigners,\n            SequenceType.StopOnFailure,\n            'single',\n        );\n        ids = ids.concat(txs.map(t => t.txid));\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    console.log(\n        'Died on ',\n        stopPoint,\n        'retrying from instruction',\n        instructions[stopPoint],\n        'instructions length is',\n        instructions.length,\n    );\n    lastInstructionsLength = instructions.length;\n  }\n\n  return ids;\n}\n\nexport const sendTransactions = async (\n    connection: Connection,\n    wallet: any,\n    instructionSet: TransactionInstruction[][],\n    signersSet: Keypair[][],\n    sequenceType: SequenceType = SequenceType.Parallel,\n    commitment: Commitment = 'singleGossip',\n    successCallback: (txid: string, ind: number) => void = (txid, ind) => {},\n    failCallback: (reason: string, ind: number) => boolean = (txid, ind) => false,\n    block?: BlockhashAndFeeCalculator,\n    beforeTransactions: Transaction[] = [],\n    afterTransactions: Transaction[] = [],\n): Promise<{ number: number; txs: { txid: string; slot: number }[] }> => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n\n  const unsignedTxns: Transaction[] = beforeTransactions;\n\n  if (!block) {\n    block = await connection.getRecentBlockhash(commitment);\n  }\n\n  for (let i = 0; i < instructionSet.length; i++) {\n    const instructions = instructionSet[i];\n    const signers = signersSet[i];\n\n    if (instructions.length === 0) {\n      continue;\n    }\n\n    let transaction = new Transaction();\n    instructions.forEach(instruction => transaction.add(instruction));\n    transaction.recentBlockhash = block.blockhash;\n    transaction.setSigners(\n        // fee payed by the wallet owner\n        wallet.publicKey,\n        ...signers.map(s => s.publicKey),\n    );\n\n    if (signers.length > 0) {\n      transaction.partialSign(...signers);\n    }\n\n    unsignedTxns.push(transaction);\n  }\n  unsignedTxns.push(...afterTransactions);\n\n  const partiallySignedTransactions = unsignedTxns.filter(t =>\n      t.signatures.find(sig => sig.publicKey.equals(wallet.publicKey)),\n  );\n  const fullySignedTransactions = unsignedTxns.filter(\n      t => !t.signatures.find(sig => sig.publicKey.equals(wallet.publicKey)),\n  );\n  let signedTxns = await wallet.signAllTransactions(\n      partiallySignedTransactions,\n  );\n  signedTxns = fullySignedTransactions.concat(signedTxns);\n  const pendingTxns: Promise<{ txid: string; slot: number }>[] = [];\n\n  console.log(\n      'Signed txns length',\n      signedTxns.length,\n      'vs handed in length',\n      instructionSet.length,\n  );\n  for (let i = 0; i < signedTxns.length; i++) {\n    const signedTxnPromise = sendSignedTransaction({\n      connection,\n      signedTransaction: signedTxns[i],\n    });\n\n    if (sequenceType !== SequenceType.Parallel) {\n      try {\n        await signedTxnPromise.then(({ txid, slot }) =>\n            successCallback(txid, i),\n        );\n        pendingTxns.push(signedTxnPromise);\n      } catch (e) {\n        console.log('Failed at txn index:', i);\n        console.log('Caught failure:', e);\n\n        failCallback(signedTxns[i], i);\n        if (sequenceType === SequenceType.StopOnFailure) {\n          return {\n            number: i,\n            txs: await Promise.all(pendingTxns),\n          };\n        }\n      }\n    } else {\n      pendingTxns.push(signedTxnPromise);\n    }\n  }\n\n  if (sequenceType !== SequenceType.Parallel) {\n    const result = await Promise.all(pendingTxns);\n    return { number: signedTxns.length, txs: result };\n  }\n\n  return { number: signedTxns.length, txs: await Promise.all(pendingTxns) };\n};\n\nexport const sendTransaction = async (\n    connection: Connection,\n    wallet: any,\n    instructions: TransactionInstruction[] | Transaction,\n    signers: Keypair[],\n    awaitConfirmation = true,\n    commitment: Commitment = 'singleGossip',\n    includesFeePayer: boolean = false,\n    block?: BlockhashAndFeeCalculator,\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n\n  let transaction: Transaction;\n  if (instructions instanceof Transaction) {\n    transaction = instructions;\n  } else {\n    transaction = new Transaction();\n    instructions.forEach(instruction => transaction.add(instruction));\n    transaction.recentBlockhash = (\n        block || (await connection.getRecentBlockhash(commitment))\n    ).blockhash;\n\n    if (includesFeePayer) {\n      transaction.setSigners(...signers.map(s => s.publicKey));\n    } else {\n      transaction.setSigners(\n          // fee payed by the wallet owner\n          wallet.publicKey,\n          ...signers.map(s => s.publicKey),\n      );\n    }\n\n    if (signers.length > 0) {\n      transaction.partialSign(...signers);\n    }\n    if (!includesFeePayer) {\n      transaction = await wallet.signTransaction(transaction);\n    }\n  }\n\n  const rawTransaction = transaction.serialize();\n  let options = {\n    skipPreflight: true,\n    commitment,\n  };\n\n  const txid = await connection.sendRawTransaction(rawTransaction, options);\n  let slot = 0;\n\n  if (awaitConfirmation) {\n    const confirmation = await awaitTransactionSignatureConfirmation(\n        txid,\n        DEFAULT_TIMEOUT,\n        connection,\n        commitment,\n    );\n\n    if (!confirmation)\n      throw new Error('Timed out awaiting confirmation on transaction');\n    slot = confirmation?.slot || 0;\n\n    if (confirmation?.err) {\n      const errors = await getErrorForTransaction(connection, txid);\n\n      console.log(errors);\n      throw new Error(`Raw transaction ${txid} failed`);\n    }\n  }\n\n  return { txid, slot };\n};\n\nexport const sendTransactionWithRetry = async (\n    connection: Connection,\n    wallet: any,\n    instructions: TransactionInstruction[],\n    signers: Keypair[],\n    commitment: Commitment = 'singleGossip',\n    includesFeePayer: boolean = false,\n    block?: BlockhashAndFeeCalculator,\n    beforeSend?: () => void,\n) => {\n  if (!wallet.publicKey) throw new WalletNotConnectedError();\n\n  let transaction = new Transaction();\n  instructions.forEach(instruction => transaction.add(instruction));\n  transaction.recentBlockhash = (\n      block || (await connection.getRecentBlockhash(commitment))\n  ).blockhash;\n\n  if (includesFeePayer) {\n    transaction.setSigners(...signers.map(s => s.publicKey));\n  } else {\n    transaction.setSigners(\n        // fee payed by the wallet owner\n        wallet.publicKey,\n        ...signers.map(s => s.publicKey),\n    );\n  }\n\n  if (signers.length > 0) {\n    transaction.partialSign(...signers);\n  }\n  if (!includesFeePayer) {\n    transaction = await wallet.signTransaction(transaction);\n  }\n\n  if (beforeSend) {\n    beforeSend();\n  }\n\n  const { txid, slot } = await sendSignedTransaction({\n    connection,\n    signedTransaction: transaction,\n  });\n\n  return { txid, slot };\n};\n\nexport const getUnixTs = () => {\n  return new Date().getTime() / 1000;\n};\n\nexport async function sendSignedTransaction({\n                                              signedTransaction,\n                                              connection,\n                                              timeout = DEFAULT_TIMEOUT,\n                                            }: {\n  signedTransaction: Transaction;\n  connection: Connection;\n  sendingMessage?: string;\n  sentMessage?: string;\n  successMessage?: string;\n  timeout?: number;\n}): Promise<{ txid: string; slot: number }> {\n  const rawTransaction = signedTransaction.serialize();\n\n  const startTime = getUnixTs();\n  let slot = 0;\n  const txid: TransactionSignature = await connection.sendRawTransaction(\n      rawTransaction,\n      {\n        skipPreflight: true,\n      },\n  );\n\n  console.log('Started awaiting confirmation for', txid);\n\n  let done = false;\n  (async () => {\n    while (!done && getUnixTs() - startTime < timeout) {\n      connection.sendRawTransaction(rawTransaction, {\n        skipPreflight: true,\n      });\n      await sleep(500);\n    }\n  })();\n  try {\n    const confirmation = await awaitTransactionSignatureConfirmation(\n        txid,\n        timeout,\n        connection,\n        'recent',\n        true,\n    );\n\n    if (!confirmation)\n      throw new Error('Timed out awaiting confirmation on transaction');\n\n    if (confirmation.err) {\n      console.error(confirmation.err);\n      throw new Error('Transaction failed: Custom instruction error');\n    }\n\n    slot = confirmation?.slot || 0;\n  } catch (err: any) {\n    console.error('Timeout Error caught', err);\n    if (err.timeout) {\n      throw new Error('Timed out awaiting confirmation on transaction');\n    }\n    let simulateResult: SimulatedTransactionResponse | null = null;\n    try {\n      simulateResult = (\n          await simulateTransaction(connection, signedTransaction, 'single')\n      ).value;\n    } catch (e) {}\n    if (simulateResult && simulateResult.err) {\n      if (simulateResult.logs) {\n        for (let i = simulateResult.logs.length - 1; i >= 0; --i) {\n          const line = simulateResult.logs[i];\n          if (line.startsWith('Program log: ')) {\n            throw new Error(\n                'Transaction failed: ' + line.slice('Program log: '.length),\n            );\n          }\n        }\n      }\n      throw new Error(JSON.stringify(simulateResult.err));\n    }\n    // throw new Error('Transaction failed');\n  } finally {\n    done = true;\n  }\n\n  console.log('Latency', txid, getUnixTs() - startTime);\n  return { txid, slot };\n}\n\nasync function simulateTransaction(\n    connection: Connection,\n    transaction: Transaction,\n    commitment: Commitment,\n): Promise<RpcResponseAndContext<SimulatedTransactionResponse>> {\n  // @ts-ignore\n  transaction.recentBlockhash = await connection._recentBlockhash(\n      // @ts-ignore\n      connection._disableBlockhashCaching,\n  );\n\n  const signData = transaction.serializeMessage();\n  // @ts-ignore\n  const wireTransaction = transaction._serialize(signData);\n  const encodedTransaction = wireTransaction.toString('base64');\n  const config: any = { encoding: 'base64', commitment };\n  const args = [encodedTransaction, config];\n\n  // @ts-ignore\n  const res = await connection._rpcRequest('simulateTransaction', args);\n  if (res.error) {\n    throw new Error('failed to simulate transaction: ' + res.error.message);\n  }\n  return res.result;\n}\n\nasync function awaitTransactionSignatureConfirmation(\n    txid: TransactionSignature,\n    timeout: number,\n    connection: Connection,\n    commitment: Commitment = 'recent',\n    queryStatus = false,\n): Promise<SignatureStatus | null | void> {\n  let done = false;\n  let status: SignatureStatus | null | void = {\n    slot: 0,\n    confirmations: 0,\n    err: null,\n  };\n  let subId = 0;\n  status = await new Promise(async (resolve, reject) => {\n    setTimeout(() => {\n      if (done) {\n        return;\n      }\n      done = true;\n      console.log('Rejecting for timeout...');\n      reject({ timeout: true });\n    }, timeout);\n    try {\n      subId = connection.onSignature(\n          txid,\n          (result, context) => {\n            done = true;\n            status = {\n              err: result.err,\n              slot: context.slot,\n              confirmations: 0,\n            };\n            if (result.err) {\n              console.log('Rejected via websocket', result.err);\n              reject(status);\n            } else {\n              console.log('Resolved via websocket', result);\n              resolve(status);\n            }\n          },\n          commitment,\n      );\n    } catch (e) {\n      done = true;\n      console.error('WS error in setup', txid, e);\n    }\n    while (!done && queryStatus) {\n      // eslint-disable-next-line no-loop-func\n      (async () => {\n        try {\n          const signatureStatuses = await connection.getSignatureStatuses([\n            txid,\n          ]);\n          status = signatureStatuses && signatureStatuses.value[0];\n          if (!done) {\n            if (!status) {\n              console.log('REST null result for', txid, status);\n            } else if (status.err) {\n              console.log('REST error for', txid, status);\n              done = true;\n              reject(status.err);\n            } else if (!status.confirmations) {\n              console.log('REST no confirmations for', txid, status);\n            } else {\n              console.log('REST confirmation for', txid, status);\n              done = true;\n              resolve(status);\n            }\n          }\n        } catch (e) {\n          if (!done) {\n            console.log('REST connection error: txid', txid, e);\n          }\n        }\n      })();\n      await sleep(2000);\n    }\n  });\n\n  //@ts-ignore\n  if (connection._signatureSubscriptions[subId])\n    connection.removeSignatureListener(subId);\n  done = true;\n  console.log('Returning status', status);\n  return status;\n}\nexport function sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n","export const PREFIX: string = \"item\";\nexport const MARKER: string = \"marker\";\n"],"sourceRoot":""}